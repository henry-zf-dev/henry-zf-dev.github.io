{"meta":{"title":"HenryV2è¿›é˜¶ä¸­â€¦","subtitle":"","description":"","author":"John Doe","url":"http://yoursite.com","root":"/"},"pages":[{"title":"å…³äº","date":"2020-05-08T10:40:26.940Z","updated":"2020-01-25T10:13:40.861Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":""},{"title":"åˆ†ç±»","date":"2020-01-22T12:48:22.000Z","updated":"2020-02-01T11:56:49.689Z","comments":false,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"é¡¹ç›®","date":"2020-05-08T10:40:26.941Z","updated":"2020-01-25T10:13:40.851Z","comments":true,"path":"project/index.html","permalink":"http://yoursite.com/project/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2020-05-08T10:40:26.941Z","updated":"2020-01-25T10:13:40.863Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"äº’è”ç½‘æœ¬è´¨çš„ä¸€ç‚¹è®¨è®º","slug":"thinking/20200306","date":"2020-03-06T12:47:46.087Z","updated":"2020-03-06T12:47:46.087Z","comments":true,"path":"2020/03/06/thinking/20200306/","link":"","permalink":"http://yoursite.com/2020/03/06/thinking/20200306/","excerpt":"","text":"ä»Šå¤© Jerry è¯·æˆ‘åƒéº¦å½“åŠ³ï¼Œé¡ºä¾¿é™ªä»–å»å……ç”µæ¡©å……ç”µï¼Œè·¯ä¸Šä¸€èµ·è®¨è®ºäº†äº’è”ç½‘æœ¬è´¨çš„ä¸€äº›ä¸œè¥¿ï¼Œæ„Ÿè§‰ Jerry æ€»ç»“çš„å¾ˆæœ‰é“ç†ï¼Œæˆ‘å‡†å¤‡è®°å½•ä¸€ä¸‹ï¼Œå¸Œæœ›ä»¥åè‡ªå·±ä¹Ÿèƒ½å¯¹ä¸€äº›äº‹ç‰©åšå‡ºè‡ªå·±çš„åˆ¤æ–­ äº’è”ç½‘æœ¬è´¨è®¨è®ºçš„ä¸‰ä¸ªç»“è®º å®¢æˆ·ï¼šç›¸å¯¹ä¸æ˜¯å¾ˆå¯Œè£•çš„äººç¾¤ æœåŠ¡ï¼šè®©ç›¸å¯¹é«˜è´¨é‡çš„æœåŠ¡å»‰ä»·åŒ– æˆæœ¬ï¼šç”¨ç©ºé—´æˆæœ¬æ¢æ—¶é—´æˆæœ¬ ä¾‹å­ï¼šäº’è”ç½‘å¥èº«æˆ¿å’Œä¼ ç»Ÿå¥èº«æˆ¿çš„åŒºåˆ« ä¼ ç»Ÿå¥èº«æˆ¿ç›ˆåˆ©ä¸»è¦é çš„æ˜¯å‰æœŸä¼šå‘˜åŠ å…¥çš„ä¼šå‘˜å¡è´¹ï¼Œä»¥åŠä¼šå‘˜è´­ä¹°ç§æ•™æˆè¯¾çš„è´¹ç”¨ï¼Œå…¶ä¸­ä¼šå‘˜å¡è´¹ä¸€èˆ¬æ˜¯ä¸€æ¬¡æ€§ä»˜å®Œï¼Œç§æ•™è¯¾åˆ™æŒ‰ç…§è¯¾æ—¶æ”¶è´¹ã€‚è€Œä¸”ç›¸å¯¹ç§æ•™è¯¾ç¨‹ï¼Œä¼šå‘˜è´¹è¦ä½å¾ˆå¤šï¼Œå¸‚é¢ä¸Šæ™®é€šå¥èº«æˆ¿ä¸€å¹´çš„ä¼šå‘˜å¡è´¹å¤§æ¦‚åœ¨1500-3000ä¹‹é—´ï¼Œè€Œä¸€èŠ‚ç§æ•™è´¹å°±åœ¨300~700ä¹‹é—´ï¼ˆå’ŒåŸå¸‚/åœ°æ®µæœ‰å…³ï¼‰ã€‚è€Œä¸ºä»€ä¹ˆç§æ•™è¯¾å¾ˆè´µï¼Œå…ˆä¸çœ‹ç§æ•™è€å¸ˆæœ¬èº«çš„ä¸“ä¸šæ€§ã€å£ç¢‘ç­‰ä»·å€¼ï¼Œæœ‰ä¸€ä¸ªæœ¬è´¨åŸå› æ˜¯ï¼šç§æ•™æˆè¯¾è¿‡ç¨‹ä¸­ï¼Œä»–çš„æ—¶é—´åªèƒ½è¢«ä¸€ä¸ªæˆ–è€…å°‘é‡çš„äººæ‰€å ç”¨ï¼Œå…¶æ—¶é—´æˆæœ¬æ˜¯å¾ˆé«˜çš„ã€‚è€ŒåŒæ—¶æ•™æˆçš„äººè¶Šå¤šï¼Œæ¯ä¸ªäººæ‰€åˆ†æ‹…çš„è´¹ç”¨ä¹Ÿä¼šç›¸å¯¹æ›´å°‘ã€‚ å¦ä¸€æ–¹é¢ï¼Œä¼ ç»Ÿå¥èº«æˆ¿çš„ç§æ•™çš„ä¸»è¦æ”¶å…¥ä¹Ÿä¾èµ–äºä»–æ‰€åœ¨å¥èº«æˆ¿çš„å®¢æºï¼Œæ‰€ä»¥å…¶ä»·å€¼åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ˜¯è¢«é™åˆ¶çš„ã€‚è€Œè¯¸å¦‚è¶…çº§çŒ©çŒ©è¿™ç±»äº’è”ç½‘å¥èº«æˆ¿ï¼Œç”±äº’è”ç½‘æä¾›çš„å¹³å°ï¼Œè®©æ›´å¤šçš„äººä¸éœ€è¦åŠå¥èº«æˆ¿çš„ä¼šå‘˜å¡ï¼Œå°±èƒ½æœ‰æœºä¼šæ¥è§¦åˆ°æ›´å¤šçš„ä¼˜ç§€ç§æ•™ã€‚ç›¸å¯¹çš„ï¼Œç§æ•™ä¹Ÿä¸ä¼šå—é™äºä»–æ‰€åœ¨å¥èº«æˆ¿çš„å›ºå®šåœˆå­ï¼Œèƒ½æœ‰æ›´å¤šçš„æœºä¼šæˆè¯¾ã€‚åŒæ—¶æŠ¥åç§æ•™è¯¾çš„äººæ‰€è¦åˆ†æ‹…çš„è´¹ç”¨ä¹Ÿä¼šè¢«å¹³å‡ä¸‹æ¥ï¼Œå˜å¾—æ›´ä½ï¼Œè€Œä¸”ä¹Ÿä¸ç”¨åŠé•¿å‘¨æœŸçš„ä¼šå‘˜å¡ç»‘å®šæ¶ˆè´¹ï¼Œæ‰€æœ‰ä»–ä»¬è¦æ‰¿æ‹…çš„é£é™©å˜å°ï¼Œä½¿å¾—æ›´å¤šçš„äººæ¥å—è¿™ç§æ¨¡å¼ã€‚ äº’è”ç½‘è®©åŸæœ¬ç›¸å¯¹é«˜è´¨é‡çš„ç§æ•™å¥èº«æœåŠ¡ï¼Œå˜å¾—å»‰ä»·ï¼Œè®©åŸæœ¬æ²¡æœ‰å¤ªå¥½ç»æµåŸºç¡€çš„äººä¹Ÿèƒ½äº«å—åˆ°ï¼Œå³ä½¿è¿™ç§æ¨¡å¼ä¸‹çš„å¥èº«ç§æ•™æœåŠ¡ç›¸å¯¹äºä¼ ç»Ÿçš„ä¸€å¯¹ä¸€æœåŠ¡ï¼Œä¼šæ‰“æŠ˜æ‰£ï¼Œä½†å¯¹äºå¾ˆå¤šäººæ¥è®²ï¼Œè¿™å·²ç»æ»¡è¶³ä»–ä»¬çš„éœ€æ±‚äº†ã€‚è€Œå¯¹äºç»æµåŸºç¡€å¾ˆå¥½çš„äººï¼Œæ¯”å¦‚ä¸€äº›æ˜æ˜Ÿï¼Œè‚¯å®šå°±ä¸ä¼šæ¥å—è¿™ç§æ¨¡å¼ï¼Œä»–ä»¬è¿½æ±‚çš„å°±æ˜¯æ›´ä¸“ä¸šï¼Œæ›´é«˜è´¨é‡ï¼Œé•¿æœŸä¸”ç¨³å®šçš„æœåŠ¡ï¼Œå¯¹æˆæœ¬çš„é¡¾è™‘ä¸åœ¨ä»–ä»¬è€ƒé‡çš„ç¬¬ä¸€ä½ã€‚ æœ€åå¸Œæœ›è‡ªå·±æ…¢æ…¢å˜æˆä¸€ä¸ªæœ‰æ€æƒ³çš„äººï¼Œå“ˆå“ˆ","categories":[],"tags":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"http://yoursite.com/tags/%E9%9A%8F%E6%83%B3/"}]},{"title":"æ˜¥èŠ‚éšæƒ³","slug":"thinking/20200125","date":"2020-03-06T12:41:00.665Z","updated":"2020-03-06T12:41:00.665Z","comments":true,"path":"2020/03/06/thinking/20200125/","link":"","permalink":"http://yoursite.com/2020/03/06/thinking/20200125/","excerpt":"","text":"ä»Šå¹´å› ä¸ºæ­¦æ±‰è‚ºç‚çš„åŸå› ï¼Œæ²¡æœ‰å›å®¶è¿‡å¹´ï¼Œåˆä¸€æ¬¡é”™å¤±äº†å’Œå®¶äººåƒå›¢åœ†é¥­çš„æœºä¼šï¼Œä½†æ˜¯æœ‰å¤±ä¹Ÿæœ‰å¾—ï¼Œæˆ‘æŠŠæ˜¥èŠ‚æœŸé—´è‡ªå·±çš„æ‰€è§æ‰€æƒ³è®°å½•åœ¨è¿™é‡Œï¼Œè¿™äº›éƒ½æ˜¯è‡ªå·±çš„æ”¶è·ã€‚ å³°å“¥å®¶çš„å›¢åœ†é¥­ç®—æ¥è¿™æ˜¯ç¬¬äºŒæ¬¡åœ¨å³°å“¥å®¶åƒå¹´é¥­ï¼Œå› ä¸ºéƒ½æ˜¯æ¹–åŒ—äººï¼Œé¥­èœéƒ½å¾ˆåˆèƒƒå£ã€‚é¥­æ¡Œä¸Šå³°å“¥å’Œæˆ‘è®²äº†å¾ˆå¤šæ¯”è¾ƒæŠ½è±¡çš„ä¸œè¥¿ï¼Œè¿˜æ˜¯å‘æ¥çš„é£æ ¼ï¼Œå“ˆå“ˆã€‚ä¸€äº›é“ç†æˆ‘å¯ä»¥ç†è§£ï¼Œä½†ä¸€äº›æ›´æ·±çš„ä¸œè¥¿ï¼Œç°é˜¶æ®µçš„æˆ‘è¿˜æ— æ³•çœŸæ­£æœ‰æ‰€ä½“ä¼šï¼Œé˜…å†ä¸å¤Ÿï¼Œæ€æƒ³é«˜åº¦ä¹Ÿè¾¾ä¸åˆ°ï¼Œä¹Ÿè®¸å¯ä»¥é€šè¿‡å¤šçœ‹ä¹¦æ¥æ…¢æ…¢è¡¥ä¸Šå§ã€‚æ€»ä¹‹ï¼Œå¸Œæœ›è‡ªå·±åœ¨æŠ€-&gt;æœ¯-&gt;é€š-&gt;é“çš„è·¯ä¸Šè¶Šèµ°è¶Šå¥½å§ã€‚ å’ŒJerryåœ¨å…¬å›­æ¼«æ­¥ä»Šå¤©çœ‹æœ›äº†Kimå§å’Œâ€™å°æœ±æœ±â€™ï¼Œå°å®è´ç¡ç›¸å¾ˆå¯çˆ±ï¼Œå“ˆå“ˆã€‚åƒå®Œåˆé¥­å°±å’ŒJerryè¿˜æœ‰Jerryè€çˆ¸è€å¦ˆåœ¨é™„è¿‘çš„å…¬å›­è½¬äº†å¥½å¤§ä¸€åœˆã€‚ä¸€è·¯ä¸Šä¸»è¦å’ŒJerryèŠäº†ä¸å°‘ï¼Œä»¥ä¸‹æ˜¯å¯¹èŠå¤©å†…å®¹çš„è®°å½•å’Œæ€»ç»“ã€‚ åŸå¸‚è§„åˆ’å’Œè½¯ä»¶äº§å“å¼€å‘çš„è”ç³»ä¸ç®¡æ˜¯å“ªä¸ªåŸå¸‚ï¼Œåœ¨å»ºè®¾å‘å±•ä¸­ï¼Œä¸å¯é¿å…åœ°ä¼šç»å†è§„åˆ’ã€å»ºè®¾ã€æ”¹é€ ã€é‡å»ºç­‰è¿‡ç¨‹ï¼Œæ·±åœ³è¿™åº§å‘è¾¾åˆå¹´è½»çš„åŸå¸‚ä¹Ÿä¸ä¾‹å¤–ã€‚å°±æ‹¿ç¦»æˆ‘å¾ˆè¿‘çš„å¤§æ²™æ²³æ°´è´¨æ²»ç†ä¸ºä¾‹ï¼Œæ·±åœ³åˆ°å¤„éƒ½èƒ½çœ‹åˆ°å¯¹è€æ—§æ¥¼å®‡ã€åŸºç¡€å…¬å…±è®¾æ–½çš„ç¿»æ–°æˆ–è€…é‡å»ºï¼ŒåŸå¸‚ç®¡ç†è€…å¯¹åŸå¸‚è§„åˆ’çš„ç†è§£ä¼šéšç€æ—¶ä»£å˜è¿è€Œå˜åŒ–ï¼Œä¹Ÿè®¸è¿™ä¸ªå˜è¿åªéœ€è¦çŸ­çŸ­å‡ å¹´ã€‚è€Œè½¯ä»¶äº§å“çš„å¼€å‘ä¹Ÿæ˜¯ä¸€æ ·ï¼Œåœ¨æœ€å¼€å§‹ï¼Œæ²¡æœ‰äººèƒ½å¤Ÿå®Œå…¨è§„åˆ’å¥½æ‰€æœ‰çš„ä¸œè¥¿ï¼Œåªèƒ½åœ¨å½“å‰æœ‰é™çš„æ—¶é—´ã€æˆæœ¬ã€å¼€å‘äººå‘˜èƒ½åŠ›çš„å‰æä¸‹ï¼Œåšåˆ°æœ€å¥½ã€‚è€Œéšç€è¿­ä»£çš„è¿›è¡Œï¼Œå®¢æˆ·éœ€æ±‚çš„ç´¯è®¡æˆ–å˜æ›´ï¼Œä¸€å®šä¼šæš´éœ²è¶Šæ¥è¶Šå¤šçš„é—®é¢˜ï¼Œä»£ç çš„ç»´æŠ¤æ€§ã€æ‰©å±•æ€§ã€å¤ç”¨æ€§ã€æ€§èƒ½ã€å®‰å…¨ç­‰ç­‰ï¼Œå°±åƒæˆ¿å­ç¿»æ–°å’Œé‡å»ºï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å¯¹ä»£ç åšä¼˜åŒ–ç”šè‡³é‡æ„ã€‚è€Œè¿™ä¹Ÿä¸€æ ·éœ€è¦è€ƒè™‘å½“å‰æƒ…å†µä¸‹çš„æ—¶é—´ã€æˆæœ¬ä»¥åŠå¼€å‘äººå‘˜èƒ½åŠ›ï¼Œäº§å“è¿­ä»£æœ¬èº«å°±æ˜¯ä¸ªåŠ¨æ€çš„è¿‡ç¨‹ï¼ŒæŠŠæ¡ä½ä¸€ç§åŠ¨æ€å¹³è¡¡å¯èƒ½å°±æ˜¯ç®¡ç†çš„ä¸€éƒ¨åˆ†å§ã€‚ å¯¹äº§å“å¼€å‘å’Œå®¢æˆ·éœ€æ±‚æ‚–è®ºçš„æ€è€ƒé¦–å…ˆé—­é—¨é€ è½¦åœ°å¼€å‘äº§å“è‚¯å®šæ˜¯æ— æ³•ç»å—æ—¶é—´å’Œå®è·µè€ƒéªŒçš„ï¼Œè¿™ä¸ªæ¯‹åº¸ç½®ç–‘ã€‚æˆ‘ä»¬éœ€è¦å®¢æˆ·åœ¨éœ€æ±‚è¾“å…¥ç«¯çš„ä¸æ–­inputï¼Œä½†æ˜¯åœ¨äº§å“å‰æœŸï¼Œå¾€å¾€å®¢æˆ·å¹¶æ²¡æœ‰æƒ³æ¸…æ¥šè¦ä»€ä¹ˆï¼ŒçœŸæ­£çš„ç—›ç‚¹æè¿°ä¸å¤Ÿå‡†ç¡®ï¼Œè€Œä¸”å®¢æˆ·éœ€æ±‚è½¬åŒ–æˆäº§å“éœ€æ±‚ï¼Œå†åˆ°æŠ€æœ¯éœ€æ±‚ï¼Œåˆ°æœ€ç»ˆå®ç°ï¼Œè¿™ä¸ªæµç¨‹ä¸­ï¼Œæœ€åèƒ½äº§ç”Ÿä»€ä¹ˆç¨‹åº¦çš„outputï¼Œå¾€å¾€ä¼šå’Œé¢„æœŸå­˜åœ¨åå·®ã€‚æˆ‘æƒ³è¿™ä¸ªåå·®ä¹Ÿæ˜¯ä¸€ä¸ªç®¡ç†è€…éœ€è¦æ—¶åˆ»å…³æ³¨çš„ï¼Œå¯¹åå·®è¿›è¡Œåˆ†æï¼Œæ‰¾åˆ°äº§ç”Ÿçš„åŸå› ï¼Œå¹¶ä¸”æœ‰ä¼˜å…ˆçº§åœ°è¿›è¡Œè°ƒæ•´ï¼Œé€šè¿‡ä¸æ–­åœ°è¿­ä»£ï¼Œäº§å“æ‰èƒ½é€æ¸è¿åˆè¶Šæ¥è¶Šå¤šå®¢æˆ·çš„éœ€æ±‚ï¼Œè§£å†³å®¢æˆ·çš„é—®é¢˜ã€‚ å¯¹ezCloudäº§å“å®šä½çš„ç†è§£æˆ‘çš„ç†è§£æ˜¯ï¼Œäº§å“å†…åœ¨ä»·å€¼ï¼Œæ˜¯é€šè¿‡è½¯ä»¶æœåŠ¡ï¼Œè§£å†³å®¢æˆ·åœ¨ä¼šè®®å®¤åœºæ™¯ä¸‹ä¼šè®®å®¤çš„æ§ã€ç®¡ã€ç»´ã€ç”¨ç›¸å…³çš„é—®é¢˜ï¼Œé™ä½å®¢æˆ·æˆæœ¬ã€‚ç„¶ååŸºäºå†…åœ¨ä»·å€¼ï¼Œä¿ƒè¿›å…¬å¸è‡ªç ”è®¾å¤‡å’Œä»£ç†è®¾å¤‡çš„æ¨å¹¿å’Œé”€å”®ã€‚ç„¶è€Œå¯¹äºç¬¬äºŒç‚¹ï¼Œæˆ‘ä»¥å‰çš„ç†è§£æ˜¯ï¼Œæœ‰äº†ezCloudè½¯ä»¶ä¸Šçš„æ”¯æŒï¼Œè‚¯å®šä¼šæé«˜å…¬å¸ç¡¬ä»¶äº§å“çš„é”€å”®ï¼Œä½†æ˜¯å°±ç›®å‰è€Œè¨€ï¼Œå…¶å®ezCloudåªæ˜¯ä¸€ä¸ªåŠ åˆ†é¡¹è€Œå·²ï¼Œè€Œä¸”åœ¨æ•´å¥—è§£å†³æ–¹æ¡ˆä¸­å æ¯”å¾ˆå°‘ï¼Œæ˜¯å……åˆ†ä¸å¿…è¦æ¡ä»¶ã€‚ezCloudåœ¨é¡¹ç›®ä¸­çš„è¿­ä»£æ‰“ç£¨ä¼šè®©å®ƒè¶Šæ¥è¶Šèƒ½ç¬¦åˆæ›´å¤šå®¢æˆ·çš„éœ€æ±‚ï¼Œä½†æ˜¯è¿™ä¸ªæœ¬èº«ä¸ä¼šç›´æ¥å¢åŠ ç¡¬ä»¶çš„é”€å”®ã€‚è¯¥å¦‚ä½•ç ´é¢˜ï¼Œå°±éœ€è¦è®¾å¤‡åº“ã€åˆ†æ§ã€æ€»æ§å’Œå…¶ä»–è‡ªç ”ç¡¬ä»¶ï¼Œåœ¨è‡ªæ£€ã€è”æ£€ã€å‘Šè­¦æ ¸å¿ƒä¸šåŠ¡æ–¹å‘ä¸Šï¼Œç›¸äº’é…åˆï¼Œä¸€æ­¥æ­¥å®Œå–„ï¼Œèƒ½çœŸæ­£è§£å†³å®¢æˆ·é—®é¢˜äº†ã€‚æˆ‘ä»¬ç°åœ¨åªèƒ½é€‚é…åˆ«äººçš„è®¾å¤‡ï¼Œç­‰å®¢æˆ·å¤šèµ·æ¥ï¼Œé€šè¿‡æˆ‘ä»¬å’Œå®¢æˆ·çš„æ¨åŠ¨ï¼Œå¸¦åŠ¨å…¶ä»–ä»£ç†å‚å•†å¯¹æˆ‘ä»¬è¿›è¡Œé€‚é…ï¼Œè¿™æ ·ezCloudçš„å½±å“åŠ›æ‰èƒ½é€æ¸æå‡ï¼Œä»·å€¼ä¹Ÿä¼šé€æ¸ä½“ç°ã€‚ç°é˜¶æ®µï¼ŒezCloudäº§å“è¿˜åœ¨å¾ˆåˆæœŸçš„é˜¶æ®µï¼Œè®¾å¤‡åº“ã€åˆ†æ§ã€æ€»æ§ä¹Ÿè¿˜æœ‰å¾ˆå¤šä¸è¶³ï¼Œæˆ‘ä»¬è‡ªç ”ç¡¬ä»¶ä¹Ÿè¿˜åªæ˜¯å¤„åœ¨OEMçš„é˜¶æ®µï¼Œæ€»ä¹‹çœŸçš„è¿˜ä»»é‡é“è¿œã€‚ é²¶é±¼æ•ˆåº”é²¶é±¼æ•ˆåº”æ˜¯æŒ‡é²¶é±¼åœ¨æ…åŠ¨å°é±¼ç”Ÿå­˜ç¯å¢ƒçš„åŒæ—¶ï¼Œä¹Ÿæ¿€æ´»äº†å°é±¼çš„æ±‚ç”Ÿèƒ½åŠ›ã€‚é²¶é±¼æ•ˆåº”æ˜¯é‡‡å–ä¸€ç§æ‰‹æ®µæˆ–æªæ–½ï¼Œåˆºæ¿€ä¸€äº›ä¼ä¸šæ´»è·ƒèµ·æ¥æŠ•å…¥åˆ°å¸‚åœºä¸­ç§¯æå‚ä¸ç«äº‰ï¼Œä»è€Œæ¿€æ´»å¸‚åœºä¸­çš„åŒè¡Œä¸šä¼ä¸šã€‚è€Œåœ¨ä¸€ä¸ªå›¢é˜Ÿä¸­ï¼Œé€šè¿‡å°æ•°ä¸»åŠ¨çš„äººè¡ŒåŠ¨ä¸Šçš„æ­£å‘åˆºæ¿€ï¼Œæ½œç§»é»˜åŒ–åœ°å¸¦åŠ¨å…¶ä»–ç›¸å¯¹è¢«åŠ¨çš„äººï¼Œä¸ç®¡æ˜¯å¯¹ä¸ªäººè¿˜æ˜¯å¯¹å›¢é˜Ÿï¼Œéƒ½èƒ½å‘ç€æ›´å¥½çš„æ–¹å‘å‘å±•ã€‚ä½†æ˜¯æˆ‘å­˜åœ¨ä¸€ä¸ªç–‘é—®ï¼Œå¯¹äºç›¸å¯¹è¢«åŠ¨çš„å‘˜å·¥æ¥è¯´ï¼Œé‚£äº›ç§¯æä¸»åŠ¨å‘˜å·¥çš„ä½œä¸ºæˆ–è€…å­˜åœ¨ï¼Œæ˜¯ä¸æ˜¯æœ¬èº«å°±æ˜¯ä¸€ç§å¨èƒæˆ–è€…è¯´åˆ©ç›Šå†²çªï¼Œæ¯•ç«Ÿé²¶é±¼å¯¹äºå…¶ä»–å°é±¼æ¥è¯´æ˜¯æ•é£Ÿè€…å’Œè¢«æ•é£Ÿè€…çš„å…³ç³»ã€‚æˆ‘è‡ªå·±å·¥ä½œç»å†æœ‰é™ï¼Œè¿˜æ²¡é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼Œä½†å¦‚æœä¸€ä¸ªå›¢é˜ŸçœŸçš„å‡ºç°è¿™ç§æƒ…å†µï¼Œé‚£è‚¯å®šæ˜¯æœ‰é—®é¢˜çš„ã€‚ç„¶åå¦‚æœæˆ‘æ˜¯é‚£æ¡é²¶é±¼ï¼Œè¯¥æ€ä¹ˆåšå¥½å‘¢ï¼Ÿæ€ä¹ˆèƒ½åœ¨ä»–äººä¸æŠµè§¦çš„å‰æä¸‹ï¼Œæ­£å‘åœ°å½±å“æ›´å¤šçš„äººå‘¢ï¼Ÿå¦‚ä½•æå‡æ€ç»´çš„æŸ”åº¦ï¼Œæ˜¯éœ€è¦è‡ªå·±æ…¢æ…¢æ€è€ƒçš„ä¸œè¥¿ã€‚ é¥­æ¡Œä¸Šçš„ç•…è°ˆä¸­åˆå¾ˆæœ‰å¹¸å’ŒJerryå’ŒJerryè€çˆ¸è€å¦ˆä¸€èµ·åƒé¥­ã€‚Jerryè€çˆ¸æ˜¯ä¸ªå¾ˆå¥è°ˆçš„äººï¼Œæ—¢æœ‰åŒ—æ–¹äººçš„è±ªçˆ½ï¼Œåˆæœ‰å—æ–¹äººçš„ç»†è‡´ï¼Œç»™äººç¬¬ä¸€å°è±¡æ˜¯ï¼Œä¸€ä½çŸ¥è¯†æ¸Šåšè€Œåˆç•…è°ˆçš„è€å…ˆç”Ÿã€‚Jerryå¦ˆå¦ˆç»™äººå°è±¡å°±æ˜¯çŸ¥æ€§ï¼Œç¨³é‡ï¼Œåˆå¹³æ˜“è¿‘äººï¼Œç»™äººä¸€ç§å®‰å…¨æ„Ÿï¼Œè™½ç„¶è¨€è¯­ä¸å¤šï¼Œä½†è®©äººè§‰å¾—å¾ˆäº²åˆ‡ã€‚Jerryçš„è€çˆ¸è€å¦ˆéƒ½å¾ˆå‰å®³ï¼Œä»¤äººæ•¬ä½©ï¼Œä¸çŸ¥é“Jerryæœ‰è¿™ä¹ˆä¼˜ç§€çš„çˆ¸å¦ˆï¼Œä¼šä¸ä¼šè§‰å¾—å‹åŠ›å¾ˆå¤§ï¼Œå“ˆå“ˆã€‚å’ŒJerryè€çˆ¸çš„èŠå¤©è¿‡ç¨‹ä¸­ï¼Œæˆ‘è§‰å¾—æœ‰ä¸¤ç‚¹æˆ‘éœ€è¦åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹ï¼Œä¸€ä¸ªæ˜¯å¦‚æœæœ‰èƒ½åŠ›ï¼Œå¸®äººè¦å¸®åˆ°ç‚¹ä¸Šï¼Œå°æ©å°æƒ æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œé›ªä¸­é€ç‚­æ‰æœ‰æ„ä¹‰ã€‚æˆ‘æƒ³åˆ°çš„æ˜¯ï¼Œä»¥æˆ‘ç°åœ¨çš„èƒ½åŠ›ï¼Œèƒ½å¤Ÿå¸®åŠ©ä»–äººå¸®åˆ°ç‚¹ä¸Šå—ï¼Œç„¶åé•¿ä¹…ä»¥æ¥ï¼Œæœ‰å“ªäº›äººä¸ºæˆ‘é›ªä¸­é€è¿‡ç‚­å‘¢ï¼Œéœ€è¦æˆ‘è®°ä½å¿ƒé‡Œã€‚ç¬¬äºŒç‚¹å°±æ˜¯ï¼Œäººæ˜¯å¾ˆå¤æ‚çš„ï¼Œçœ‹äººéœ€è¦çœ‹å¤šé¢ï¼Œè€Œä¸”è¦çœ‹å¤šæ¬¡ï¼Œæˆ‘è§‰å¾—å¾ˆæœ‰é“ç†ã€‚ ä¸€ç‚¹æ€»ç»“åœ¨å›å®¶çš„è·¯ä¸Šï¼Œæˆ‘æƒ³äº†ä¸€ä¸ªå¾ˆç®€å•å°±èƒ½é—®å‡ºæ¥çš„é—®é¢˜ï¼šJerryä¸ºä»€ä¹ˆè¦å’Œæˆ‘è¯´è¿™ä¹ˆå¤šä¸œè¥¿å‘¢ï¼Ÿæˆ‘ç»™è‡ªå·±çš„ç­”æ¡ˆï¼šå¸Œæœ›æˆ‘èƒ½æœ‰æ‰€å›åº”ï¼Œä¸ç®¡æ˜¯æŠ€æœ¯ä¸Šè¿˜æ˜¯ç®¡ç†ä¸Šï¼ˆæˆ‘è§‰å¾—Jerryæ›´å…³å¿ƒçš„æ˜¯æˆ‘åœ¨ç®¡ç†æ–¹å‘çš„èƒ½åŠ›å‘å±•ï¼‰ã€‚ä½†æˆ‘ç°åœ¨å›åº”çš„è¿˜ä¸å¤Ÿå¥½ï¼Œè¿™æ®µæ—¶é—´è‡ªå·±æ¸æ¸ç¬ƒå®šçš„èŒä¸šå‘å±•è§„åˆ’ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µæ˜¯å¦æ˜¯æœ€ä¼˜çš„é€‰æ‹©ï¼Ÿæˆ–è€…è¯´ï¼Œæˆ‘è¯¥åœ¨æŠ€æœ¯å’Œç®¡ç†ä¸¤æ–¹é¢æ‰¾åˆ°å¹³è¡¡ï¼Ÿç„¶åJerryå¯¹Cuzzé—®çš„ä¸‰ä¸ªé—®é¢˜ï¼šæƒ³è¦ä»€ä¹ˆï¼Ÿæƒ³æˆä¸ºä»€ä¹ˆï¼Ÿå¦‚ä½•è¾¾åˆ°ï¼Ÿæˆ‘æƒ³ä¹Ÿæ˜¯é—®ç»™æˆ‘çš„ã€‚è¿™äº›ä¹Ÿéƒ½æ˜¯è¦è‡ªå·±ç¢ç£¨çš„é—®é¢˜â€¦â€¦ ä»å°ç”Ÿæ´»æ­¦æ±‰ï¼Œä½†ä¸€ç›´ä»¥æ¥å¯¹æ­¦æ±‰å°è±¡éƒ½ä¸å¤ªå¥½ï¼Œè™½ç„¶å®¶å°±åœ¨é‚£ï¼Œå´æ€»è§‰å¾—å¯¹æ­¦æ±‰æ²¡ä»€ä¹ˆæ„Ÿæƒ…ï¼Œè¿™ä¹Ÿè®¸æ˜¯æˆ‘ä¸€ç›´å­¦ä¸ä¼šæ­¦æ±‰è¯çš„åŸå› å§ã€‚ä»Šå¤©å¬åˆ°Jerryè€çˆ¸ä¸€å£åœ°é“çš„æ­¦æ±‰è¯ï¼Œæˆ‘çš„ç¬¬ä¸€æ„Ÿè§‰å´æ˜¯æ— æ¯”çš„äº²åˆ‡å’Œæ€€å¿µã€‚äººçœŸæ˜¯ç§å¤æ‚çš„ç”Ÿç‰©ã€‚","categories":[],"tags":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"http://yoursite.com/tags/%E9%9A%8F%E6%83%B3/"}]},{"title":"Vue æ ¸å¿ƒ API å­¦ä¹ ç¬”è®°","slug":"tech/vue/vue-core-api","date":"2020-03-05T13:54:30.430Z","updated":"2020-03-05T13:54:30.431Z","comments":true,"path":"2020/03/05/tech/vue/vue-core-api/","link":"","permalink":"http://yoursite.com/2020/03/05/tech/vue/vue-core-api/","excerpt":"","text":"Demo åœ°å€ï¼šVue è¿›é˜¶å­¦ä¹  1. Vue å®ä¾‹å®ä¾‹ï¼šå¯¹æŸä¸ªç±»ï¼Œé€šè¿‡ new ClassA() åˆå§‹åŒ–è€Œæ¥çš„å¯¹è±¡ï¼Œå«åšå®ä¾‹ã€‚å¯¹è±¡åˆå§‹åŒ–å‚è€ƒ åˆå§‹åŒ–å¯¹è±¡çš„å‡ ç§æ–¹å¼ 1234const app = new Vue(&#123; el: '#root', template: '&lt;div&gt;This is content&lt;/div&gt;'&#125;); é€šè¿‡ new Vue(options) åˆå§‹åŒ–çš„ Vue å®ä¾‹ï¼Œæœ€ç»ˆä¼šé€šè¿‡ render function å°† template çš„å†…å®¹æŒ‚è½½åˆ° #root æ ¹èŠ‚ç‚¹ä¸Šï¼Œåœ¨é¡µé¢ä¸­å±•ç¤ºï¼Œè€Œä¸”æŒ‚è½½çš„æ–¹å¼æ˜¯ä½¿ç”¨ template render ç”Ÿæˆçš„æ–°èŠ‚ç‚¹ï¼Œæ›¿æ¢æ‰ æŒ‡å®šçš„ #root èŠ‚ç‚¹ï¼Œæ­£å¼è¿™ä¸ªåŸå› ï¼Œå¦‚æœåœ¨ template ä¸­å­˜åœ¨å¤šä¸ªæ ¹èŠ‚ç‚¹ï¼ŒVue ä¼šæŠ¥ä¸€ä¸ªè­¦å‘Šï¼š æ³¨ï¼šå¦‚æœ options ä¼ å…¥äº† templateï¼Œåˆ™å°† template ç¼–è¯‘åˆ° render å‡½æ•°ä¸­å»ï¼Œå¦åˆ™ä¼šå°† el å¤–éƒ¨çš„ html ä½œä¸º template è¿›è¡Œç¼–è¯‘ [Vue warn]: Error compiling template:Component template should contain exactly one root element. If you are using v-if on multiple elements, use v-else-if to chain them instead. å› ä¸º Vue ä¸çŸ¥é“ç”¨å“ªä¸ªèŠ‚ç‚¹æ›¿æ¢æŒ‡å®šçš„æ ¹èŠ‚ç‚¹ã€‚ ä¸ä»…ä»…å¯ä»¥é€šè¿‡ options.el æŒ‡å®šè¦æŒ‚è½½çš„æ ¹èŠ‚ç‚¹ï¼Œè¿˜å¯ä»¥æ‰‹åŠ¨è¿›è¡ŒæŒ‚è½½ï¼š 1app.$mount('#root'); åœ¨ webpack é…ç½®ä¸­ï¼Œé€šè¿‡æ’ä»¶ï¼Œå¯ä»¥æŒ‡å®šä»¥æŸä¸ªæ–‡ä»¶ä¸ºæ¨¡æ¿ï¼Œç”Ÿæˆæœ€ç»ˆçš„ html é¡µé¢ï¼š 123new HTMLPlugin(&#123; template: path.join(__dirname, 'index.html')&#125;); åˆå§‹åŒ– Vue ä¼ å…¥çš„ options ä¼šä¸é»˜è®¤çš„åˆå§‹åŒ–å‚æ•°ç»“åˆèµ·æ¥ï¼Œæœ€ç»ˆäº§ç”Ÿ Vue å®ä¾‹ï¼Œè€Œä¸” options ä¸­çš„å±æ€§å¯ä»¥é€šè¿‡ app.$[attr] è®¿é—®ï¼Œå¦‚ï¼š app.$elã€app.$rootã€app.$optionsã€app.$dataã€app.$propsã€app.$childrenã€app.$refsã€app.$slots ç­‰ç­‰ app.$el æ˜¯å¯¹æœ€ç»ˆæŒ‚è½½ç”Ÿæˆ html èŠ‚ç‚¹çš„å¼•ç”¨ app.$root æ˜¯æ•´ä¸ª Vue æ ‘çŠ¶ç»“æ„çš„æ ¹èŠ‚ç‚¹ï¼Œä¹Ÿæ˜¯ Vue å®ä¾‹ï¼Œæ˜¯å¯¹ app çš„å¼•ç”¨ï¼Œå³ï¼šapp.$root === app app.$options æ˜¯åˆå§‹åŒ– Vue å®ä¾‹æ‰€æœ‰çš„å‚æ•°ï¼Œ$options ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°è¯¸å¦‚ dataã€propsã€watch ç­‰å±æ€§ï¼Œä½†ä¸æ˜¯å¯¹ app.$[attr] çš„å¼•ç”¨ï¼Œæ‰€ä»¥å¦‚æœæ›´æ”¹ app.$options.data çš„å€¼ï¼Œé¡µé¢æ˜¯ä¸ä¼šå“åº”å¼å˜åŒ–çš„ï¼Œç›´æ¥æ›´æ”¹ app.$data æ‰æœ‰æ•ˆ app.$data å®šä¹‰åœ¨ data å¯¹è±¡ä¸­çš„å±æ€§ï¼ŒVue ä¼šå¤åˆ¶ä¸€ä»½å¼•ç”¨åˆ° app å±‚ï¼Œå³ app.[attr] å’Œ app.$data[attr] è®¿é—®åˆ°çš„æ˜¯åŒä¸€ä»½åœ°å€ï¼Œ å®šä¹‰åœ¨æ‰“ data ä¸­çš„å…¨å±€å±æ€§ï¼Œå¦‚æœä¸å¯¹å±æ€§è¿›è¡Œå­—é¢é‡å£°æ˜ï¼Œåˆ™åœ¨ Vue åˆå§‹åŒ–å®Œæˆä¹‹åï¼Œç»™ data å¯¹è±¡å¢åŠ å±æ€§ï¼Œæˆ–ä¿®æ”¹å±æ€§å€¼ï¼ŒVue ä¸ä¼šå¯¹è¿™ä¸ªå¯¹è±¡åšå“åº”å¼å¤„ç†ï¼Œæ‰€ä»¥å³ä½¿è¯¥å¯¹è±¡çš„å±æ€§å€¼å˜åŒ–äº†ï¼Œä¹Ÿä¸ä¼šå“åº”å¼åœ°é‡æ–°æ¸²æŸ“ ä½†å¯ä»¥é€šè¿‡ $set æ–¹æ³•ç»™åœ¨åˆå§‹åŒ–å®Œæˆä¹‹åå†ç»™ data å¢åŠ æˆ–ä¿®æ”¹å±æ€§ï¼Œè€Œä¸”ä¹Ÿæ˜¯å“åº”å¼çš„ 1app.$set(app.obj, 'a', 'foo'); å¦å¤–ï¼Œä¹Ÿåˆ é™¤æŸä¸ªå±æ€§ï¼ŒåŒæ—¶ä¼šè§£é™¤å¯¹è¯¥å±æ€§çš„å“åº”å¼å¤„ç† 1app.$delete(app.obj, 'a'); å¼ºåˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ä¸€æ¬¡ï¼Œä¹Ÿå¯ä»¥åœ¨æ²¡æœ‰å­—é¢é‡å®šä¹‰ data å±æ€§æ—¶ï¼Œé¡µé¢é‡æ–°æ¸²æŸ“ï¼ˆå°½é‡ä¸ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼‰ 1app.$forceUpdate(); app.$refs ç”¨äºå¿«é€Ÿå®šä½åˆ°æ¨¡æ¿çš„æŸä¸ª html èŠ‚ç‚¹ï¼Œæˆ–æŸä¸ªç»„ä»¶å®ä¾‹ app.$isServer ç”¨äºæœåŠ¡ç«¯æ¸²æŸ“åˆ¤æ–­ app.$watch ä¸€ä¸‹å†™æ³•å’Œåœ¨ options ä¸­å®šä¹‰ watch éƒ½å¯ä»¥ç›‘å¬åˆ° foo çš„å˜åŒ–ï¼š 1234const unWatch = app.$watch('foo', (newVal, oldVal) =&gt; &#123; console.log('newVal: ', newVal); console.log('oldVal: ', oldVal);&#125;) åŒºåˆ«åœ¨äºï¼Œé€šè¿‡ app.$watch å®šä¹‰ï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œé”€æ¯ï¼ˆæ¯”å¦‚è·¯ç”±è·³è½¬åï¼‰ï¼Œè¯¥æ–¹æ³•å›è°ƒä¸€ä¸ª unWatch æ–¹æ³•ï¼Œç”¨äºæ‰‹åŠ¨å›æ”¶ï¼š 1unWatch(); è€Œå®šä¹‰åœ¨ options ä¸­ï¼ŒVue ä¼šè‡ªåŠ¨å›æ”¶é”€æ¯ app.$on app.$emit app.$once app.$on å’Œ app.$emit éƒ½åªèƒ½åŒæ—¶ä½œç”¨äºä¸€ä¸ª Vue å¯¹è±¡ï¼Œæ‰ä¼šç”Ÿæ•ˆï¼ŒVue å¯¹è±¡ app ç›‘å¬äº† test äº‹ä»¶ï¼Œé‚£ä¹ˆå¿…é¡»ç”±å¯¹è±¡ app è‡ªå·±è§¦å‘äº‹ä»¶ testï¼Œæ‰ä¼šè¢«ç›‘å¬åˆ°ï¼Œè€Œä¸”ä¸ä¼šåƒ dom äº‹ä»¶ä¸€æ ·å†’æ³¡ 1234app.$on('test', (a, b) =&gt; &#123; console.log('$on test emitted: ', a, b);&#125;);app.$emit('test', 1, 2); app.$once åªä¼šè§¦å‘ä¸€æ¬¡ 123app.$once('test', (a, b) =&gt; &#123; console.log('$once test emitted', a, b);&#125;) 2. Vue çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³• beforeCreate å’Œ created beforeCreateã€created æ–¹æ³•åœ¨ new Vue(options) çš„è¿‡ç¨‹ä¸­ä¸€å®šä¼šè¢«æ‰§è¡Œï¼Œè€Œä¸” beforeCreateã€created ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸä¸­éƒ½ä¸èƒ½è¿›è¡Œ dom æ“ä½œï¼Œå› ä¸ºè¿™æ—¶ Vue è¿˜æ²¡æœ‰ç”Ÿæˆæœ€ç»ˆçš„æ ¹èŠ‚ç‚¹ï¼Œä¸€èˆ¬æ“ä½œ dom ç›¸å…³çš„åŠ¨ä½œï¼Œè¦æ”¾åœ¨ mounted ä¸­ã€‚æ“ä½œæ•°æ®ç›¸å…³çš„åŠ¨ä½œä¸€èˆ¬æ”¾åœ¨ created ä¸­ï¼Œä½†ä¸è¦æ”¾åœ¨ beforeCreate ä¸­ï¼Œå› ä¸º beforeCreate è¿˜æ²¡æœ‰è¿›è¡Œæ•°æ®çš„ reactive å“åº”å¼ç›¸å…³çš„åˆå§‹åŒ– beforeMount å’Œ mounted mounted ä¹‹åä¼šæŠŠå½“å‰ Vue ç”Ÿæˆçš„ html æŒ‚è½½åˆ° dom ä¸Šï¼Œå³ï¼šæŠŠç”Ÿæˆçš„ html æŠŠ &lt;div id=&quot;root&quot;&gt;&lt;/div&gt; æ›¿æ¢æ‰ã€‚å¦‚æœåœ¨ options ä¸­ä¸æŒ‡å®š elï¼Œåˆ™ä¸ä¼šæ‰§è¡Œ beforeMountã€mountedã€‚åœ¨ mounted ä¹‹åï¼Œæ‰€æœ‰ç”Ÿå‘½å‘¨æœŸä¸­æ‹¿åˆ°çš„æ ¹èŠ‚ç‚¹ï¼Œéƒ½æ˜¯ mounted ä¹‹åäº§ç”Ÿçš„èŠ‚ç‚¹ beforeCreateã€createdã€beforeMountã€mounted åœ¨æ•´ä¸ªç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¸­åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œè€Œä¸” beforeMountã€mounted åœ¨æœåŠ¡ç«¯æ¸²æŸ“ä¸­ä¸ä¼šè¢«è°ƒç”¨ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸéƒ½å’Œæ“ä½œ dom æœ‰å…³ beforeUpdate å’Œ updated åªè¦å“åº”å¼å¤„ç†è¿‡çš„æ•°æ®æœ‰å˜åŒ–ï¼Œé¡µé¢å°±ä¼šå“åº”é‡æ–°æ¸²æŸ“ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•ä¹Ÿéƒ½ä¼šè¢«é‡å¤è°ƒç”¨ activated å’Œ deactivated ä¸ç»„ä»¶çš„ keep-alive ç›¸å…³ beforeDestroy å’Œ destroyed beforeDestroy ä¸­ä¼šè§£é™¤æ‰€æœ‰äº‹ä»¶ç›‘å¬ä»¥åŠæ‰€æœ‰çš„ watch ç›‘å¬ render render æ–¹æ³•ç¬¬ä¸€æ¬¡å°†åœ¨ beforeMount å’Œ mounted ä¹‹é—´æ‰§è¡Œï¼Œä¹‹åéƒ½å°†åœ¨ beforeUpdate å’Œ updated ä¹‹é—´æ‰§è¡Œ renderError åªæœ‰åœ¨å¼€å‘ç¯å¢ƒæ‰ä¼šè§¦å‘ï¼Œå¹¶ä¸”åªèƒ½ç”¨äºå½“å‰ç»„ä»¶ï¼Œå®ƒçš„å­ç»„ä»¶çš„é”™è¯¯æ— æ³•æ•è·åˆ° errorCaptured ä¸ç®¡æ˜¯å¼€å‘ç¯å¢ƒè¿˜æ˜¯æ­£å¼ç¯å¢ƒï¼Œåªè¦æ•è·åˆ°å½“å‰ç»„ä»¶ï¼Œæˆ–è€…å®ƒçš„å­ç»„ä»¶æ¸²æŸ“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œéƒ½ä¼šè§¦å‘ï¼Œé™¤éå­ç»„ä»¶é˜»æ­¢äº†äº‹ä»¶å†’æ³¡ 3. Vue çš„æ•°æ®ç»‘å®š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253import Vue from 'vue';var globalVar = '111'; // eslint-disable-linenew Vue(&#123; el: '#root', template: ` &lt;div :id=\"id\" :class=\"activeClass\" @click=\"handleClick\"&gt; &lt;div :class=\"&#123;active: isActive&#125;\"&gt; æ¨¡æ¿ä¸­åªèƒ½åšç”¨ä¸€è¡Œè¯­å¥å°±èƒ½æœ‰ç»“æœçš„è¡¨è¾¾å¼ &#123;&#123;isActive ? \"active\" : \"not active\"&#125;&#125; &lt;/div&gt; &lt;div :class=\"[&#123;active: isActive&#125;, inactiveClass]\"&gt; æ¨¡æ¿ä¸­å¯ä»¥è®¿é—® Vue é»˜è®¤çš„å…¨å±€å˜é‡ç™½åå•ï¼Œä½†è‡ªå·±å®šä¹‰çš„å…¨å±€å˜é‡ä¸èƒ½è®¿é—®ï¼ˆå¦‚ globalVarï¼‰ &#123;&#123;Date.now()&#125;&#125; &lt;/div&gt; &lt;div :style=\"[activeStyle, inactiveStyle]\"&gt; å¯¹ data ä¸­å®šä¹‰çš„ HTMLï¼ŒVue ä¼šè‡ªåŠ¨è¿›è¡Œè½¬ç§»æˆçº¯çš„å­—ç¬¦ä¸²ï¼Œä¸ºäº†é˜²æ­¢æ³¨å…¥æ”»å‡» è¦ä»¥ v-html æ–¹å¼ä½¿ç”¨ &lt;div v-html=\"html\"&gt;&lt;/div&gt; &lt;div&gt;&#123;&#123;getJoinedArr(arr)&#125;&#125;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; `, data: &#123; id: 'aaa', activeClass: 'active', inactiveClass: 'inactive', activeStyle: &#123; color: 'red', // Vue ä¼šç»™éœ€è¦åŠ å‰ç¼€çš„æ ·å¼å±æ€§åè‡ªåŠ¨åŠ ä¸Šå‰ç¼€ // è¯¥å±æ€§ç”¨äºæ¶ˆé™¤æµè§ˆé»˜è®¤æ ·å¼ appearance: 'none' &#125;, inactiveStyle: &#123; // html ä¸­æ‰€å†™æ ·å¼çš„ '-' åˆ†éš”ç¬¦æ ¼å¼è½¬åŒ–æˆé©¼å³°æ ¼å¼ fontSize: '15px' &#125;, isActive: true, arr: [1, 2, 3], html: '&lt;span&gt;123&lt;/span&gt;' &#125;, methods: &#123; handleClick () &#123; console.log('##### handleClick #####'); &#125;, // å»ºè®®è¿™ç§æƒ…å†µä½¿ç”¨ computedï¼Œ // å› ä¸º computed ä¼šå…ˆåˆ¤æ–­æ•°æ®æºæ˜¯å¦æœ‰å˜åŒ–ï¼Œå†æ¥æ¸²æŸ“é¡µé¢ï¼Œæ•ˆç‡ä¼šæ›´é«˜ getJoinedArr (arr = []) &#123; return arr.join('ã€'); &#125; &#125;&#125;); 4. computed å’Œ watch computed: å®šä¹‰åœ¨ computed ä¸­çš„æ–¹æ³•ï¼Œå¯ä»¥åƒè®¿é—®å˜é‡çš„å±æ€§ä¸€æ ·å»è°ƒç”¨ï¼Œè¿™æ˜¯å› ä¸º Vue ä¼šå¯¹ fullName å£°æ˜ get å’Œ set æ–¹æ³•ï¼Œå¹¶ä¸”ä¼šå¯¹è®¡ç®—çš„ç»“æœåšç¼“å­˜ï¼Œåªæœ‰å½“ computed ä¸­æ‰€ä¾èµ–çš„å“åº”å¼å˜é‡ï¼ˆå³ï¼šfirstName æˆ– lastNameï¼‰å‘ç”Ÿå˜åŒ–ï¼Œæ‰ä¼šé‡æ–°è®¡ç®—ã€‚è€Œå¦‚æœæ˜¯åœ¨ methods ä¸­åšåŒæ ·çš„é€»è¾‘è®¡ç®—ï¼Œé‚£ä¹ˆåªè¦ data æˆ–è€… props ä¸­ä»»ä½•ä¸€ä¸ªå±æ€§æœ‰å˜åŒ–ï¼Œéƒ½ä¼šé‡æ–°æ¸²æŸ“é¡µé¢ï¼Œä»è€Œé‡æ–°è°ƒç”¨ methods ä¸­çš„æ–¹æ³•ã€‚æ‰€æœ‰å®šä¹‰åœ¨ computed ä¸­æ€§èƒ½æ¶ˆè€—ä¼šæ›´å°ï¼Œç‰¹åˆ«æ˜¯è®¡ç®—çš„é€»è¾‘å¾ˆå¤æ‚çš„æƒ…å†µ 12345const computed = &#123; fullName () &#123; return `$&#123;this.firstName&#125; $&#123;this.lastName&#125;`; &#125;&#125;; ä¹Ÿå¯ä»¥é€šè¿‡æ˜¾ç¤ºåœ°å®šä¹‰ get å’Œ set æ–¹æ³•æ¥å®šä¹‰ computed get: è·å– fullName çš„å€¼æ—¶ä¼šåšå“ªäº›è®¡ç®—set: ç»™ fullName èµ‹å€¼æ—¶ä¼šåšå“ªäº›è®¡ç®—ã€‚ä¸å»ºè®®ä½¿ç”¨ setï¼Œå› ä¸ºå°†å¤šä¸ªå€¼é€šè¿‡è®¡ç®—ç»„è£…æˆä¸€ä¸ªå€¼å¾ˆç®€å•ï¼Œä½†æŠŠä¸€ä¸ªå€¼æ‹†è§£æˆå¤šä¸ªå€¼æ˜¯å¾ˆéº»çƒ¦çš„ï¼Œè€Œä¸”å¾ˆå®¹æ˜“å‡ºé—®é¢˜ï¼Œé€ æˆæ­»å¾ªç¯ 123456789101112const computed = &#123; fullName: &#123; get () &#123; return `$&#123;this.firstName&#125; $&#123;this.lastName&#125;`; &#125;, set (val) &#123; const names = val.split(' '); this.firstName = names[0]; this.lastName = names[1]; &#125; &#125;&#125;; watch: watch ä¸­å¯ä»¥å¯¹ data props computed ä¸­çš„å“åº”å¼å˜é‡è¿›è¡Œç›‘å¬ï¼Œåªè¦å…¶å‘ç”Ÿå˜åŒ–ï¼Œå°±æ‰§è¡Œä¸€äº›é€»è¾‘å¤„ç† åªæœ‰å½“ data.age å‘ç”Ÿå˜åŒ–æ‰ä¼šæ‰§è¡Œ age æ–¹æ³•ä¸­çš„é€»è¾‘ 12345const watch = &#123; age (newVal, oldVal) &#123; this.notYoung = newVal &gt;= 30; &#125;&#125; ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®šä¹‰ watchï¼š immediateï¼šè¡¨ç¤ºæ˜¯å¦ç«‹å³æ‰§è¡Œ ä½œç”¨ï¼šå¦‚æœ age çš„åˆå§‹å€¼æœ¬èº«å·²ç»å¤§äº 30ï¼Œé‚£ä¹ˆæŒ‰ç…§ä¸Šé¢ğŸ‘†çš„å½¢å¼å®šä¹‰ watchï¼Œç¬¬ä¸€æ¬¡ handler æ–¹æ³•æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œåªæœ‰å½“ age å†æ¬¡å‘ç”Ÿå˜åŒ–æ‰ä¼šæ‰§è¡Œï¼Œè€Œ immediate å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ 12345678const watch = &#123; age: &#123; handler (newVal, oldVal) &#123; this.notYoung = newVal &gt;= 30; &#125;, immediate: true &#125;&#125;; deepï¼šæ·±åº¦è§‚å¯Ÿ ä½œç”¨ï¼šå¦‚æœ other æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆåªæ˜¯ä¿®æ”¹ other ä¸­å±æ€§çš„å€¼ï¼Œè€Œä¸æ˜¯ç›´æ¥ç»™ other é‡æ–°èµ‹å€¼ï¼Œé‚£ä¹ˆæŒ‰ç…§ä¸Šé¢ğŸ‘†çš„å½¢å¼å®šä¹‰ watchï¼Œhandle æ–¹æ³•ä¹Ÿæ˜¯ä¸ä¼šæ‰§è¡Œçš„ã€‚ä½†å¦‚æœè®¾ç½® deep: trueï¼Œé‚£ä¹ˆ other ä¸ç®¡å“ªä¸ªå±æ€§å˜åŒ–ï¼Œhandle æ–¹æ³•éƒ½ä¼šæ‰§è¡Œ åŸç†ï¼šVue ä¼šé€å±‚éå† other æ‰€æœ‰çš„å±æ€§ï¼Œå¹¶ä¸ºæ¯ä¸ªå±æ€§å¢åŠ ä¸€ä¸ªå“åº”å¼ç›‘å¬ï¼Œæ‰€æœ‰åªè¦ other ä»»ä½•å±‚çº§çš„ä»»ä½•å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œéƒ½ä¼šæ‰§è¡Œ handle æ–¹æ³• 12345678const watch = &#123; other: &#123; handler (newVal, oldVal) &#123; console.log('other changed'); &#125;, deep: true &#125;&#125;; ä½†è¿™ç§å†™æ³•å¯¹æ€§èƒ½å¼€é”€è¾ƒå¤§ï¼Œå»ºè®®ä½¿ç”¨ä»¥ä¸‹ğŸ‘‡å†™æ³• 12345const watch = &#123; 'other.hobby' () &#123; console.log('other.hobby changed'); &#125;&#125;; 5. Vue çš„åŸç”ŸæŒ‡ä»¤123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596import Vue from 'vue';new Vue(&#123; el: '#root', template: ` &lt;div&gt; &lt;div&gt;&#123;&#123;text&#125;&#125;&lt;/div&gt; &lt;div v-text=\"text\"&gt;aaa&lt;/div&gt; &lt;div v-html=\"html\"&gt;aaa&lt;/div&gt; &lt;div&gt;ç±»ä¼¼äº dom çš„ innerText å’Œ innerHtml&lt;/div&gt; &lt;br/&gt; &lt;div v-pre&gt;å°†å†…å®¹å½“åšçº¯æ–‡æœ¬æ˜¾ç¤º: &#123;&#123;text&#125;&#125;&lt;/div&gt; &lt;br/&gt; &lt;div v-once=\"text\"&gt; &lt;div&gt;æ•°æ®ç»‘å®šçš„å†…å®¹åªæ‰§è¡Œä¸€æ¬¡ï¼Œä¹‹åæ•°æ®å˜åŒ–åä¹Ÿä¸ä¼šéšä¹‹å˜åŒ–ï¼Œ&lt;/div&gt; &lt;div&gt;ç”¨å¤„ï¼šå±•ç¤ºé™æ€å†…å®¹æ—¶ï¼Œé€šè¿‡å£°æ˜ v-once å‡å°‘æ€§èƒ½å¼€é”€ï¼Œ&lt;/div&gt; &lt;div&gt;v-once ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ï¼ŒVue éƒ½ä¸ä¼šå°†å…¶å’Œè™šæ‹Ÿ dom è¿›è¡Œæ£€æµ‹å¯¹æ¯”ï¼Œä»è€Œå‡å°‘é‡æ–°æ¸²æŸ“çš„å¼€é”€ã€‚&lt;/div&gt; &lt;/div&gt; &lt;br/&gt; &lt;div v-show=\"active\"&gt;æ ¹æ® show çš„å€¼ï¼Œç»™ div å¢åŠ  display çš„æ ·å¼&lt;/div&gt; &lt;div v-if=\"active\"&gt;æ ¹æ® show çš„å€¼ï¼Œå†³å®šæ˜¯å¦æŠŠ div æ·»åŠ åˆ° dom æµä¸­&lt;/div&gt; &lt;div v-else&gt;else content&lt;/div&gt; &lt;div&gt;å¦‚æœåªæ˜¯å•çº¯æƒ³æ§åˆ¶å…ƒç´ çš„æ˜¾ç¤ºå’Œéšè—ï¼Œé‚£ä¹ˆæœ€å¥½ä½¿ç”¨ v-showï¼Œ&lt;/div&gt; &lt;div&gt;å› ä¸º v-if ä¼šå¯¹ dom èŠ‚ç‚¹è¿›è¡Œå¢åˆ æ“ä½œï¼Œå¯¼è‡´é‡ç»˜å’Œé‡æ–°æ’ç‰ˆï¼Œæœ‰æ€§èƒ½çš„å½±å“ã€‚&lt;/div&gt; &lt;br/&gt; &lt;div&gt;v-for ä¸­çš„ key æ˜¯ç”¨æ¥åšæ•°æ®ç¼“å­˜çš„ï¼Œéœ€è¦ä¿è¯å”¯ä¸€ï¼Œ&lt;/div&gt; &lt;div&gt;å½“æ•°æ®æºå‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVue ä¼šæ ¹æ®æ¯ä¸ª item çš„ key åœ¨ç¼“å­˜ä¸­å¯»æ‰¾ï¼Œæ˜¯å¦å·²ç»å­˜åœ¨ keyï¼Œ&lt;/div&gt; &lt;div&gt;å¦‚æœå·²ç»å­˜åœ¨ï¼Œåˆ™ç›´æ¥åœ¨ç¼“å­˜ä¸­å¤ç”¨ item çš„ dom èŠ‚ç‚¹ï¼Œè€Œä¸é‡æ–°åˆ›å»ºæ–°çš„ dom èŠ‚ç‚¹ï¼Œæé«˜æ¸²æŸ“æ€§èƒ½ã€‚&lt;/div&gt; &lt;div&gt;æ³¨ï¼šä¸è¦ç”¨ idx ä½œä¸º keyï¼Œå› ä¸ºæ•°ç»„å…ƒç´ çš„é¡ºåºå’Œå…·ä½“å€¼æ²¡æœ‰ä»€ä¹ˆç›´æ¥å…³ç³»ï¼Œ&lt;/div&gt; &lt;div&gt;ç”¨ idx ä½œä¸º keyï¼Œåœ¨æ•°æ®æºå‘ç”Ÿå¢ã€åˆ ä¹‹åï¼Œå¯èƒ½ä¼šå¯¼è‡´äº§ç”Ÿé”™è¯¯çš„ç¼“å­˜ã€‚&lt;/div&gt; &lt;ul&gt; &lt;li v-for=\"(item, idx) in arr\" :key=\"item\"&gt;index: &#123;&#123;idx&#125;&#125;, value: &#123;&#123;item&#125;&#125;&lt;/li&gt; &lt;/ul&gt; &lt;ul&gt; &lt;li v-for=\"(val, key, idx) in obj\"&gt;key: &#123;&#123;key&#125;&#125;, value: &#123;&#123;val&#125;&#125;, index: &#123;&#123;idx&#125;&#125;&lt;/li&gt; &lt;/ul&gt; &lt;br/&gt; &lt;div v-on:click=\"divClicked\"&gt; &lt;div&gt;v-on åšçš„äº‹æƒ…æ˜¯ï¼š&lt;/div&gt; &lt;div&gt;å¦‚æœ v-on åŠ åœ¨æ™®é€šçš„ dom èŠ‚ç‚¹å…ƒç´ ä¸Šï¼Œåˆ™ä¼šé€šè¿‡ document.addEventListener ç»™è¯¥èŠ‚ç‚¹å¢åŠ äº‹ä»¶ç›‘å¬&lt;/div&gt; &lt;div&gt;å¦‚æœ v-on åŠ åœ¨ Vue ç»„ä»¶ä¸Šï¼Œå®é™…ä¸Šæ˜¯åœ¨ Vue å¯¹è±¡å®ä¾‹ä¸Šç»‘å®šä¸€ä¸ªäº‹ä»¶&lt;/div&gt; &lt;/div&gt; &lt;br/&gt; &lt;div&gt; &lt;input type=\"text\" v-model=\"text\"&gt; &lt;input type=\"text\" v-model.number=\"number\"&gt; &lt;input type=\"text\" v-model.trim=\"text\"&gt; &lt;input type=\"text\" v-model.lazy=\"text\"&gt; &lt;input type=\"checkbox\" v-model=\"active\"&gt; &lt;/div&gt; &lt;br/&gt; &lt;div&gt; &lt;div&gt;æ¯ä¸ª checkbox æ‰€ç»‘å®šçš„å€¼æ˜¯å›ºå®šçš„ï¼Œcheckbox çš„ active/inactive å˜åŒ–å:&lt;/div&gt; &lt;div&gt;active -&gt; inactive: æ•°æ®ç§»é™¤å€¼ä¸ºå½“å‰ checkbox æ‰€ç»‘å®šå€¼çš„å…ƒç´ &lt;/div&gt; &lt;div&gt;inactive -&gt; active: æ•°æ® push ä¸€ä¸ªå€¼ä¸ºå½“å‰ checkbox æ‰€ç»‘å®šå€¼çš„å…ƒç´ &lt;/div&gt; &lt;input type=\"checkbox\" value=\"a\" v-model=\"arr\"&gt; &lt;input type=\"checkbox\" value=\"b\" v-model=\"arr\"&gt; &lt;input type=\"checkbox\" value=\"c\" v-model=\"arr\"&gt; &lt;/div&gt; &lt;br/&gt; &lt;div&gt; &lt;input type=\"radio\" value=\"one\" v-model=\"picked\"&gt; &lt;input type=\"radio\" value=\"two\" v-model=\"picked\"&gt; &lt;/div&gt; &lt;/div&gt; `, data: &#123; text: 'text', number: 0, html: '&lt;span&gt;html&lt;/span&gt;', active: true, arr: ['a', 'b', 'c'], obj: &#123; a: 'a', b: 'b', c: 'c' &#125;, picked: 'one' &#125;, watch: &#123; text () &#123; console.log('##### text changed #####', this.text); &#125;, arr () &#123; console.log('##### arr changed #####', this.arr); &#125;, picked () &#123; console.log('##### arr picked #####', this.picked); &#125; &#125;, methods: &#123; divClicked () &#123; console.log('##### divClicked #####'); &#125; &#125;&#125;); 6. Vue ç»„ä»¶6.1 ç»„ä»¶çš„å®šä¹‰ ç»„ä»¶çš„å…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œ 123456789101112const component = &#123; template: `&lt;div&gt;This is a component&lt;/div&gt;`&#125;;// å…¨å±€æ³¨å†Œï¼šVue.component('CompOne', component); // ç»„ä»¶åç§°å‘½åè§„åˆ™ï¼šå¤§é©¼å³°å‘½åæ³•ï¼ˆå› ä¸º component æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ª Vue çš„ classï¼‰// å±€éƒ¨æ³¨å†Œnew Vue(&#123; component: &#123;CompOne: component&#125;, template: `&lt;comp-one&gt;&lt;/comp-one&gt;` // ç»„ä»¶ä½¿ç”¨å‘½åè§„åˆ™ï¼šå…¨å°å†™ '-' åˆ†å‰²&#125;); ç»„ä»¶ data å®šä¹‰ï¼š ä¸æ˜¯é€šè¿‡ new Vue({options}) åˆ›å»ºçš„ç»„ä»¶ï¼Œdata å¿…é¡»ä»¥ function å½¢å¼è¿”å›ï¼Œå¦åˆ™å½“ä¸€ä¸ªçˆ¶ç»„ä»¶æœ‰å¤šä¸ªç›¸åŒç±»å‹çš„å­ç»„ä»¶æ—¶ï¼Œæ‰€æœ‰çš„å­ç»„ä»¶éƒ½ä¼šå¼•ç”¨åŒä¸€ä»½æ•°æ®æºï¼Œå¹¶ä¸” Vue ä¼šæŠ¥è­¦å‘Šï¼š [Vue warn]: The â€œdataâ€ option should be a function that returns a per-instance value in component definitions. 12345678const component = &#123; template: `&lt;div&gt;This is a component&lt;/div&gt;`, data () &#123; return &#123; a: 'foo' &#125; &#125; &#125;; ç»„ä»¶ props å®šä¹‰ï¼š 1234567891011121314151617181920212223242526272829303132const component = &#123; template: `&lt;div @click=\"handleChange\"&gt;This is a component&lt;/div&gt;`, props: &#123; active: &#123; type: Boolean, // ç±»å‹ required: true, // æ˜¯å¦å¿…å¡« default: true, // é»˜è®¤å€¼ validator (val) &#123; // è‡ªå®šä¹‰æ ¡éªŒ return typeof val === 'boolean' &#125; &#125;, propOne: Number, // å±æ€§å‘½åè§„åˆ™ï¼šå°é©¼å³°å‘½åæ³• // å¦‚æœæ˜¯å¯¹è±¡ï¼Œåˆ™å¿…é¡»ä»¥ function å½¢å¼è¿”å›ä¸€ä¸ªå¯¹è±¡ // åŸå› å’Œä¸æ˜¯é€šè¿‡ new Vue() åˆ›å»ºçš„ç»„ä»¶ï¼Œdata å¿…é¡»ä»¥ function å½¢å¼è¿”å›ä¸€æ · // å³å½“ä¸¤ä¸ªç›¸åŒç±»å‹çš„å­ç»„ä»¶çš„ä¸€ä¸ªå¯¹è±¡ props å¼•ç”¨äº†çˆ¶ç»„ä»¶çš„åŒä¸€ä¸ªå€¼ï¼Œé‚£ä¹ˆå°±ä¼šç›¸äº’å½±å“ obj () &#123; return &#123; default: &#123;a: 'foo'&#125; &#125; &#125; &#125;, // ä¹Ÿå¯ä»¥é€šè¿‡æ•°ç»„å®šä¹‰ propsï¼Œä½†ç›¸å¯¹ä¸ä¸¥è°¨ // props: ['active', 'propOne'], // mounted () &#123; // this.propOne = 1; // &#125;, methods: &#123; handleChange () &#123; this.$emit('change') &#125; &#125; &#125;; Vue ä¸æ¨èåœ¨å­ç»„ä»¶ä¸­æ›´æ”¹ props çš„å€¼ï¼Œå¦‚æœç›´æ¥æ›´æ”¹ï¼Œä¼šæŠ¥è­¦å‘Šï¼š [Vue warn]: Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the propâ€™s value. Prop being mutated: â€œpropOneâ€ å¦‚æœè¦æ›´æ”¹ï¼Œå¯ä»¥é€šè¿‡å­ç»„ä»¶ $emit äº‹ä»¶ï¼Œå›è°ƒåˆ°çˆ¶ç»„ä»¶è¿›è¡Œæ›´æ”¹ 1234567891011121314151617181920new Vue(&#123; el: '#root', components: &#123; Comp: component &#125;, template: ` &lt;div&gt; // ä¼ é€’ props æ—¶ï¼Œä½¿ç”¨å…¨å°å†™ '-' åˆ†å‰² &lt;comp :active=\"true\" :prop-one=\"propA\" @change=\"handleChange\"&gt;&lt;/comp&gt; &lt;/div&gt; `, data: &#123; propA: 1 &#125;, methods: &#123; handleChange () &#123; this.propA += 1; &#125; &#125;&#125;); 6.2 ç»„ä»¶çš„ç»§æ‰¿1234567891011121314151617181920212223242526const component = &#123; template: ` &lt;div&gt; &lt;input type=\"text\" v-model=\"text\"&gt; &lt;span v-show=\"active\"&gt;show if active&lt;/span&gt; &lt;span @click=\"handleChange\"&gt;&#123;&#123;propOne&#125;&#125;&lt;/span&gt; &lt;/div&gt; `, props: &#123; active: Boolean, propOne: String &#125;, data () &#123; return &#123; text: 0 &#125;; &#125;, mounted () &#123; console.log('##### component mounted #####'); &#125;, methods: &#123; handleChange () &#123; this.$emit('change'); &#125; &#125;&#125;; ä»¥ä¸Š component é…ç½®åªæ˜¯ä¸€ä¸ªæ™®é€šçš„ objectï¼Œå¦‚ä½•è®©é…ç½®ç”Ÿæˆ Vue å¯¹è±¡ï¼Œé™¤äº†é€šè¿‡ new Vue({component: {Comp: component}}) ä»¥å¤–ï¼Œè¿˜å¯ä»¥å¯¹ Vue è¿›è¡Œç»§æ‰¿ï¼Œç”Ÿæˆ Vue å¯¹è±¡ï¼š 12345678910111213141516171819202122232425import Vue from 'vue';const CompVue = Vue.extend(component);new CompVue(&#123; el: '#root', // é€šè¿‡ props æ— æ³•å°†å¤–éƒ¨å±æ€§ä¼ å…¥ // props: &#123; // propOne: 'props 1' // &#125;, // éœ€è¦é€šè¿‡ propsData ä¼ å…¥ propsData: &#123; propOne: 'propsData 1' &#125;, // å¯ä»¥ä¼ å…¥ data ä¸ CompVue é»˜è®¤çš„ data åˆå¹¶è¦†ç›– data () &#123; return &#123; text: 3 &#125;; &#125;, // ç”Ÿå‘½å‘¨æœŸæ–¹æ³•æ‰§è¡Œé¡ºåºï¼šå…ˆæ‰§è¡Œ CompVue é»˜è®¤é…ç½®ä¸­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œå†æ‰§è¡Œ CompVue å®ä¾‹ä¸­çš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³• mounted () &#123; console.log('##### instance mounted #####'); &#125;&#125;); CompVue æ˜¯ Vue çš„ä¸€ä¸ªå­ç±»ï¼Œé€šè¿‡ new Vue(options) åˆå§‹åŒ–è€Œæ¥ Vue å¯¹è±¡ï¼Œæ˜¯é»˜è®¤å†…ç½®é…ç½®ä¸‹ç”Ÿæˆçš„ï¼Œæ²¡æœ‰ dataã€props ç­‰ç›¸å…³é…ç½®ï¼Œé€šè¿‡ new CompVue() ç”Ÿæˆçš„ Vue å¯¹è±¡ä¼šé»˜è®¤å¸¦æœ‰ dataã€propsã€methods é…ç½® ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹è¿™ç§æ–¹å¼å®ç°å¯¹ component çš„ç»§æ‰¿ï¼š 123456789101112131415161718192021import Vue from 'vue';const component2 = &#123; extends: component, data () &#123; return &#123; text: 1 &#125;; &#125;, mounted () &#123; console.log('##### instance mounted #####'); &#125;&#125;;new Vue(&#123; el: '#root', components: &#123; Comp: component2 &#125;, template: `&lt;comp prop-one=\"123\"&gt;&lt;/comp&gt;`&#125;); ä½¿ç”¨åœºæ™¯ï¼šå½“æˆ‘ä»¬å¼€å‘å¥½ä¸€ä¸ªç»„ä»¶ï¼Œå¯èƒ½æ¯”è¾ƒå…¬ç”¨ï¼Œå¾ˆå¤šé¡¹ç›®éƒ½ä¼šç”¨åˆ°ï¼Œè€Œä¸”åŠŸèƒ½æè¿°æ¯”è¾ƒæ³›ï¼Œä½¿ç”¨èµ·æ¥éœ€è¦ä¼ å…¥å¾ˆå¤šçš„é…ç½®é¡¹ï¼Œè€Œåœ¨æŸä¸ªå…·ä½“é¡¹ç›®ä¸­ï¼Œå¾ˆå¤šå‚æ•°éƒ½ä½¿ç”¨å®ƒçš„é»˜è®¤å€¼ï¼Œä¸éœ€è¦ä¼ å…¥ï¼Œæˆ–è€…éœ€è¦åœ¨åŸæœ‰åŸºç¡€ä¸Šæ‰©å±•ä¸€äº›ç‰¹å®šçš„å±æ€§ï¼Œè¿™æ—¶å€™å°±å¯ä»¥é€šè¿‡ extend çš„æ–¹å¼ï¼Œåœ¨åŸæœ‰ç»„ä»¶åŸºç¡€ä¸Šï¼Œç»§æ‰¿æ‰©å±•å‡ºæˆ‘ä»¬éœ€è¦çš„ç»„ä»¶ï¼Œè€Œä¸éœ€è¦ä»å¤´å¼€å§‹å†™ä¸€ä¸ªæ–°çš„ç»„ä»¶ 6.3 ç»„ä»¶è‡ªå®šä¹‰ç»‘å®š1234567891011121314151617181920212223242526272829303132333435import Vue from 'vue';// é€šè¿‡ v-model å®ç°çˆ¶å­ç»„ä»¶çš„åŒå‘ç»‘å®šconst component = &#123; template: ` &lt;div&gt; &lt;input type=\"text\" :value=\"value1\" @input=\"handleInput\"&gt; &lt;/div&gt; `, model: &#123; prop: 'value1', // æŒ‡å®šåŒå‘ç»‘å®š prop çš„ key event: 'change' // æŒ‡å®šå›è°ƒæ—¶é—´çš„æ–¹æ³•å &#125;, props: ['value', 'value1'], methods: &#123; handleInput (event) &#123; // this.$emit('input', event.target.value); this.$emit('change', event.target.value); &#125; &#125;&#125;;new Vue(&#123; el: '#root', components: &#123; Comp: component &#125;, // template: `&lt;comp :value=\"value\" @input=\"value = arguments[0]\"&gt;&lt;/comp&gt;`, template: `&lt;comp v-model=\"value\"&gt;&lt;/comp&gt;`, data () &#123; return &#123; value: '123' &#125;; &#125;&#125;); 6.4 ç»„ä»¶é«˜çº§å±æ€§ slot å’Œ slot-scope åœ¨å­ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡æŒ‡å®šä¸åŒæ’æ§½åï¼Œå®šä¹‰å¤šä¸ªæ’æ§½ï¼š 1234567891011121314151617181920212223242526import Vue from 'vue';const component = &#123; template: ` &lt;div :style=\"style\"&gt; &lt;div class=\"header\"&gt; &lt;slot name=\"header\"&gt;&lt;/slot&gt; &lt;/div&gt; &lt;div class=\"body\"&gt; &lt;slot name=\"body\"&gt;&lt;/slot&gt; &lt;/div&gt; &lt;div class=\"footer\"&gt; &lt;slot name=\"footer\"&gt;&lt;/slot&gt; &lt;/div&gt; &lt;/div&gt; `, data () &#123; return &#123; style: &#123; width: '200px', height: '200px', border: '1px solid #aaa' &#125; &#125;; &#125;&#125;; åœ¨çˆ¶ç»„ä»¶ä¸­æ ¹æ®æ’æ§½åä¼ å…¥ä¸åŒçš„æ’æ§½ï¼š 1234567891011121314151617import Vue from 'vue';new Vue(&#123; el: '#root', components: &#123; CompOne: component &#125;, template: ` &lt;div&gt; &lt;comp-one&gt; &lt;div slot=\"header\"&gt;slot header&lt;/div&gt; &lt;div slot=\"body\"&gt;slot body&lt;/div&gt; &lt;div slot=\"footer\"&gt;slot footer&lt;/div&gt; &lt;/comp-one&gt; &lt;/div&gt; ` &#125;); å¸¦ä½œç”¨åŸŸçš„æ’æ§½ï¼šåœ¨å­ç»„ä»¶æ’æ§½ä¸­å®šä¹‰å†…éƒ¨å±æ€§ï¼Œçˆ¶ç»„ä»¶é€šè¿‡ slot-scop å¯ä»¥è®¿é—®åˆ°å­ç»„ä»¶çš„å±æ€§ï¼š 12345678910111213141516171819202122import Vue from 'vue';const component = &#123; template: ` &lt;div :style=\"style\"&gt; &lt;slot :slotValue1=\"slotProp\" :slotValue2=\"slotData\"&gt;&lt;/slot&gt; &lt;/div&gt; `, props: &#123; slotProp: String &#125;, data () &#123; return &#123; style: &#123; width: '200px', height: '200px', border: '1px solid #aaa' &#125;, slotData: 'abc' &#125;; &#125;&#125;; é€šè¿‡æŒ‡å®š â€œpropsâ€ ä½œä¸º keyï¼Œå°†æ’æ§½ä¸­çš„å±æ€§åŒ…è£…æˆ objectï¼Œè¿™æ ·çˆ¶ç»„ä»¶å°±å¯ä»¥é€šè¿‡ props[key] æ¥è®¿é—®æ’æ§½ä¸­çš„å±æ€§ 12345678910111213141516171819202122232425import Vue from 'vue';new Vue(&#123; el: '#root', components: &#123; CompOne: component &#125;, template: ` &lt;div&gt; &lt;comp-one :slot-prop=\"value1\"&gt; &lt;div slot-scope=\"props\"&gt; &lt;div&gt;slotValue1: &#123;&#123;props.slotValue1&#125;&#125;&lt;/div&gt; &lt;div&gt;slotValue2: &#123;&#123;props.slotValue2&#125;&#125;&lt;/div&gt; &lt;div&gt;selfValue: &#123;&#123;value2&#125;&#125;&lt;/div&gt; &lt;/div&gt; &lt;/comp-one&gt; &lt;/div&gt; `, data () &#123; return &#123; value1: 'def', value2: 'ijk' &#125;; &#125;&#125;); provide å’Œ inject å¯¹äºè·¨å¤šçº§çš„ç»„ä»¶ä¸­ï¼Œçˆ¶ç»„ä»¶å’Œå­ç»„ä»¶çš„å‚æ•°ä¼ é€’ï¼Œå¯ä»¥é€šè¿‡åœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰ provideï¼Œå­ç»„ä»¶ä¸­å®šä¹‰ inject æ¥å®ç° å­™ç»„ä»¶ï¼š 123456789const GrandsonComponent = &#123; template: '&lt;div&gt;child component&lt;/div&gt;', inject: ['const', 'grandparent', 'value'], mounted () &#123; console.log('##### const #####', this.const); // xyz console.log('##### grandparent #####', this.grandparent); // undefined console.log('##### value #####', this.value); // åœ¨çˆ¶ç»„ä»¶ä¸­æŠ¥é”™ &#125;&#125;; å­ç»„ä»¶ï¼š 12345678const ChildComponent = &#123; components: &#123; GrandsonComponent &#125;, template: ` &lt;grandson-component&gt;&lt;/grandson-component&gt; `&#125;; çˆ¶ç»„ä»¶ï¼š é€šè¿‡ provide: {} çš„æ–¹å¼å®šä¹‰ provideï¼Œåœ¨å­å­™ç»„ä»¶ä¸­æ˜¯æ‹¿ä¸åˆ°çˆ¶ç»„ä»¶çš„ this çš„ï¼Œåªèƒ½æ¥æ”¶åˆ°ä¼ å…¥çš„å¸¸é‡ï¼Œå› ä¸ºè¿™æ ·åˆå§‹åŒ– provide å¯¹è±¡ï¼Œå…¶å® Vue æœ¬èº«è¿˜æ²¡æœ‰åˆå§‹åŒ–å®Œæˆï¼Œæ‰€æœ‰è®¿é—®ä¸äº† this 123456789101112131415161718192021import Vue from 'vue';new Vue(&#123; el: '#root', components: &#123; ChildComponent &#125;, provide: &#123; const: 'xyz', grandparent: this, value: this.value // æŠ¥é”™ &#125;, template: ` &lt;child-component&gt;&lt;/child-component&gt; `, data () &#123; return &#123; value: 'abc' &#125;; &#125;&#125;); å­™ç»„ä»¶ï¼š 123456789const GrandsonComponent = &#123; template: '&lt;div&gt;child component: &#123;&#123;value&#125;&#125;&lt;/div&gt;', inject: ['const', 'grandparent', 'value'], mounted () &#123; console.log('##### const #####', this.const); // xyz console.log('##### grandparent #####', this.grandparent); // çˆ¶ç»„ä»¶ Vue å®ä¾‹ console.log('##### value #####', this.value); // abc &#125;&#125;; çˆ¶ç»„ä»¶ï¼š é€šè¿‡æ–¹æ³•è¿”å›å®šä¹‰ provideï¼Œæ‰å­å­™ç»„ä»¶ä¸­æ¥æ”¶åˆ°çˆ¶ç»„ä»¶çš„ thisï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ä¸­çš„å“åº”å¼å˜é‡ï¼Œä¸ä¼šåœ¨å­å­™ç»„ä»¶ä¸­å“åº”å¼åœ°å˜åŒ– 1234567891011121314151617181920212223import Vue from 'vue';new Vue(&#123; el: '#root', components: &#123; ChildComponent &#125;, provide () &#123; return &#123; const: 'xyz', grandparent: this, value: this.value &#125;; &#125;, template: ` &lt;child-component&gt;&lt;/child-component&gt; `, data () &#123; return &#123; value: 'abc' &#125;; &#125;&#125;); å­™ç»„ä»¶ï¼š 123456789const GrandsonComponent = &#123; template: '&lt;div&gt;child component: &#123;&#123;value&#125;&#125;&lt;/div&gt;', inject: ['const', 'grandparent', 'data'], mounted () &#123; console.log('##### const #####', this.const); // xyz console.log('##### grandparent #####', this.grandparent); // çˆ¶ç»„ä»¶ Vue å®ä¾‹ console.log('##### value #####', this.data); // &#123;value: çˆ¶ç»„ä»¶çš„ value&#125; &#125;&#125;; çˆ¶ç»„ä»¶ï¼š åªæœ‰åœ¨ provide ä¸­é‡å®šä¹‰ get() æ–¹æ³•ï¼Œè®©å­å­™ç»„ä»¶æ¯æ¬¡è·å–åˆ°çš„ value éƒ½æ˜¯å…¶æœ€æ–°å€¼ï¼Œä»è€Œå®ç°å“åº”å¼ã€‚è¿™ä¹Ÿæ˜¯ Vue å®ç°å“åº”å¼çš„æœ€åŸºæœ¬åŸç† 1234567891011121314151617181920212223242526272829import Vue from 'vue';new Vue(&#123; el: '#root', components: &#123; ChildComponent &#125;, provide () &#123; const data = &#123;&#125;; Object.defineProperty(data, 'value', &#123; get: () =&gt; this.value, enumerable: true &#125;); return &#123; const: 'xyz', grandparent: this, data &#125;; &#125;, template: ` &lt;child-component&gt;&lt;/child-component&gt; &lt;input type=\"text\" v-model=\"value\"/&gt; `, data () &#123; return &#123; value: 'abc' &#125;; &#125;&#125;); 6.5 ç»„ä»¶ render function","categories":[],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"Vue é…ç½® ESLint è§„åˆ™","slug":"tech/vue/vue-eslint","date":"2020-02-10T15:56:02.016Z","updated":"2020-02-10T15:56:02.016Z","comments":true,"path":"2020/02/10/tech/vue/vue-eslint/","link":"","permalink":"http://yoursite.com/2020/02/10/tech/vue/vue-eslint/","excerpt":"","text":"å®‰è£…å¿…è¦ä¾èµ–åŒ…12345npm install eslint --save-devnpm install babel-eslint --save-devnpm install eslint-friendly-formatter --save-dev &#x2F;&#x2F; æŒ‡å®šé”™è¯¯æŠ¥å‘Šçš„æ ¼å¼è§„èŒƒæ’ä»¶npm install eslint-loader --save-dev &#x2F;&#x2F; å¯åŠ¨ Vue cli æ—¶å°±å¯ä»¥æ£€æµ‹npm install eslint-plugin-vue --save-dev &#x2F;&#x2F; ç¬¦åˆ Vue é¡¹ç›®æ¨èçš„ä»£ç é£æ ¼ .eslintrc.js æ–‡ä»¶åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºè§„åˆ™éªŒè¯æ–‡ä»¶ .eslintrc.jsï¼Œä»¥ä¸‹ä¸º Vue æ¨èè§„åˆ™é…ç½®ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192module.exports = &#123; root: true, // æ ¹æ–‡ä»¶ï¼Œä¸ä¼šå¾€ä¸Šä¸€å±‚æŸ¥æ‰¾ parserOptions: &#123; parser: 'babel-eslint', sourceType: 'module' &#125;, env: &#123; browser: true, node: true, es6: true, &#125;, extends: ['plugin:vue/recommended', 'eslint:recommended'], // add your custom rules here //it is base on https://github.com/vuejs/eslint-config-vue rules: &#123; \"vue/max-attributes-per-line\": [2, &#123; \"singleline\": 10, \"multiline\": &#123; \"max\": 1, \"allowFirstLine\": false &#125; &#125;], \"vue/name-property-casing\": [\"error\", \"PascalCase\"], 'accessor-pairs': 2, 'arrow-spacing': [2, &#123; 'before': true, 'after': true &#125;], 'block-spacing': [2, 'always'], 'brace-style': [2, '1tbs', &#123; 'allowSingleLine': true &#125;], 'camelcase': [0, &#123; 'properties': 'always' &#125;], 'comma-dangle': [2, 'never'], 'comma-spacing': [2, &#123; 'before': false, 'after': true &#125;], 'comma-style': [2, 'last'], 'constructor-super': 2, 'curly': [2, 'multi-line'], 'dot-location': [2, 'property'], 'eol-last': 2, 'eqeqeq': [2, 'allow-null'], 'generator-star-spacing': [2, &#123; 'before': true, 'after': true &#125;], 'handle-callback-err': [2, '^(err|error)$'], 'indent': [2, 2, &#123; 'SwitchCase': 1 &#125;], 'jsx-quotes': [2, 'prefer-single'], 'key-spacing': [2, &#123; 'beforeColon': false, 'afterColon': true &#125;], 'keyword-spacing': [2, &#123; 'before': true, 'after': true &#125;], 'new-cap': [2, &#123; 'newIsCap': true, 'capIsNew': false &#125;], 'new-parens': 2, 'no-array-constructor': 2, 'no-caller': 2, 'no-console': 'off', 'no-class-assign': 2, 'no-cond-assign': 2, 'no-const-assign': 2, 'no-control-regex': 0, 'no-delete-var': 2, 'no-dupe-args': 2, 'no-dupe-class-members': 2, 'no-dupe-keys': 2, 'no-duplicate-case': 2, 'no-empty-character-class': 2, 'no-empty-pattern': 2, 'no-eval': 2, 'no-ex-assign': 2, 'no-extend-native': 2, 'no-extra-bind': 2, 'no-extra-boolean-cast': 2, 'no-extra-parens': [2, 'functions'], 'no-fallthrough': 2, 'no-floating-decimal': 2, 'no-func-assign': 2, 'no-implied-eval': 2, 'no-inner-declarations': [2, 'functions'], 'no-invalid-regexp': 2, 'no-irregular-whitespace': 2, 'no-iterator': 2, 'no-label-var': 2, 'no-labels': [2, &#123; 'allowLoop': false, 'allowSwitch': false &#125;], 'no-lone-blocks': 2, 'no-mixed-spaces-and-tabs': 2, 'no-multi-spaces': 2, 'no-multi-str': 2, 'no-multiple-empty-lines': [2, &#123; 'max': 1 &#125;], 'no-native-reassign': 2, 'no-negated-in-lhs': 2, 'no-new-object': 2, 'no-new-require': 2, 'no-new-symbol': 2, 'no-new-wrappers': 2, 'no-obj-calls': 2, 'no-octal': 2, 'no-octal-escape': 2, 'no-path-concat': 2, 'no-proto': 2, 'no-redeclare': 2, 'no-regex-spaces': 2, 'no-return-assign': [2, 'except-parens'], 'no-self-assign': 2, 'no-self-compare': 2, 'no-sequences': 2, 'no-shadow-restricted-names': 2, 'no-spaced-func': 2, 'no-sparse-arrays': 2, 'no-this-before-super': 2, 'no-throw-literal': 2, 'no-trailing-spaces': 2, 'no-undef': 0, 'no-undef-init': 2, 'no-unexpected-multiline': 2, 'no-unmodified-loop-condition': 2, 'no-unneeded-ternary': [2, &#123; 'defaultAssignment': false &#125;], 'no-unreachable': 2, 'no-unsafe-finally': 2, 'no-unused-vars': 0, 'no-useless-call': 2, 'no-useless-computed-key': 2, 'no-useless-constructor': 2, 'no-useless-escape': 0, 'no-whitespace-before-property': 2, 'no-with': 2, 'one-var': [2, &#123; 'initialized': 'never' &#125;], 'operator-linebreak': [2, 'after', &#123; 'overrides': &#123; '?': 'before', ':': 'before' &#125; &#125;], 'padded-blocks': [2, 'never'], 'quotes': [2, 'single', &#123; 'avoidEscape': true, 'allowTemplateLiterals': true &#125;], 'semi': [2, 'never'], 'semi-spacing': [2, &#123; 'before': false, 'after': true &#125;], 'space-before-blocks': [2, 'always'], 'space-before-function-paren': [2, 'never'], 'space-in-parens': [2, 'never'], 'space-infix-ops': 2, 'space-unary-ops': [2, &#123; 'words': true, 'nonwords': false &#125;], 'spaced-comment': [2, 'always', &#123; 'markers': ['global', 'globals', 'eslint', 'eslint-disable', '*package', '!', ','] &#125;], 'template-curly-spacing': [2, 'never'], 'use-isnan': 2, 'valid-typeof': 2, 'wrap-iife': [2, 'any'], 'yield-star-spacing': [2, 'both'], 'yoda': [2, 'never'], 'prefer-const': 2, 'no-debugger': process.env.NODE_ENV === 'production' ? 2 : 0, 'object-curly-spacing': [2, 'always', &#123; objectsInObjects: false &#125;], 'array-bracket-spacing': [2, 'never'] &#125;&#125; .eslintignore æ–‡ä»¶æ ¹ç›®å½•ä¸‹åˆ›å»º .eslintignore æ–‡ä»¶ï¼Œæ·»åŠ è§„åˆ™å¿½ç•¥éªŒè¯çš„æ–‡ä»¶é…ç½® 123456&#x2F;build&#x2F;&#x2F;config&#x2F;&#x2F;node_modules&#x2F;&#x2F;dist&#x2F;&#x2F;*.js&#x2F;test&#x2F;unit&#x2F;coverage&#x2F; æ·»åŠ  webpack é…ç½®webpack.base.config.js ä¸­æ·»åŠ è§„åˆ™ï¼š 1234567891011121314rules:[ &#x2F;&#x2F; åŠ åˆ°æœ€å‰é¢ &#123; test: &#x2F;\\.(js|vue)$&#x2F;, loader: &#39;eslint-loader&#39;, enforce: &#39;pre&#39;, include: [resolve(&#39;src&#39;)], options: &#123; formatter: require(&#39;eslint-friendly-formatter&#39;), emitWarning: true &#125; &#125;, ....] åœ¨ IDE ä¸­å¼€å¯ ESLint ESLint è§„åˆ™çº§åˆ« off æˆ–è€… 0ï¼šä¸å¯ç”¨è¿™ä¸ªè§„åˆ™ warn æˆ–è€… 1ï¼šæ ¡éªŒä¸é€šè¿‡ä¼šæŠ¥è­¦å‘Š error æˆ–è€… 2ï¼šæ ¡éªŒä¸é€šè¿‡ä¼šæŠ¥é”™ ESLint è§„åˆ™å±è”½123456// ä¸‹é¢çš„ä»£ç ä¼šå…³é—­æ‰€æœ‰è§„åˆ™/* eslint-disable */ console.log('foo'); /* eslint-enable */ 12345// ä¸‹é¢çš„ä»£ç ä¼šå…³é—­æŸä¸€è¡Œçš„æ‰€æœ‰è§„åˆ™console.log('foo'); // eslint-disable-line // eslint-disable-next-lineconsole.log('foo'); 12345// ä¸‹é¢çš„ä»£ç åœ¨æŸä¸€è¡Œå…³é—­æŒ‡å®šçš„è§„åˆ™console.log('foo'); // eslint-disable-line no-alert // eslint-disable-next-line no-alertconsole.log('foo'); package.json ä¸­æ·»åŠ  scripts123456&#123; \"scripts\": &#123; \"lint\": \"eslint --ext .js --ext .jsx --ext .vue src/\", \"lint-fix\": \"eslint --fix --ext .js --ext .jsx --ext .vue src/\" &#125;&#125; npm run lint æ£€éªŒ src/ ç›®å½•ä¸‹æ–‡ä»¶æ˜¯å¦ç¬¦åˆ ESLint éªŒè¯è§„åˆ™ npm run lint-fix å°† src/ ç›®å½•ä¸‹ä¸ç¬¦åˆ ESLint éªŒè¯è§„åˆ™çš„ä»£ç è¿›è¡Œæ ¼å¼åŒ–","categories":[],"tags":[{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"}]},{"title":"TypeScript å¸¸ç”¨è¯­æ³•","slug":"tech/typeScript/ts-base","date":"2020-02-05T08:11:40.837Z","updated":"2020-02-05T08:11:40.837Z","comments":true,"path":"2020/02/05/tech/typeScript/ts-base/","link":"","permalink":"http://yoursite.com/2020/02/05/tech/typeScript/ts-base/","excerpt":"","text":"åŸºç¡€ç±»å‹TypeScript æ”¯æŒä¸ JavaScript å‡ ä¹ç›¸åŒçš„æ•°æ®ç±»å‹ï¼Œæ­¤å¤–è¿˜æä¾›äº†å®ç”¨çš„æšä¸¾ç±»å‹æ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨ã€‚ å¸ƒå°”å€¼æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹å°±æ˜¯ç®€å•çš„ true/false å€¼ï¼Œåœ¨JavaScript å’Œ TypeScript é‡Œå«åš booleanï¼ˆå…¶å®ƒè¯­è¨€ä¸­ä¹Ÿä¸€æ ·ï¼‰ã€‚ 1let isDone: boolean = false æ•°å­—å’Œ JavaScript ä¸€æ ·ï¼ŒTypeScript é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯æµ®ç‚¹æ•°ã€‚ è¿™äº›æµ®ç‚¹æ•°çš„ç±»å‹æ˜¯ numberã€‚ é™¤äº†æ”¯æŒåè¿›åˆ¶å’Œåå…­è¿›åˆ¶å­—é¢é‡ï¼ŒTypeScript è¿˜æ”¯æŒ ECMAScript 2015ä¸­å¼•å…¥çš„äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶å­—é¢é‡ã€‚ 1234let decLiteral: number = 20let hexLiteral: number = 0x14let binaryLiteral: number = 0b10100let octalLiteral: number = 0o24 å­—ç¬¦ä¸²JavaScript ç¨‹åºçš„å¦ä¸€é¡¹åŸºæœ¬æ“ä½œæ˜¯å¤„ç†ç½‘é¡µæˆ–æœåŠ¡å™¨ç«¯çš„æ–‡æœ¬æ•°æ®ã€‚ åƒå…¶å®ƒè¯­è¨€é‡Œä¸€æ ·ï¼Œæˆ‘ä»¬ä½¿ç”¨ string è¡¨ç¤ºæ–‡æœ¬æ•°æ®ç±»å‹ã€‚ å’Œ JavaScript ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨åŒå¼•å·ï¼ˆ&quot;ï¼‰æˆ–å•å¼•å·ï¼ˆ&#39;ï¼‰è¡¨ç¤ºå­—ç¬¦ä¸²ã€‚ 12let name: string = 'bob'name = 'smith' ä½ è¿˜å¯ä»¥ä½¿ç”¨æ¨¡ç‰ˆå­—ç¬¦ä¸²ï¼Œå®ƒå¯ä»¥å®šä¹‰å¤šè¡Œæ–‡æœ¬å’Œå†…åµŒè¡¨è¾¾å¼ã€‚ è¿™ç§å­—ç¬¦ä¸²æ˜¯è¢«åå¼•å·åŒ…å›´ï¼ˆ `ï¼‰ï¼Œå¹¶ä¸”ä»¥ ${ expr } è¿™ç§å½¢å¼åµŒå…¥è¡¨è¾¾å¼ 12345let name: string = `Yee`let age: number = 37let sentence: string = `Hello, my name is $&#123; name &#125;.I'll be $&#123; age + 1 &#125; years old next month.` è¿™ä¸ä¸‹é¢å®šä¹‰ sentence çš„æ–¹å¼æ•ˆæœç›¸åŒï¼š 12let sentence: string = 'Hello, my name is ' + name + '.\\n\\n' + 'I\\'ll be ' + (age + 1) + ' years old next month.' æ•°ç»„TypeScript åƒ JavaScript ä¸€æ ·å¯ä»¥æ“ä½œæ•°ç»„å…ƒç´ ã€‚ æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®šä¹‰æ•°ç»„ã€‚ ç¬¬ä¸€ç§ï¼Œå¯ä»¥åœ¨å…ƒç´ ç±»å‹åé¢æ¥ä¸Š []ï¼Œè¡¨ç¤ºç”±æ­¤ç±»å‹å…ƒç´ ç»„æˆçš„ä¸€ä¸ªæ•°ç»„ï¼š 1let list: number[] = [1, 2, 3] ç¬¬äºŒç§æ–¹å¼æ˜¯ä½¿ç”¨æ•°ç»„æ³›å‹ï¼ŒArray&lt;å…ƒç´ ç±»å‹&gt;ï¼š 1let list: Array&lt;number&gt; = [1, 2, 3] å…ƒç»„ Tupleå…ƒç»„ç±»å‹å…è®¸è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒã€‚ æ¯”å¦‚ï¼Œä½ å¯ä»¥å®šä¹‰ä¸€å¯¹å€¼åˆ†åˆ«ä¸º string å’Œ number ç±»å‹çš„å…ƒç»„ã€‚ 123let x: [string, number]x = ['hello', 10] // OKx = [10, 'hello'] // Error å½“è®¿é—®ä¸€ä¸ªå·²çŸ¥ç´¢å¼•çš„å…ƒç´ ï¼Œä¼šå¾—åˆ°æ­£ç¡®çš„ç±»å‹ï¼š 12console.log(x[0].substr(1)) // OKconsole.log(x[1].substr(1)) // Error, 'number' ä¸å­˜åœ¨ 'substr' æ–¹æ³• å½“è®¿é—®ä¸€ä¸ªè¶Šç•Œçš„å…ƒç´ ï¼Œä¼šä½¿ç”¨è”åˆç±»å‹æ›¿ä»£ï¼š 12345x[3] = 'world' // OK, å­—ç¬¦ä¸²å¯ä»¥èµ‹å€¼ç»™(string | number)ç±»å‹console.log(x[5].toString()) // OK, 'string' å’Œ 'number' éƒ½æœ‰ toStringx[6] = true // Error, å¸ƒå°”ä¸æ˜¯(string | number)ç±»å‹ è”åˆç±»å‹æ˜¯é«˜çº§ä¸»é¢˜ï¼Œæˆ‘ä»¬ä¼šåœ¨ä»¥åçš„ç« èŠ‚é‡Œè®¨è®ºå®ƒã€‚ æ³¨æ„ï¼šè‡ªä» TyeScript 3.1 ç‰ˆæœ¬ä¹‹åï¼Œè®¿é—®è¶Šç•Œå…ƒç´ ä¼šæŠ¥é”™ï¼Œæˆ‘ä»¬ä¸åº”è¯¥å†ä½¿ç”¨è¯¥ç‰¹æ€§ã€‚ æšä¸¾enum ç±»å‹æ˜¯å¯¹ JavaScript æ ‡å‡†æ•°æ®ç±»å‹çš„ä¸€ä¸ªè¡¥å……ã€‚ åƒ C# ç­‰å…¶å®ƒè¯­è¨€ä¸€æ ·ï¼Œä½¿ç”¨æšä¸¾ç±»å‹å¯ä»¥ä¸ºä¸€ç»„æ•°å€¼èµ‹äºˆå‹å¥½çš„åå­—ã€‚ 12enum Color &#123;Red, Green, Blue&#125;let c: Color = Color.Green é»˜è®¤æƒ…å†µä¸‹ï¼Œä» 0 å¼€å§‹ä¸ºå…ƒç´ ç¼–å·ã€‚ ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨çš„æŒ‡å®šæˆå‘˜çš„æ•°å€¼ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†ä¸Šé¢çš„ä¾‹å­æ”¹æˆä» 1 å¼€å§‹ç¼–å·ï¼š 12enum Color &#123;Red = 1, Green, Blue&#125;let c: Color = Color.Green æˆ–è€…ï¼Œå…¨éƒ¨éƒ½é‡‡ç”¨æ‰‹åŠ¨èµ‹å€¼ï¼š 12enum Color &#123;Red = 1, Green = 2, Blue = 4&#125;let c: Color = Color.Green æšä¸¾ç±»å‹æä¾›çš„ä¸€ä¸ªä¾¿åˆ©æ˜¯ä½ å¯ä»¥ç”±æšä¸¾çš„å€¼å¾—åˆ°å®ƒçš„åå­—ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬çŸ¥é“æ•°å€¼ä¸º 2ï¼Œä½†æ˜¯ä¸ç¡®å®šå®ƒæ˜ å°„åˆ° Color é‡Œçš„å“ªä¸ªåå­—ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥æ‰¾ç›¸åº”çš„åå­—ï¼š 1234enum Color &#123;Red = 1, Green, Blue&#125;let colorName: string = Color[2]console.log(colorName) // æ˜¾ç¤º'Green'å› ä¸ºä¸Šé¢ä»£ç é‡Œå®ƒçš„å€¼æ˜¯2 anyæœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæƒ³è¦ä¸ºé‚£äº›åœ¨ç¼–ç¨‹é˜¶æ®µè¿˜ä¸æ¸…æ¥šç±»å‹çš„å˜é‡æŒ‡å®šä¸€ä¸ªç±»å‹ã€‚ è¿™äº›å€¼å¯èƒ½æ¥è‡ªäºåŠ¨æ€çš„å†…å®¹ï¼Œæ¯”å¦‚æ¥è‡ªç”¨æˆ·è¾“å…¥æˆ–ç¬¬ä¸‰æ–¹ä»£ç åº“ã€‚ è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ç±»å‹æ£€æŸ¥å™¨å¯¹è¿™äº›å€¼è¿›è¡Œæ£€æŸ¥è€Œæ˜¯ç›´æ¥è®©å®ƒä»¬é€šè¿‡ç¼–è¯‘é˜¶æ®µçš„æ£€æŸ¥ã€‚ é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ any ç±»å‹æ¥æ ‡è®°è¿™äº›å˜é‡ï¼š 123let notSure: any = 4notSure = 'maybe a string instead'notSure = false // ä¹Ÿå¯ä»¥æ˜¯ä¸ª boolean åœ¨å¯¹ç°æœ‰ä»£ç è¿›è¡Œæ”¹å†™çš„æ—¶å€™ï¼Œany ç±»å‹æ˜¯ååˆ†æœ‰ç”¨çš„ï¼Œå®ƒå…è®¸ä½ åœ¨ç¼–è¯‘æ—¶å¯é€‰æ‹©åœ°åŒ…å«æˆ–ç§»é™¤ç±»å‹æ£€æŸ¥ã€‚å¹¶ä¸”å½“ä½ åªçŸ¥é“ä¸€éƒ¨åˆ†æ•°æ®çš„ç±»å‹æ—¶ï¼Œany ç±»å‹ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚ æ¯”å¦‚ï¼Œä½ æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒåŒ…å«äº†ä¸åŒçš„ç±»å‹çš„æ•°æ®ï¼š 123let list: any[] = [1, true, 'free']list[1] = 100 voidæŸç§ç¨‹åº¦ä¸Šæ¥è¯´ï¼Œvoid ç±»å‹åƒæ˜¯ä¸ any ç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚ å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼æ—¶ï¼Œä½ é€šå¸¸ä¼šè§åˆ°å…¶è¿”å›å€¼ç±»å‹æ˜¯ voidï¼š 123function warnUser(): void &#123; console.log('This is my warning message')&#125; å£°æ˜ä¸€ä¸ª void ç±»å‹çš„å˜é‡æ²¡æœ‰ä»€ä¹ˆå¤§ç”¨ï¼Œå› ä¸ºä½ åªèƒ½ä¸ºå®ƒèµ‹äºˆ undefined å’Œ nullï¼š 1let unusable: void = undefined null å’Œ undefinedTypeScript é‡Œï¼Œundefined å’Œ null ä¸¤è€…å„è‡ªæœ‰è‡ªå·±çš„ç±»å‹åˆ†åˆ«å«åš undefined å’Œ nullã€‚ å’Œ void ç›¸ä¼¼ï¼Œå®ƒä»¬çš„æœ¬èº«çš„ç±»å‹ç”¨å¤„ä¸æ˜¯å¾ˆå¤§ï¼š 12let u: undefined = undefinedlet n: null = null é»˜è®¤æƒ…å†µä¸‹ null å’Œ undefined æ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»å‹ã€‚ å°±æ˜¯è¯´ä½ å¯ä»¥æŠŠ null å’Œ undefined èµ‹å€¼ç»™ number ç±»å‹çš„å˜é‡ã€‚ ç„¶è€Œï¼Œå½“ä½ æŒ‡å®šäº† --strictNullChecks æ ‡è®°ï¼Œnull å’Œ undefined åªèƒ½èµ‹å€¼ç»™ void å’Œå®ƒä»¬å„è‡ªï¼Œè¿™èƒ½é¿å… å¾ˆå¤šå¸¸è§çš„é—®é¢˜ã€‚ ä¹Ÿè®¸åœ¨æŸå¤„ä½ æƒ³ä¼ å…¥ä¸€ä¸ª string æˆ– null æˆ– undefinedï¼Œä½ å¯ä»¥ä½¿ç”¨è”åˆç±»å‹ string | null | undefinedã€‚ å†æ¬¡è¯´æ˜ï¼Œç¨åæˆ‘ä»¬ä¼šä»‹ç»è”åˆç±»å‹ã€‚ nevernever ç±»å‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ã€‚ ä¾‹å¦‚ï¼Œ never ç±»å‹æ˜¯é‚£äº›æ€»æ˜¯ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–æ ¹æœ¬å°±ä¸ä¼šæœ‰è¿”å›å€¼çš„å‡½æ•°è¡¨è¾¾å¼æˆ–ç®­å¤´å‡½æ•°è¡¨è¾¾å¼çš„è¿”å›å€¼ç±»å‹ï¼› å˜é‡ä¹Ÿå¯èƒ½æ˜¯ never ç±»å‹ï¼Œå½“å®ƒä»¬è¢«æ°¸ä¸ä¸ºçœŸçš„ç±»å‹ä¿æŠ¤æ‰€çº¦æŸæ—¶ã€‚ never ç±»å‹æ˜¯ä»»ä½•ç±»å‹çš„å­ç±»å‹ï¼Œä¹Ÿå¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ï¼›ç„¶è€Œï¼Œæ²¡æœ‰ç±»å‹æ˜¯ never çš„å­ç±»å‹æˆ–å¯ä»¥èµ‹å€¼ç»™never ç±»å‹ï¼ˆé™¤äº† never æœ¬èº«ä¹‹å¤–ï¼‰ã€‚ å³ä½¿ any ä¹Ÿä¸å¯ä»¥èµ‹å€¼ç»™ neverã€‚ ä¸‹é¢æ˜¯ä¸€äº›è¿”å› never ç±»å‹çš„å‡½æ•°ï¼š 123456789101112131415// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹function error(message: string): never &#123; throw new Error(message)&#125;// æ¨æ–­çš„è¿”å›å€¼ç±»å‹ä¸ºneverfunction fail() &#123; return error(\"Something failed\")&#125;// è¿”å›neverçš„å‡½æ•°å¿…é¡»å­˜åœ¨æ— æ³•è¾¾åˆ°çš„ç»ˆç‚¹function infiniteLoop(): never &#123; while (true) &#123; &#125;&#125; objectobject è¡¨ç¤ºéåŸå§‹ç±»å‹ï¼Œä¹Ÿå°±æ˜¯é™¤ numberï¼Œstringï¼Œbooleanï¼Œsymbolï¼Œnullæˆ–undefined ä¹‹å¤–çš„ç±»å‹ã€‚ ä½¿ç”¨ object ç±»å‹ï¼Œå°±å¯ä»¥æ›´å¥½çš„è¡¨ç¤ºåƒ Object.create è¿™æ ·çš„ APIã€‚ä¾‹å¦‚ï¼š 123456789declare function create(o: object | null): voidcreate(&#123; prop: 0 &#125;) // OKcreate(null) // OKcreate(42) // Errorcreate('string') // Errorcreate(false) // Errorcreate(undefined) // Error ç±»å‹æ–­è¨€æœ‰æ—¶å€™ä½ ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œä½ ä¼šæ¯” TypeScript æ›´äº†è§£æŸä¸ªå€¼çš„è¯¦ç»†ä¿¡æ¯ã€‚ é€šå¸¸è¿™ä¼šå‘ç”Ÿåœ¨ä½ æ¸…æ¥šåœ°çŸ¥é“ä¸€ä¸ªå®ä½“å…·æœ‰æ¯”å®ƒç°æœ‰ç±»å‹æ›´ç¡®åˆ‡çš„ç±»å‹ã€‚ é€šè¿‡ç±»å‹æ–­è¨€è¿™ç§æ–¹å¼å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œâ€œç›¸ä¿¡æˆ‘ï¼Œæˆ‘çŸ¥é“è‡ªå·±åœ¨å¹²ä»€ä¹ˆâ€ã€‚ ç±»å‹æ–­è¨€å¥½æ¯”å…¶å®ƒè¯­è¨€é‡Œçš„ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯ä¸è¿›è¡Œç‰¹æ®Šçš„æ•°æ®æ£€æŸ¥å’Œè§£æ„ã€‚ å®ƒæ²¡æœ‰è¿è¡Œæ—¶çš„å½±å“ï¼Œåªæ˜¯åœ¨ç¼–è¯‘é˜¶æ®µèµ·ä½œç”¨ã€‚ TypeScript ä¼šå‡è®¾ä½ ï¼Œç¨‹åºå‘˜ï¼Œå·²ç»è¿›è¡Œäº†å¿…é¡»çš„æ£€æŸ¥ã€‚ ç±»å‹æ–­è¨€æœ‰ä¸¤ç§å½¢å¼ã€‚ å…¶ä¸€æ˜¯â€œå°–æ‹¬å·â€è¯­æ³•ï¼š 123let someValue: any = 'this is a string'let strLength: number = (&lt;string&gt;someValue).length å¦ä¸€ä¸ªä¸º as è¯­æ³•ï¼š 123let someValue: any = 'this is a string'let strLength: number = (someValue as string).length ä¸¤ç§å½¢å¼æ˜¯ç­‰ä»·çš„ã€‚ è‡³äºä½¿ç”¨å“ªä¸ªå¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯å‡­ä¸ªäººå–œå¥½ï¼›ç„¶è€Œï¼Œå½“ä½ åœ¨ TypeScript é‡Œä½¿ç”¨ JSX æ—¶ï¼Œåªæœ‰ as è¯­æ³•æ–­è¨€æ˜¯è¢«å…è®¸çš„ã€‚ å˜é‡å£°æ˜let å’Œ const æ˜¯ JavaScript é‡Œç›¸å¯¹è¾ƒæ–°çš„å˜é‡å£°æ˜æ–¹å¼ã€‚let åœ¨å¾ˆå¤šæ–¹é¢ä¸ var æ˜¯ç›¸ä¼¼çš„ï¼Œä½†æ˜¯å¯ä»¥å¸®åŠ©å¤§å®¶é¿å…åœ¨ JavaScript é‡Œå¸¸è§ä¸€äº›é—®é¢˜ã€‚const æ˜¯å¯¹ let çš„ä¸€ä¸ªå¢å¼ºï¼Œå®ƒèƒ½é˜»æ­¢å¯¹ä¸€ä¸ªå˜é‡å†æ¬¡èµ‹å€¼ã€‚ å› ä¸º TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼Œæ‰€ä»¥å®ƒæœ¬èº«å°±æ”¯æŒ let å’Œ constã€‚ ä¸‹é¢æˆ‘ä»¬ä¼šè¯¦ç»†è¯´æ˜è¿™äº›æ–°çš„å£°æ˜æ–¹å¼ä»¥åŠä¸ºä»€ä¹ˆæ¨èä½¿ç”¨å®ƒä»¬æ¥ä»£æ›¿ varã€‚ å¦‚æœä½ å·²ç»å¯¹ var å£°æ˜çš„æ€ªå¼‚ä¹‹å¤„äº†å¦‚æŒ‡æŒï¼Œé‚£ä¹ˆä½ å¯ä»¥è½»æ¾åœ°ç•¥è¿‡è¿™èŠ‚ã€‚ var å£°æ˜åœ¨ ES5 çš„æ—¶ä»£ï¼Œæˆ‘ä»¬éƒ½æ˜¯é€šè¿‡ var å…³é”®å­—å®šä¹‰JavaScript å˜é‡ï¼š 1var a = 10 å¤§å®¶éƒ½èƒ½ç†è§£ï¼Œè¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªåä¸º a å€¼ä¸º 10 çš„å˜é‡ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰å˜é‡ï¼š 12345function f() &#123; var message = 'Hello World!' return message&#125; å¹¶ä¸”æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å…¶å®ƒå‡½æ•°å†…éƒ¨è®¿é—®ç›¸åŒçš„å˜é‡ï¼š 12345678910function f() &#123; var a = 10 return function g() &#123; var b = a + 1 return b &#125;&#125;var g = f()g() // returns 11 ä¸Šé¢çš„ä¾‹å­æ˜¯ä¸€ä¸ªå…¸å‹çš„é—­åŒ…åœºæ™¯ï¼Œg å¯ä»¥è·å–åˆ° f å‡½æ•°é‡Œå®šä¹‰çš„ a å˜é‡ã€‚ æ¯å½“ g è¢«è°ƒç”¨æ—¶ï¼Œå®ƒéƒ½å¯ä»¥è®¿é—®åˆ° f é‡Œçš„ a å˜é‡ã€‚ å³ä½¿å½“ g åœ¨ f å·²ç»æ‰§è¡Œå®Œåæ‰è¢«è°ƒç”¨ï¼Œå®ƒä»ç„¶å¯ä»¥è®¿é—® aã€‚ ä½œç”¨åŸŸè§„åˆ™var å£°æ˜æœ‰äº›å¥‡æ€ªçš„ä½œç”¨åŸŸè§„åˆ™ã€‚ çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š 12345678910function f(shouldInitialize) &#123; if (shouldInitialize) &#123; var x = 10 &#125; return x&#125;f(true) // returns '10'f(false) // returns 'undefined' æœ‰äº›äººå¯èƒ½è¦å¤šçœ‹å‡ éè¿™ä¸ªä¾‹å­ã€‚ å˜é‡ x æ˜¯å®šä¹‰åœ¨ if è¯­å¥é‡Œé¢ï¼Œä½†æ˜¯æˆ‘ä»¬å´å¯ä»¥åœ¨è¯­å¥çš„å¤–é¢è®¿é—®å®ƒã€‚ è¿™æ˜¯å› ä¸º var å£°æ˜çš„ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œå‡½æ•°å‚æ•°ä¹Ÿä½¿ç”¨å‡½æ•°ä½œç”¨åŸŸã€‚ è¿™äº›ä½œç”¨åŸŸè§„åˆ™å¯èƒ½ä¼šå¼•å‘ä¸€äº›é”™è¯¯ã€‚ å…¶ä¸­ä¹‹ä¸€å°±æ˜¯ï¼Œå¤šæ¬¡å£°æ˜åŒä¸€ä¸ªå˜é‡å¹¶ä¸ä¼šæŠ¥é”™ï¼š 1234567891011function sumMatrix(matrix) &#123; var sum = 0 for (var i = 0; i &lt; matrix.length; i++) &#123; var currentRow = matrix[i] for (var i = 0; i &lt; currentRow.length; i++) &#123; sum += currentRow[i] &#125; &#125; return sum&#125; è¿™é‡Œå¾ˆå®¹æ˜“çœ‹å‡ºä¸€äº›é—®é¢˜ï¼Œé‡Œå±‚çš„ for å¾ªç¯ä¼šè¦†ç›–å˜é‡ iï¼Œå› ä¸ºæ‰€æœ‰ i éƒ½å¼•ç”¨ç›¸åŒçš„å‡½æ•°ä½œç”¨åŸŸå†…çš„å˜é‡ã€‚ æœ‰ç»éªŒçš„å¼€å‘è€…ä»¬å¾ˆæ¸…æ¥šï¼Œè¿™äº›é—®é¢˜å¯èƒ½åœ¨ä»£ç å®¡æŸ¥æ—¶æ¼æ‰ï¼Œå¼•å‘æ— ç©·çš„éº»çƒ¦ã€‚ æ•è·å˜é‡æ€ªå¼‚ä¹‹å¤„çŒœä¸€ä¸‹ä¸‹é¢çš„ä»£ç ä¼šè¿”å›ä»€ä¹ˆï¼š 12345for (var i = 0; i &lt; 10; i++) &#123; setTimeout(function() &#123; console.log(i) &#125;, 100 * i)&#125; ç­”æ¡ˆæ˜¯ï¼ŒsetTimeout ä¼šåœ¨è‹¥å¹²æ¯«ç§’çš„å»¶æ—¶åæ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼ˆç­‰å¾…å…¶å®ƒä»£ç æ‰§è¡Œå®Œæ¯•ï¼‰ï¼š 1234567891010101010101010101010 å¾ˆå¤š JavaScript ç¨‹åºå‘˜å¯¹è¿™ç§è¡Œä¸ºå·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œä½†å¦‚æœä½ å¾ˆä¸è§£ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œå› ä¸ºä½ å¹¶ä¸æ˜¯ä¸€ä¸ªäººã€‚ å¤§å¤šæ•°äººæœŸæœ›è¾“å‡ºç»“æœæ˜¯è¿™æ ·ï¼š 123456789100123456789 æˆ‘ä»¬ä¼ ç»™ setTimeout çš„æ¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼å®é™…ä¸Šéƒ½å¼•ç”¨äº†ç›¸åŒä½œç”¨åŸŸé‡Œçš„åŒä¸€ä¸ª iã€‚ è®©æˆ‘ä»¬èŠ±ç‚¹æ—¶é—´æ€è€ƒä¸€ä¸‹è¿™æ˜¯ä¸ºä»€ä¹ˆã€‚ setTimeout åœ¨è‹¥å¹²æ¯«ç§’åæ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”æ˜¯åœ¨ for å¾ªç¯ç»“æŸåã€‚for å¾ªç¯ç»“æŸåï¼Œi çš„å€¼ä¸º 10ã€‚ æ‰€ä»¥å½“å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œå®ƒä¼šæ‰“å°å‡º 10ã€‚ ä¸€ä¸ªé€šå¸¸çš„è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ç«‹å³æ‰§è¡Œçš„å‡½æ•°è¡¨è¾¾å¼ï¼ˆIIFEï¼‰æ¥æ•è·æ¯æ¬¡è¿­ä»£æ—¶ i çš„å€¼ï¼š 1234567for (var i = 0; i &lt; 10; i++) &#123; (function(i) &#123; setTimeout(function() &#123; console.log(i) &#125;, 100 * i) &#125;)(i)&#125; è¿™ç§å¥‡æ€ªçš„å½¢å¼æˆ‘ä»¬å·²ç»å¸ç©ºè§æƒ¯äº†ã€‚ å‚æ•° i ä¼šè¦†ç›– for å¾ªç¯é‡Œçš„ iï¼Œä½†æ˜¯å› ä¸ºæˆ‘ä»¬èµ·äº†åŒæ ·çš„åå­—ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ç”¨æ€ä¹ˆæ”¹ for å¾ªç¯ä½“é‡Œçš„ä»£ç ã€‚ let å£°æ˜ç°åœ¨ä½ å·²ç»çŸ¥é“äº† var å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œè¿™æ°å¥½è¯´æ˜äº†ä¸ºä»€ä¹ˆç”¨ let è¯­å¥æ¥å£°æ˜å˜é‡ã€‚ é™¤äº†åå­—ä¸åŒå¤–ï¼Œ let ä¸ var çš„å†™æ³•ä¸€è‡´ï¼š 1let hello = 'Hello!' ä¸»è¦çš„åŒºåˆ«ä¸åœ¨è¯­æ³•ä¸Šï¼Œè€Œæ˜¯è¯­ä¹‰ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥ä¼šæ·±å…¥ç ”ç©¶ã€‚ å—ä½œç”¨åŸŸå½“ç”¨ let å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå®ƒä½¿ç”¨çš„æ˜¯å—ä½œç”¨åŸŸã€‚ ä¸åŒäºä½¿ç”¨ var å£°æ˜çš„å˜é‡é‚£æ ·å¯ä»¥åœ¨åŒ…å«å®ƒä»¬çš„å‡½æ•°å¤–è®¿é—®ï¼Œå—ä½œç”¨åŸŸå˜é‡åœ¨åŒ…å«å®ƒä»¬çš„å—æˆ– for å¾ªç¯ä¹‹å¤–æ˜¯ä¸èƒ½è®¿é—®çš„ã€‚ 123456789101112function f(input: boolean) &#123; let a = 100 if (input) &#123; // OK: ä»ç„¶èƒ½è®¿é—®åˆ° a let b = a + 1 return b &#125; // Error: 'b' åœ¨è¿™é‡Œä¸å­˜åœ¨ return b&#125; è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº† 2 ä¸ªå˜é‡ a å’Œ bã€‚ a çš„ä½œç”¨åŸŸæ˜¯ f å‡½æ•°ä½“å†…ï¼Œè€Œ b çš„ä½œç”¨åŸŸæ˜¯ if è¯­å¥å—é‡Œã€‚ åœ¨ catch è¯­å¥é‡Œå£°æ˜çš„å˜é‡ä¹Ÿå…·æœ‰åŒæ ·çš„ä½œç”¨åŸŸè§„åˆ™ã€‚ 123456789try &#123; throw 'Oh no!';&#125;catch (e) &#123; console.log('Catch it.')&#125;// Error: 'e' åœ¨è¿™é‡Œä¸å­˜åœ¨console.log(e) æ‹¥æœ‰å—çº§ä½œç”¨åŸŸçš„å˜é‡çš„å¦ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œå®ƒä»¬ä¸èƒ½åœ¨è¢«å£°æ˜ä¹‹å‰è¯»æˆ–å†™ã€‚ è™½ç„¶è¿™äº›å˜é‡å§‹ç»ˆâ€œå­˜åœ¨â€äºå®ƒä»¬çš„ä½œç”¨åŸŸé‡Œï¼Œä½†åœ¨ç›´åˆ°å£°æ˜å®ƒçš„ä»£ç ä¹‹å‰çš„åŒºåŸŸéƒ½å±äºæš‚æ—¶æ€§æ­»åŒºã€‚ å®ƒåªæ˜¯ç”¨æ¥è¯´æ˜æˆ‘ä»¬ä¸èƒ½åœ¨ let è¯­å¥ä¹‹å‰è®¿é—®å®ƒä»¬ï¼Œå¹¸è¿çš„æ˜¯ TypeScript å¯ä»¥å‘Šè¯‰æˆ‘ä»¬è¿™äº›ä¿¡æ¯ã€‚ 12a++ // TS2448: Block-scoped variable 'a' used before its declaration.let a æ³¨æ„ä¸€ç‚¹ï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥åœ¨ä¸€ä¸ªæ‹¥æœ‰å—ä½œç”¨åŸŸå˜é‡è¢«å£°æ˜å‰è·å–å®ƒã€‚ åªæ˜¯æˆ‘ä»¬ä¸èƒ½åœ¨å˜é‡å£°æ˜å‰å»è°ƒç”¨é‚£ä¸ªå‡½æ•°ã€‚ å¦‚æœç”Ÿæˆä»£ç ç›®æ ‡ä¸º ES2015ï¼Œç°ä»£çš„è¿è¡Œæ—¶ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼›ç„¶è€Œï¼Œç°ä»Š TypeScript æ˜¯ä¸ä¼šæŠ¥é”™çš„ã€‚ 12345678910function foo() &#123; // okay to capture 'a' return a&#125;// ä¸èƒ½åœ¨'a'è¢«å£°æ˜å‰è°ƒç”¨'foo'// è¿è¡Œæ—¶åº”è¯¥æŠ›å‡ºé”™è¯¯foo()let a å…³äºæš‚æ—¶æ€§æ­»åŒºçš„æ›´å¤šä¿¡æ¯ï¼ŒæŸ¥çœ‹è¿™é‡Œ Mozilla Developer Networkã€‚ é‡å®šä¹‰åŠå±è”½æˆ‘ä»¬æè¿‡ä½¿ç”¨ var å£°æ˜æ—¶ï¼Œå®ƒä¸åœ¨ä¹ä½ å£°æ˜å¤šå°‘æ¬¡ï¼›ä½ åªä¼šå¾—åˆ° 1 ä¸ªã€‚ 12345678function f(x) &#123; var x var x if (true) &#123; var x &#125;&#125; åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæ‰€æœ‰ x çš„å£°æ˜å®é™…ä¸Šéƒ½å¼•ç”¨ä¸€ä¸ªç›¸åŒçš„xï¼Œå¹¶ä¸”è¿™æ˜¯å®Œå…¨æœ‰æ•ˆçš„ä»£ç ï¼Œä½†è¿™ç»å¸¸ä¼šæˆä¸º bug çš„æ¥æºã€‚å¹¸è¿çš„æ˜¯ let çš„å£°æ˜å°±ä¸ä¼šè¿™ä¹ˆå®½æ¾äº†ã€‚ 12let x = 10let x = 20 // é”™è¯¯ï¼Œä¸èƒ½åœ¨ 1 ä¸ªä½œç”¨åŸŸé‡Œå¤šæ¬¡å£°æ˜ x å¹¶ä¸æ˜¯è¦æ±‚ä¸¤ä¸ªå‡æ˜¯å—çº§ä½œç”¨åŸŸçš„å£°æ˜ TypeScript æ‰ä¼šç»™å‡ºä¸€ä¸ªé”™è¯¯çš„è­¦å‘Šã€‚ 12345678function f(x) &#123; let x = 100 // Error: å¹²æ‰°å‚æ•°å£°æ˜&#125;function g() &#123; let x = 100 var x = 100 // Error: ä¸èƒ½åŒæ—¶å…·æœ‰ x çš„ä¸¤ä¸ªå£°æ˜&#125; å¹¶ä¸æ˜¯è¯´å—çº§ä½œç”¨åŸŸå˜é‡ä¸èƒ½ç”¨å‡½æ•°ä½œç”¨åŸŸå˜é‡æ¥å£°æ˜ã€‚ è€Œæ˜¯å—çº§ä½œç”¨åŸŸå˜é‡éœ€è¦åœ¨æ˜æ˜¾ä¸åŒçš„å—é‡Œå£°æ˜ã€‚ 1234567891011function f(condition, x) &#123; if (condition) &#123; let x = 100 return x &#125; return x&#125;f(false, 0) // returns 0f(true, 0) // returns 100 åœ¨ä¸€ä¸ªåµŒå¥—ä½œç”¨åŸŸé‡Œå¼•å…¥ä¸€ä¸ªæ–°åå­—çš„è¡Œä¸ºç§°åšå±è”½ã€‚ å®ƒæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œå®ƒå¯èƒ½ä¼šä¸å°å¿ƒåœ°å¼•å…¥æ–°é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿå¯èƒ½ä¼šè§£å†³ä¸€äº›é”™è¯¯ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨ç”¨ let é‡å†™ä¹‹å‰çš„ sumMatrix å‡½æ•°ã€‚ 1234567891011function sumMatrix(matrix: number[][]) &#123; let sum = 0 for (let i = 0; i &lt; matrix.length; i++) &#123; let currentRow = matrix[i] for (let i = 0; i &lt; currentRow.length; i++) &#123; sum += currentRow[i] &#125; &#125; return sum&#125; è¿™ä¸ªç‰ˆæœ¬çš„å¾ªç¯èƒ½å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œå› ä¸ºå†…å±‚å¾ªç¯çš„ i å¯ä»¥å±è”½æ‰å¤–å±‚å¾ªç¯çš„ iã€‚ é€šå¸¸æ¥è®²åº”è¯¥é¿å…ä½¿ç”¨å±è”½ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦å†™å‡ºæ¸…æ™°çš„ä»£ç ã€‚ åŒæ—¶ä¹Ÿæœ‰äº›åœºæ™¯é€‚åˆåˆ©ç”¨å®ƒï¼Œä½ éœ€è¦å¥½å¥½æƒè¡¡ä¸€ä¸‹ã€‚ å—çº§ä½œç”¨åŸŸå˜é‡çš„è·å–æ¯æ¬¡è¿›å…¥ä¸€ä¸ªä½œç”¨åŸŸæ—¶ï¼Œlet ä¼šåˆ›å»ºä¸€ä¸ªå˜é‡çš„ç¯å¢ƒã€‚å°±ç®—ä½œç”¨åŸŸå†…ä»£ç å·²ç»æ‰§è¡Œå®Œæ¯•ï¼Œè¿™ä¸ªç¯å¢ƒä¸å…¶æ•è·çš„å˜é‡ä¾ç„¶å­˜åœ¨ã€‚ å›æƒ³ä¸€ä¸‹å‰é¢ setTimeout çš„ä¾‹å­ï¼Œæˆ‘ä»¬æœ€åéœ€è¦ä½¿ç”¨ç«‹å³æ‰§è¡Œçš„å‡½æ•°è¡¨è¾¾å¼æ¥è·å–æ¯æ¬¡ for å¾ªç¯è¿­ä»£é‡Œçš„çŠ¶æ€ã€‚ å®é™…ä¸Šï¼Œæˆ‘ä»¬åšçš„æ˜¯ä¸ºè·å–åˆ°çš„å˜é‡åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å˜é‡ç¯å¢ƒã€‚ è¿™æ ·åšæŒºç—›è‹¦çš„ï¼Œä½†æ˜¯å¹¸è¿çš„æ˜¯ï¼Œä½ ä¸å¿…åœ¨ TypeScript é‡Œè¿™æ ·åšäº†ã€‚ å½“ let å£°æ˜å‡ºç°åœ¨å¾ªç¯ä½“é‡Œæ—¶æ‹¥æœ‰å®Œå…¨ä¸åŒçš„è¡Œä¸ºã€‚ä¸ä»…æ˜¯åœ¨å¾ªç¯é‡Œå¼•å…¥äº†ä¸€ä¸ªæ–°çš„å˜é‡ç¯å¢ƒï¼Œè€Œä¸”é’ˆå¯¹æ¯æ¬¡è¿­ä»£éƒ½ä¼šåˆ›å»ºè¿™æ ·ä¸€ä¸ªæ–°ä½œç”¨åŸŸï¼Œè¿™å°±ç›¸å½“äºæˆ‘ä»¬åœ¨ä½¿ç”¨ç«‹å³æ‰§è¡Œçš„å‡½æ•°è¡¨è¾¾å¼æ—¶åšçš„äº‹ã€‚æ‰€ä»¥åœ¨ setTimeout ä¾‹å­é‡Œæˆ‘ä»¬ä»…ä½¿ç”¨ let å£°æ˜å°±å¯ä»¥äº†ã€‚ 12345for (let i = 0; i &lt; 10 ; i++) &#123; setTimeout(function() &#123; console.log(i) &#125;, 100 * i)&#125; ä¼šè¾“å‡ºä¸é¢„æ–™ä¸€è‡´çš„ç»“æœï¼š 123456789100123456789 const å£°æ˜const å£°æ˜æ˜¯å£°æ˜å˜é‡çš„å¦ä¸€ç§æ–¹å¼ã€‚ 1const numLivesForCat = 9 å®ƒä»¬ä¸ let å£°æ˜ç›¸ä¼¼ï¼Œä½†æ˜¯å°±åƒå®ƒçš„åå­—æ‰€è¡¨è¾¾çš„ï¼Œå®ƒä»¬è¢«èµ‹å€¼åä¸èƒ½å†æ”¹å˜ã€‚ æ¢å¥è¯è¯´ï¼Œå®ƒä»¬æ‹¥æœ‰ä¸ let ç›¸åŒçš„ä½œç”¨åŸŸè§„åˆ™ï¼Œä½†æ˜¯ä¸èƒ½å¯¹å®ƒä»¬é‡æ–°èµ‹å€¼ã€‚ è¿™å¾ˆå¥½ç†è§£ï¼Œå®ƒä»¬å¼•ç”¨çš„å€¼æ˜¯ä¸å¯å˜çš„ã€‚ 123456789101112131415const numLivesForCat = 9const kitty = &#123; name: 'Kitty', numLives: numLivesForCat&#125;// Errorkitty = &#123; name: 'Tommy', numLives: numLivesForCat&#125;;// OKkitty.name = 'Jerry'kitty.numLives-- é™¤éä½ ä½¿ç”¨ç‰¹æ®Šçš„æ–¹æ³•å»é¿å…ï¼Œå®é™…ä¸Š const å˜é‡çš„å†…éƒ¨çŠ¶æ€æ˜¯å¯ä¿®æ”¹çš„ã€‚ å¹¸è¿çš„æ˜¯ï¼ŒTypeScript å…è®¸ä½ å°†å¯¹è±¡çš„æˆå‘˜è®¾ç½®æˆåªè¯»çš„ã€‚æ¥å£ä¸€ç« æœ‰è¯¦ç»†è¯´æ˜ã€‚ let vs. constç°åœ¨æˆ‘ä»¬æœ‰ä¸¤ç§ä½œç”¨åŸŸç›¸ä¼¼çš„å£°æ˜æ–¹å¼ï¼Œæˆ‘ä»¬è‡ªç„¶ä¼šé—®åˆ°åº•åº”è¯¥ä½¿ç”¨å“ªä¸ªã€‚ä¸å¤§å¤šæ•°æ³›æ³›çš„é—®é¢˜ä¸€æ ·ï¼Œç­”æ¡ˆæ˜¯ï¼šä¾æƒ…å†µè€Œå®šã€‚ ä½¿ç”¨æœ€å°ç‰¹æƒåŸåˆ™ï¼Œæ‰€æœ‰å˜é‡é™¤äº†ä½ è®¡åˆ’å»ä¿®æ”¹çš„éƒ½åº”è¯¥ä½¿ç”¨ constã€‚ åŸºæœ¬åŸåˆ™å°±æ˜¯å¦‚æœä¸€ä¸ªå˜é‡ä¸éœ€è¦å¯¹å®ƒå†™å…¥ï¼Œé‚£ä¹ˆå…¶å®ƒä½¿ç”¨è¿™äº›ä»£ç çš„äººä¹Ÿä¸èƒ½å¤Ÿå†™å…¥å®ƒä»¬ï¼Œå¹¶ä¸”è¦æ€è€ƒä¸ºä»€ä¹ˆä¼šéœ€è¦å¯¹è¿™äº›å˜é‡é‡æ–°èµ‹å€¼ã€‚ä½¿ç”¨ const ä¹Ÿå¯ä»¥è®©æˆ‘ä»¬æ›´å®¹æ˜“çš„æ¨æµ‹æ•°æ®çš„æµåŠ¨ã€‚ è§£æ„è§£æ„æ•°ç»„æœ€ç®€å•çš„è§£æ„è«è¿‡äºæ•°ç»„çš„è§£æ„èµ‹å€¼äº†ï¼š 1234let input = [1, 2]let [first, second] = inputconsole.log(first) // outputs 1console.log(second) // outputs 2 è¿™åˆ›å»ºäº† 2 ä¸ªå‘½åå˜é‡ first å’Œ secondã€‚ ç›¸å½“äºä½¿ç”¨äº†ç´¢å¼•ï¼Œä½†æ›´ä¸ºæ–¹ä¾¿ï¼š 12let first = input[0]let second = input[1] ä½œç”¨äºå‡½æ•°å‚æ•°ï¼š 12345678let input: [number, number] = [1, 2]function f([first, second]: [number, number]) &#123; console.log(first) console.log(second)&#125;f(input) ä½ å¯ä»¥åœ¨æ•°ç»„é‡Œä½¿ç”¨ ... è¯­æ³•åˆ›å»ºå‰©ä½™å˜é‡ï¼š 123let [first, ...rest] = [1, 2, 3, 4]console.log(first) // outputs 1console.log(rest) // outputs [ 2, 3, 4 ] ä½ ä¹Ÿå¯ä»¥å¿½ç•¥ä½ ä¸å…³å¿ƒçš„å°¾éšå…ƒç´ ï¼š 12let [first] = [1, 2, 3, 4]console.log(first) // outputs 1 æˆ–å…¶å®ƒå…ƒç´ ï¼š 1let [, second, , fourth] = [1, 2, 3, 4] å¯¹è±¡è§£æ„ä½ ä¹Ÿå¯ä»¥è§£æ„å¯¹è±¡ï¼š 123456let o = &#123; a: 'foo', b: 12, c: 'bar'&#125;let &#123; a, b &#125; = o è¿™é€šè¿‡ o.a å’Œ o.b åˆ›å»ºäº† a å’Œ b ã€‚ æ³¨æ„ï¼Œå¦‚æœä½ ä¸éœ€è¦ c ä½ å¯ä»¥å¿½ç•¥å®ƒã€‚ ä½ å¯ä»¥åœ¨å¯¹è±¡é‡Œä½¿ç”¨ ... è¯­æ³•åˆ›å»ºå‰©ä½™å˜é‡ï¼š 12let &#123; a, ...passthrough &#125; = olet total = passthrough.b + passthrough.c.length å±æ€§é‡å‘½åä½ ä¹Ÿå¯ä»¥ç»™å±æ€§ä»¥ä¸åŒçš„åå­—ï¼š 1let &#123; a: newName1, b: newName2 &#125; = o è¿™é‡Œçš„è¯­æ³•å¼€å§‹å˜å¾—æ··ä¹±ã€‚ ä½ å¯ä»¥å°† a: newName1 è¯»åš &quot;a ä½œä¸º newName1&quot;ã€‚ æ–¹å‘æ˜¯ä»å·¦åˆ°å³ï¼Œå¥½åƒä½ å†™æˆäº†ä»¥ä¸‹æ ·å­ï¼š 12let newName1 = o.alet newName2 = o.b ä»¤äººå›°æƒ‘çš„æ˜¯ï¼Œè¿™é‡Œçš„å†’å·ä¸æ˜¯æŒ‡ç¤ºç±»å‹çš„ã€‚ å¦‚æœä½ æƒ³æŒ‡å®šå®ƒçš„ç±»å‹ï¼Œä»ç„¶éœ€è¦åœ¨å…¶åå†™ä¸Šå®Œæ•´çš„æ¨¡å¼ã€‚ 1let &#123;a, b&#125;: &#123;a: string, b: number&#125; = o é»˜è®¤å€¼é»˜è®¤å€¼å¯ä»¥è®©ä½ åœ¨å±æ€§ä¸º undefined æ—¶ä½¿ç”¨ç¼ºçœå€¼ï¼š 123function keepWholeObject(wholeObject: &#123; a: string, b?: number &#125;) &#123; let &#123; a, b = 1001 &#125; = wholeObject&#125; ç°åœ¨ï¼Œå³ä½¿ b ä¸º undefined ï¼Œ keepWholeObject å‡½æ•°çš„å˜é‡ wholeObject çš„å±æ€§ a å’Œ b éƒ½ä¼šæœ‰å€¼ã€‚ å‡½æ•°å£°æ˜è§£æ„ä¹Ÿèƒ½ç”¨äºå‡½æ•°å£°æ˜ã€‚ çœ‹ä»¥ä¸‹ç®€å•çš„æƒ…å†µï¼š 1234type C = &#123; a: string, b?: number &#125;function f(&#123; a, b &#125;: C): void &#123; // ...&#125; ä½†æ˜¯ï¼Œé€šå¸¸æƒ…å†µä¸‹æ›´å¤šçš„æ˜¯æŒ‡å®šé»˜è®¤å€¼ï¼Œè§£æ„é»˜è®¤å€¼æœ‰äº›æ£˜æ‰‹ã€‚ é¦–å…ˆï¼Œä½ éœ€è¦åœ¨é»˜è®¤å€¼ä¹‹å‰è®¾ç½®å…¶æ ¼å¼ã€‚ 1234function f(&#123; a = '', b = 0 &#125; = &#123;&#125;): void &#123; // ...&#125;f() ä¸Šé¢çš„ä»£ç æ˜¯ä¸€ä¸ªç±»å‹æ¨æ–­çš„ä¾‹å­ï¼Œå°†åœ¨åç»­ç« èŠ‚ä»‹ç»ã€‚ å…¶æ¬¡ï¼Œä½ éœ€è¦çŸ¥é“åœ¨è§£æ„å±æ€§ä¸Šç»™äºˆä¸€ä¸ªé»˜è®¤æˆ–å¯é€‰çš„å±æ€§ç”¨æ¥æ›¿æ¢ä¸»åˆå§‹åŒ–åˆ—è¡¨ã€‚ è¦çŸ¥é“ C çš„å®šä¹‰æœ‰ä¸€ä¸ª b å¯é€‰å±æ€§ï¼š 123456function f(&#123; a, b = 0 &#125; = &#123; a: '' &#125;): void &#123; // ...&#125;f(&#123; a: 'yes' &#125;) // OK, é»˜è®¤ b = 0f() // OK, é»˜è®¤ a: '', b = 0f(&#123;&#125;) // Error, ä¸€æ—¦ä¼ å…¥å‚æ•°åˆ™ a æ˜¯å¿…é¡»çš„ è¦å°å¿ƒä½¿ç”¨è§£æ„ã€‚ ä»å‰é¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œå°±ç®—æ˜¯æœ€ç®€å•çš„è§£æ„è¡¨è¾¾å¼ä¹Ÿæ˜¯éš¾ä»¥ç†è§£çš„ã€‚ å°¤å…¶å½“å­˜åœ¨æ·±å±‚åµŒå¥—è§£æ„çš„æ—¶å€™ï¼Œå°±ç®—è¿™æ—¶æ²¡æœ‰å †å åœ¨ä¸€èµ·çš„é‡å‘½åï¼Œé»˜è®¤å€¼å’Œç±»å‹æ³¨è§£ï¼Œä¹Ÿæ˜¯ä»¤äººéš¾ä»¥ç†è§£çš„ã€‚ è§£æ„è¡¨è¾¾å¼è¦å°½é‡ä¿æŒå°è€Œç®€å•ã€‚ å±•å¼€123let first = [1, 2]let second = [3, 4]let bothPlus = [0, ...first, ...second, 5] è¿™ä¼šä»¤ bothPlus çš„å€¼ä¸º [0, 1, 2, 3, 4, 5]ã€‚ å±•å¼€æ“ä½œåˆ›å»ºäº† first å’Œ secondçš„ ä¸€ä»½æµ…æ‹·è´ã€‚ å®ƒä»¬ä¸ä¼šè¢«å±•å¼€æ“ä½œæ‰€æ”¹å˜ã€‚ ä½ è¿˜å¯ä»¥å±•å¼€å¯¹è±¡ï¼š 12let defaults = &#123; food: 'spicy', price: '$10', ambiance: 'noisy' &#125;let search = &#123; ...defaults, food: 'rich' &#125; searchçš„å€¼ä¸º { food: &#39;rich&#39;, price: &#39;$10&#39;, ambiance: &#39;noisy&#39; }ã€‚ å¯¹è±¡çš„å±•å¼€æ¯”æ•°ç»„çš„å±•å¼€è¦å¤æ‚çš„å¤šã€‚åƒæ•°ç»„å±•å¼€ä¸€æ ·ï¼Œå®ƒæ˜¯ä»å·¦è‡³å³è¿›è¡Œå¤„ç†ï¼Œä½†ç»“æœä»ä¸ºå¯¹è±¡ã€‚è¿™å°±æ„å‘³ç€å‡ºç°åœ¨å±•å¼€å¯¹è±¡åé¢çš„å±æ€§ä¼šè¦†ç›–å‰é¢çš„å±æ€§ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä¿®æ”¹ä¸Šé¢çš„ä¾‹å­ï¼Œåœ¨ç»“å°¾å¤„è¿›è¡Œå±•å¼€çš„è¯ï¼š 12let defaults = &#123; food: 'spicy', price: '$10', ambiance: 'noisy' &#125;let search = &#123; food: 'rich', ...defaults &#125; é‚£ä¹ˆï¼Œdefaults é‡Œçš„ food å±æ€§ä¼šé‡å†™ food: &#39;rich&#39;ï¼Œåœ¨è¿™é‡Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚ æ¥å£TypeScript çš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€æ˜¯å¯¹å€¼æ‰€å…·æœ‰çš„ç»“æ„è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚å®ƒæœ‰æ—¶è¢«ç§°åšâ€œé¸­å¼è¾¨å‹æ³•â€æˆ–â€œç»“æ„æ€§å­ç±»å‹åŒ–â€ã€‚ åœ¨ TypeScript é‡Œï¼Œæ¥å£çš„ä½œç”¨å°±æ˜¯ä¸ºè¿™äº›ç±»å‹å‘½åå’Œä¸ºä½ çš„ä»£ç æˆ–ç¬¬ä¸‰æ–¹ä»£ç å®šä¹‰å¥‘çº¦ã€‚ æ¥å£åˆæ¢ä¸‹é¢é€šè¿‡ä¸€ä¸ªç®€å•ç¤ºä¾‹æ¥è§‚å¯Ÿæ¥å£æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š 123456function printLabel(labelledObj: &#123; label: string &#125;) &#123; console.log(labelledObj.label)&#125;let myObj = &#123; size: 10, label: 'Size 10 Object' &#125;printLabel(myObj) ç±»å‹æ£€æŸ¥å™¨ä¼šæŸ¥çœ‹ printLabel çš„è°ƒç”¨ã€‚printLabel æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¹¶è¦æ±‚è¿™ä¸ªå¯¹è±¡å‚æ•°æœ‰ä¸€ä¸ªåä¸º label ç±»å‹ä¸º string çš„å±æ€§ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ä¼ å…¥çš„å¯¹è±¡å‚æ•°å®é™…ä¸Šä¼šåŒ…å«å¾ˆå¤šå±æ€§ï¼Œä½†æ˜¯ç¼–è¯‘å™¨åªä¼šæ£€æŸ¥é‚£äº›å¿…éœ€çš„å±æ€§æ˜¯å¦å­˜åœ¨ï¼Œä»¥åŠå…¶ç±»å‹æ˜¯å¦åŒ¹é…ã€‚ ç„¶è€Œï¼Œæœ‰äº›æ—¶å€™ TypeScript å´å¹¶ä¸ä¼šè¿™ä¹ˆå®½æ¾ï¼Œæˆ‘ä»¬ä¸‹é¢ä¼šç¨åšè®²è§£ã€‚ ä¸‹é¢æˆ‘ä»¬é‡å†™ä¸Šé¢çš„ä¾‹å­ï¼Œè¿™æ¬¡ä½¿ç”¨æ¥å£æ¥æè¿°ï¼šå¿…é¡»åŒ…å«ä¸€ä¸ªlabel å±æ€§ä¸”ç±»å‹ä¸º stringï¼š 12345678910interface LabelledValue &#123; label: string&#125;function printLabel(labelledObj: LabelledValue) &#123; console.log(labelledObj.label)&#125;let myObj = &#123;size: 10, label: 'Size 10 Object'&#125;printLabel(myObj) LabelledValue æ¥å£å°±å¥½æ¯”ä¸€ä¸ªåå­—ï¼Œç”¨æ¥æè¿°ä¸Šé¢ä¾‹å­é‡Œçš„ç»“æ„ã€‚ å®ƒä»£è¡¨äº†æœ‰ä¸€ä¸ª label å±æ€§ä¸”ç±»å‹ä¸ºstring çš„å¯¹è±¡ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå¹¶ä¸èƒ½åƒåœ¨å…¶å®ƒè¯­è¨€é‡Œä¸€æ ·ï¼Œè¯´ä¼ ç»™ printLabel çš„å¯¹è±¡å®ç°äº†è¿™ä¸ªæ¥å£ã€‚æˆ‘ä»¬åªä¼šå»å…³æ³¨å€¼çš„å¤–å½¢ã€‚ åªè¦ä¼ å…¥çš„å¯¹è±¡æ»¡è¶³ä¸Šé¢æåˆ°çš„å¿…è¦æ¡ä»¶ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯è¢«å…è®¸çš„ã€‚ è¿˜æœ‰ä¸€ç‚¹å€¼å¾—æçš„æ˜¯ï¼Œç±»å‹æ£€æŸ¥å™¨ä¸ä¼šå»æ£€æŸ¥å±æ€§çš„é¡ºåºï¼Œåªè¦ç›¸åº”çš„å±æ€§å­˜åœ¨å¹¶ä¸”ç±»å‹ä¹Ÿæ˜¯å¯¹çš„å°±å¯ä»¥ã€‚ å¯é€‰å±æ€§æ¥å£é‡Œçš„å±æ€§ä¸å…¨éƒ½æ˜¯å¿…éœ€çš„ã€‚ æœ‰äº›æ˜¯åªåœ¨æŸäº›æ¡ä»¶ä¸‹å­˜åœ¨ï¼Œæˆ–è€…æ ¹æœ¬ä¸å­˜åœ¨ã€‚ä¾‹å¦‚ç»™å‡½æ•°ä¼ å…¥çš„å‚æ•°å¯¹è±¡ä¸­åªæœ‰éƒ¨åˆ†å±æ€§èµ‹å€¼äº†ã€‚ 12345678910111213141516171819202122interface Square &#123; color: string, area: number&#125;interface SquareConfig &#123; color?: string width?: number&#125;function createSquare (config: SquareConfig): Square &#123; let newSquare = &#123;color: 'white', area: 100&#125; if (config.color) &#123; newSquare.color = config.color &#125; if (config.width) &#123; newSquare.area = config.width * config.width &#125; return newSquare&#125;let mySquare = createSquare(&#123;color: 'black'&#125;) å¸¦æœ‰å¯é€‰å±æ€§çš„æ¥å£ä¸æ™®é€šçš„æ¥å£å®šä¹‰å·®ä¸å¤šï¼Œåªæ˜¯åœ¨å¯é€‰å±æ€§åå­—å®šä¹‰çš„åé¢åŠ ä¸€ä¸ª ? ç¬¦å·ã€‚ å¯é€‰å±æ€§çš„å¥½å¤„ä¹‹ä¸€æ˜¯å¯ä»¥å¯¹å¯èƒ½å­˜åœ¨çš„å±æ€§è¿›è¡Œé¢„å®šä¹‰ï¼Œå¥½å¤„ä¹‹äºŒæ˜¯å¯ä»¥æ•è·å¼•ç”¨äº†ä¸å­˜åœ¨çš„å±æ€§æ—¶çš„é”™è¯¯ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬æ•…æ„å°† createSquare é‡Œçš„ color å±æ€§åæ‹¼é”™ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯æç¤ºï¼š 1234567891011121314151617181920212223interface Square &#123; color: string, area: number&#125;interface SquareConfig &#123; color?: string; width?: number;&#125; function createSquare(config: SquareConfig): Square &#123; let newSquare = &#123;color: 'white', area: 100&#125; if (config.clor) &#123; // Error: å±æ€§ 'clor' ä¸å­˜åœ¨äºç±»å‹ 'SquareConfig' ä¸­ newSquare.color = config.clor &#125; if (config.width) &#123; newSquare.area = config.width * config.width &#125; return newSquare &#125; let mySquare = createSquare(&#123;color: 'black'&#125;) åªè¯»å±æ€§ä¸€äº›å¯¹è±¡å±æ€§åªèƒ½åœ¨å¯¹è±¡åˆšåˆšåˆ›å»ºçš„æ—¶å€™ä¿®æ”¹å…¶å€¼ã€‚ ä½ å¯ä»¥åœ¨å±æ€§åå‰ç”¨ readonly æ¥æŒ‡å®šåªè¯»å±æ€§: 1234interface Point &#123; readonly x: number readonly y: number&#125; ä½ å¯ä»¥é€šè¿‡èµ‹å€¼ä¸€ä¸ªå¯¹è±¡å­—é¢é‡æ¥æ„é€ ä¸€ä¸ª Pointã€‚ èµ‹å€¼åï¼Œx å’Œ y å†ä¹Ÿä¸èƒ½è¢«æ”¹å˜äº†ã€‚ 12let p1: Point = &#123; x: 10, y: 20 &#125;p1.x = 5 // error! TypeScript å…·æœ‰ ReadonlyArray&lt;T&gt; ç±»å‹ï¼Œå®ƒä¸ Array&lt;T&gt; ç›¸ä¼¼ï¼Œåªæ˜¯æŠŠæ‰€æœ‰å¯å˜æ–¹æ³•å»æ‰äº†ï¼Œå› æ­¤å¯ä»¥ç¡®ä¿æ•°ç»„åˆ›å»ºåå†ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ï¼š 123456let a: number[] = [1, 2, 3, 4]let ro: ReadonlyArray&lt;number&gt; = aro[0] = 12 // error!ro.push(5) // error!ro.length = 100 // error!a = ro // error! ä¸Šé¢ä»£ç çš„æœ€åä¸€è¡Œï¼Œå¯ä»¥çœ‹åˆ°å°±ç®—æŠŠæ•´ä¸ª ReadonlyArray èµ‹å€¼åˆ°ä¸€ä¸ªæ™®é€šæ•°ç»„ä¹Ÿæ˜¯ä¸å¯ä»¥çš„ã€‚ ä½†æ˜¯ä½ å¯ä»¥ç”¨ç±»å‹æ–­è¨€é‡å†™ï¼š 1a = ro as number[] readonly vs constæœ€ç®€å•åˆ¤æ–­è¯¥ç”¨ readonly è¿˜æ˜¯ const çš„æ–¹æ³•æ˜¯çœ‹è¦æŠŠå®ƒåšä¸ºå˜é‡ä½¿ç”¨è¿˜æ˜¯åšä¸ºä¸€ä¸ªå±æ€§ã€‚ åšä¸ºå˜é‡ä½¿ç”¨çš„è¯ç”¨ constï¼Œè‹¥åšä¸ºå±æ€§åˆ™ä½¿ç”¨ readonlyã€‚ é¢å¤–çš„å±æ€§æ£€æŸ¥æˆ‘ä»¬åœ¨ç¬¬ä¸€ä¸ªä¾‹å­é‡Œä½¿ç”¨äº†æ¥å£ï¼ŒTypeScript è®©æˆ‘ä»¬ä¼ å…¥ { size: number; label: string; } åˆ°ä»…æœŸæœ›å¾—åˆ° { label: string; } çš„å‡½æ•°é‡Œ, å¹¶ä¸”æˆ‘ä»¬å·²ç»å­¦è¿‡äº†å¯é€‰å±æ€§ã€‚ ç„¶è€Œï¼Œå¤©çœŸåœ°å°†è¿™ä¸¤è€…ç»“åˆçš„è¯å°±ä¼šåƒåœ¨ JavaScript é‡Œé‚£æ ·æ¬èµ·çŸ³å¤´ç ¸è‡ªå·±çš„è„šã€‚ æ¯”å¦‚ï¼Œæ‹¿ createSquare ä¾‹å­æ¥è¯´ï¼š 123456789101112131415161718interface SquareConfig &#123; color?: string; width?: number;&#125;function createSquare (config: SquareConfig): &#123; color: string; area: number &#125; &#123; let newSquare = &#123;color: 'white', area: 100&#125; if (config.color) &#123; newSquare.color = config.color &#125; if (config.width) &#123; newSquare.area = config.width * config.width &#125; return newSquare&#125;let mySquare = createSquare(&#123; colour: 'red', width: 100 &#125;) æ³¨æ„ä¼ å…¥ createSquare çš„å‚æ•°æ‹¼å†™ä¸º colour è€Œä¸æ˜¯ colorã€‚ åœ¨ JavaScript é‡Œï¼Œè¿™ä¼šé»˜é»˜åœ°å¤±è´¥ã€‚ ä½ å¯èƒ½ä¼šäº‰è¾©è¿™ä¸ªç¨‹åºå·²ç»æ­£ç¡®åœ°ç±»å‹åŒ–äº†ï¼Œå› ä¸º width å±æ€§æ˜¯å…¼å®¹çš„ï¼Œä¸å­˜åœ¨ color å±æ€§ï¼Œè€Œä¸”é¢å¤–çš„ colour å±æ€§æ˜¯æ— æ„ä¹‰çš„ã€‚ ç„¶è€Œï¼ŒTypeScript ä¼šè®¤ä¸ºè¿™æ®µä»£ç å¯èƒ½å­˜åœ¨ bugã€‚ å¯¹è±¡å­—é¢é‡ä¼šè¢«ç‰¹æ®Šå¯¹å¾…è€Œä¸”ä¼šç»è¿‡é¢å¤–å±æ€§æ£€æŸ¥ï¼Œå½“å°†å®ƒä»¬èµ‹å€¼ç»™å˜é‡æˆ–ä½œä¸ºå‚æ•°ä¼ é€’çš„æ—¶å€™ã€‚ å¦‚æœä¸€ä¸ªå¯¹è±¡å­—é¢é‡å­˜åœ¨ä»»ä½•â€œç›®æ ‡ç±»å‹â€ä¸åŒ…å«çš„å±æ€§æ—¶ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚ 12// error: 'colour' ä¸å­˜åœ¨äºç±»å‹ 'SquareConfig' ä¸­let mySquare = createSquare(&#123; colour: 'red', width: 100 &#125;) ç»•å¼€è¿™äº›æ£€æŸ¥éå¸¸ç®€å•ã€‚ æœ€ç®€ä¾¿çš„æ–¹æ³•æ˜¯ä½¿ç”¨ç±»å‹æ–­è¨€ï¼š 1let mySquare = createSquare(&#123; width: 100, opacity: 0.5 &#125; as SquareConfig) ç„¶è€Œï¼Œæœ€ä½³çš„æ–¹å¼æ˜¯èƒ½å¤Ÿæ·»åŠ ä¸€ä¸ªå­—ç¬¦ä¸²ç´¢å¼•ç­¾åï¼Œå‰ææ˜¯ä½ èƒ½å¤Ÿç¡®å®šè¿™ä¸ªå¯¹è±¡å¯èƒ½å…·æœ‰æŸäº›åšä¸ºç‰¹æ®Šç”¨é€”ä½¿ç”¨çš„é¢å¤–å±æ€§ã€‚ å¦‚æœ SquareConfig å¸¦æœ‰ä¸Šé¢å®šä¹‰çš„ç±»å‹çš„ color å’Œ width å±æ€§ï¼Œå¹¶ä¸”è¿˜ä¼šå¸¦æœ‰ä»»æ„æ•°é‡çš„å…¶å®ƒå±æ€§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å®šä¹‰å®ƒï¼š 12345interface SquareConfig &#123; color?: string width?: number [propName: string]: any&#125; æˆ‘ä»¬ç¨åä¼šè®²åˆ°ç´¢å¼•ç­¾åï¼Œä½†åœ¨è¿™æˆ‘ä»¬è¦è¡¨ç¤ºçš„æ˜¯SquareConfig å¯ä»¥æœ‰ä»»æ„æ•°é‡çš„å±æ€§ï¼Œå¹¶ä¸”åªè¦å®ƒä»¬ä¸æ˜¯ color å’Œ widthï¼Œé‚£ä¹ˆå°±æ— æ‰€è°“å®ƒä»¬çš„ç±»å‹æ˜¯ä»€ä¹ˆã€‚ è¿˜æœ‰æœ€åä¸€ç§è·³è¿‡è¿™äº›æ£€æŸ¥çš„æ–¹å¼ï¼Œè¿™å¯èƒ½ä¼šè®©ä½ æ„Ÿåˆ°æƒŠè®¶ï¼Œå®ƒå°±æ˜¯å°†è¿™ä¸ªå¯¹è±¡èµ‹å€¼ç»™ä¸€ä¸ªå¦ä¸€ä¸ªå˜é‡ï¼š å› ä¸º squareOptions ä¸ä¼šç»è¿‡é¢å¤–å±æ€§æ£€æŸ¥ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™ã€‚ 12let squareOptions = &#123; colour: 'red', width: 100 &#125;let mySquare = createSquare(squareOptions) è¦ç•™æ„ï¼Œåœ¨åƒä¸Šé¢ä¸€æ ·çš„ç®€å•ä»£ç é‡Œï¼Œä½ å¯èƒ½ä¸åº”è¯¥å»ç»•å¼€è¿™äº›æ£€æŸ¥ã€‚ å¯¹äºåŒ…å«æ–¹æ³•å’Œå†…éƒ¨çŠ¶æ€çš„å¤æ‚å¯¹è±¡å­—é¢é‡æ¥è®²ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨è¿™äº›æŠ€å·§ï¼Œä½†æ˜¯å¤§å¤šæ•°é¢å¤–å±æ€§æ£€æŸ¥é”™è¯¯æ˜¯çœŸæ­£çš„bugã€‚ä¹Ÿå°±æ˜¯è¯´ä½ é‡åˆ°äº†é¢å¤–ç±»å‹æ£€æŸ¥å‡ºçš„é”™è¯¯ï¼Œä½ åº”è¯¥å»å®¡æŸ¥ä¸€ä¸‹ä½ çš„ç±»å‹å£°æ˜ã€‚ åœ¨è¿™é‡Œï¼Œå¦‚æœæ”¯æŒä¼ å…¥ color æˆ– colour å±æ€§åˆ° createSquareï¼Œä½ åº”è¯¥ä¿®æ”¹ SquareConfig å®šä¹‰æ¥ä½“ç°å‡ºè¿™ä¸€ç‚¹ã€‚ å‡½æ•°ç±»å‹æ¥å£èƒ½å¤Ÿæè¿° JavaScript ä¸­å¯¹è±¡æ‹¥æœ‰çš„å„ç§å„æ ·çš„å¤–å½¢ã€‚ é™¤äº†æè¿°å¸¦æœ‰å±æ€§çš„æ™®é€šå¯¹è±¡å¤–ï¼Œæ¥å£ä¹Ÿå¯ä»¥æè¿°å‡½æ•°ç±»å‹ã€‚ ä¸ºäº†ä½¿ç”¨æ¥å£è¡¨ç¤ºå‡½æ•°ç±»å‹ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ¥å£å®šä¹‰ä¸€ä¸ªè°ƒç”¨ç­¾åã€‚å®ƒå°±åƒæ˜¯ä¸€ä¸ªåªæœ‰å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹çš„å‡½æ•°å®šä¹‰ã€‚å‚æ•°åˆ—è¡¨é‡Œçš„æ¯ä¸ªå‚æ•°éƒ½éœ€è¦åå­—å’Œç±»å‹ã€‚ 123interface SearchFunc &#123; (source: string, subString: string): boolean&#125; è¿™æ ·å®šä¹‰åï¼Œæˆ‘ä»¬å¯ä»¥åƒä½¿ç”¨å…¶å®ƒæ¥å£ä¸€æ ·ä½¿ç”¨è¿™ä¸ªå‡½æ•°ç±»å‹çš„æ¥å£ã€‚ ä¸‹ä¾‹å±•ç¤ºäº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªå‡½æ•°ç±»å‹çš„å˜é‡ï¼Œå¹¶å°†ä¸€ä¸ªåŒç±»å‹çš„å‡½æ•°èµ‹å€¼ç»™è¿™ä¸ªå˜é‡ã€‚ 12345let mySearch: SearchFuncmySearch = function(source: string, subString: string): boolean &#123; let result = source.search(subString); return result &gt; -1&#125; å¯¹äºå‡½æ•°ç±»å‹çš„ç±»å‹æ£€æŸ¥æ¥è¯´ï¼Œå‡½æ•°çš„å‚æ•°åä¸éœ€è¦ä¸æ¥å£é‡Œå®šä¹‰çš„åå­—ç›¸åŒ¹é…ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„ä»£ç é‡å†™ä¸Šé¢çš„ä¾‹å­ï¼š 12345let mySearch: SearchFuncmySearch = function(src: string, sub: string): boolean &#123; let result = src.search(sub); return result &gt; -1&#125; å‡½æ•°çš„å‚æ•°ä¼šé€ä¸ªè¿›è¡Œæ£€æŸ¥ï¼Œè¦æ±‚å¯¹åº”ä½ç½®ä¸Šçš„å‚æ•°ç±»å‹æ˜¯å…¼å®¹çš„ã€‚ å¦‚æœä½ ä¸æƒ³æŒ‡å®šç±»å‹ï¼ŒTypeScript çš„ç±»å‹ç³»ç»Ÿä¼šæ¨æ–­å‡ºå‚æ•°ç±»å‹ï¼Œå› ä¸ºå‡½æ•°ç›´æ¥èµ‹å€¼ç»™äº† SearchFunc ç±»å‹å˜é‡ã€‚ å‡½æ•°çš„è¿”å›å€¼ç±»å‹æ˜¯é€šè¿‡å…¶è¿”å›å€¼æ¨æ–­å‡ºæ¥çš„ï¼ˆæ­¤ä¾‹æ˜¯ false å’Œ trueï¼‰ã€‚ å¦‚æœè®©è¿™ä¸ªå‡½æ•°è¿”å›æ•°å­—æˆ–å­—ç¬¦ä¸²ï¼Œç±»å‹æ£€æŸ¥å™¨ä¼šè­¦å‘Šæˆ‘ä»¬å‡½æ•°çš„è¿”å›å€¼ç±»å‹ä¸ SearchFunc æ¥å£ä¸­çš„å®šä¹‰ä¸åŒ¹é…ã€‚ 12345let mySearch: SearchFuncmySearch = function(src, sub) &#123; let result = src.search(sub) return result &gt; -1&#125; å¯ç´¢å¼•çš„ç±»å‹ä¸ä½¿ç”¨æ¥å£æè¿°å‡½æ•°ç±»å‹å·®ä¸å¤šï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æè¿°é‚£äº›èƒ½å¤Ÿâ€œé€šè¿‡ç´¢å¼•å¾—åˆ°â€çš„ç±»å‹ï¼Œæ¯”å¦‚ a[10] æˆ– ageMap[&#39;daniel&#39;]ã€‚ å¯ç´¢å¼•ç±»å‹å…·æœ‰ä¸€ä¸ª ç´¢å¼•ç­¾åï¼Œå®ƒæè¿°äº†å¯¹è±¡ç´¢å¼•çš„ç±»å‹ï¼Œè¿˜æœ‰ç›¸åº”çš„ç´¢å¼•è¿”å›å€¼ç±»å‹ã€‚ è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ï¼š 12345678interface StringArray &#123; [index: number]: string&#125;let myArray: StringArraymyArray = ['Bob', 'Fred']let myStr: string = myArray[0] ä¸Šé¢ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº† StringArray æ¥å£ï¼Œå®ƒå…·æœ‰ç´¢å¼•ç­¾åã€‚ è¿™ä¸ªç´¢å¼•ç­¾åè¡¨ç¤ºäº†å½“ç”¨ number å»ç´¢å¼• StringArray æ—¶ä¼šå¾—åˆ° string ç±»å‹çš„è¿”å›å€¼ã€‚ TypeScript æ”¯æŒä¸¤ç§ç´¢å¼•ç­¾åï¼šå­—ç¬¦ä¸²å’Œæ•°å­—ã€‚ å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸¤ç§ç±»å‹çš„ç´¢å¼•ï¼Œä½†æ˜¯æ•°å­—ç´¢å¼•çš„è¿”å›å€¼å¿…é¡»æ˜¯å­—ç¬¦ä¸²ç´¢å¼•è¿”å›å€¼ç±»å‹çš„å­ç±»å‹ã€‚ è¿™æ˜¯å› ä¸ºå½“ä½¿ç”¨ number æ¥ç´¢å¼•æ—¶ï¼ŒJavaScript ä¼šå°†å®ƒè½¬æ¢æˆstring ç„¶åå†å»ç´¢å¼•å¯¹è±¡ã€‚ ä¹Ÿå°±æ˜¯è¯´ç”¨ 100ï¼ˆä¸€ä¸ª numberï¼‰å»ç´¢å¼•ç­‰åŒäºä½¿ç”¨&#39;100&#39;ï¼ˆä¸€ä¸ª string ï¼‰å»ç´¢å¼•ï¼Œå› æ­¤ä¸¤è€…éœ€è¦ä¿æŒä¸€è‡´ã€‚ 123456789101112class Animal &#123; name: string&#125;class Dog extends Animal &#123; breed: string&#125;// é”™è¯¯ï¼šä½¿ç”¨æ•°å€¼å‹çš„å­—ç¬¦ä¸²ç´¢å¼•ï¼Œæœ‰æ—¶ä¼šå¾—åˆ°å®Œå…¨ä¸åŒçš„Animal!interface NotOkay &#123; [x: number]: Animal [x: string]: Dog&#125; å­—ç¬¦ä¸²ç´¢å¼•ç­¾åèƒ½å¤Ÿå¾ˆå¥½çš„æè¿° dictionary æ¨¡å¼ï¼Œå¹¶ä¸”å®ƒä»¬ä¹Ÿä¼šç¡®ä¿æ‰€æœ‰å±æ€§ä¸å…¶è¿”å›å€¼ç±»å‹ç›¸åŒ¹é…ã€‚ å› ä¸ºå­—ç¬¦ä¸²ç´¢å¼•å£°æ˜äº† obj.property å’Œ obj[&#39;property&#39;] ä¸¤ç§å½¢å¼éƒ½å¯ä»¥ã€‚ ä¸‹é¢çš„ä¾‹å­é‡Œï¼Œ name çš„ç±»å‹ä¸å­—ç¬¦ä¸²ç´¢å¼•ç±»å‹ä¸åŒ¹é…ï¼Œæ‰€ä»¥ç±»å‹æ£€æŸ¥å™¨ç»™å‡ºä¸€ä¸ªé”™è¯¯æç¤ºï¼š 12345interface NumberDictionary &#123; [index: string]: number; length: number; // å¯ä»¥ï¼Œlengthæ˜¯numberç±»å‹ name: string // é”™è¯¯ï¼Œ`name`çš„ç±»å‹ä¸ç´¢å¼•ç±»å‹è¿”å›å€¼çš„ç±»å‹ä¸åŒ¹é…&#125; æœ€åï¼Œä½ å¯ä»¥å°†ç´¢å¼•ç­¾åè®¾ç½®ä¸ºåªè¯»ï¼Œè¿™æ ·å°±é˜²æ­¢äº†ç»™ç´¢å¼•èµ‹å€¼ï¼š 12345interface ReadonlyStringArray &#123; readonly [index: number]: string;&#125;let myArray: ReadonlyStringArray = ['Alice', 'Bob'];myArray[2] = 'Mallory'; // error! ç±»ç±»å‹å®ç°æ¥å£ä¸ C# æˆ– Java é‡Œæ¥å£çš„åŸºæœ¬ä½œç”¨ä¸€æ ·ï¼ŒTypeScript ä¹Ÿèƒ½å¤Ÿç”¨å®ƒæ¥æ˜ç¡®çš„å¼ºåˆ¶ä¸€ä¸ªç±»å»ç¬¦åˆæŸç§å¥‘çº¦ã€‚ 12345678interface ClockInterface &#123; currentTime: Date&#125;class Clock implements ClockInterface &#123; currentTime: Date constructor(h: number, m: number) &#123; &#125;&#125; ä½ ä¹Ÿå¯ä»¥åœ¨æ¥å£ä¸­æè¿°ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨ç±»é‡Œå®ç°å®ƒï¼Œå¦‚åŒä¸‹é¢çš„ setTime æ–¹æ³•ä¸€æ ·ï¼š 123456789101112interface ClockInterface &#123; currentTime: Date setTime(d: Date)&#125;class Clock implements ClockInterface &#123; currentTime: Date setTime(d: Date) &#123; this.currentTime = d &#125; constructor(h: number, m: number) &#123; &#125;&#125; æ¥å£æè¿°äº†ç±»çš„å…¬å…±éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å…¬å…±å’Œç§æœ‰ä¸¤éƒ¨åˆ†ã€‚ å®ƒä¸ä¼šå¸®ä½ æ£€æŸ¥ç±»æ˜¯å¦å…·æœ‰æŸäº›ç§æœ‰æˆå‘˜ã€‚ ç±»é™æ€éƒ¨åˆ†ä¸å®ä¾‹éƒ¨åˆ†çš„åŒºåˆ«å½“ä½ æ“ä½œç±»å’Œæ¥å£çš„æ—¶å€™ï¼Œä½ è¦çŸ¥é“ç±»æ˜¯å…·æœ‰ä¸¤ä¸ªç±»å‹çš„ï¼šé™æ€éƒ¨åˆ†çš„ç±»å‹å’Œå®ä¾‹çš„ç±»å‹ã€‚ ä½ ä¼šæ³¨æ„åˆ°ï¼Œå½“ä½ ç”¨æ„é€ å™¨ç­¾åå»å®šä¹‰ä¸€ä¸ªæ¥å£å¹¶è¯•å›¾å®šä¹‰ä¸€ä¸ªç±»å»å®ç°è¿™ä¸ªæ¥å£æ—¶ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼š 123456789interface ClockConstructor &#123; new (hour: number, minute: number)&#125;// errorclass Clock implements ClockConstructor &#123; currentTime: Date constructor(h: number, m: number) &#123; &#125;&#125; è¿™é‡Œå› ä¸ºå½“ä¸€ä¸ªç±»å®ç°äº†ä¸€ä¸ªæ¥å£æ—¶ï¼Œåªå¯¹å…¶å®ä¾‹éƒ¨åˆ†è¿›è¡Œç±»å‹æ£€æŸ¥ã€‚constructor å­˜åœ¨äºç±»çš„é™æ€éƒ¨åˆ†ï¼Œæ‰€ä»¥ä¸åœ¨æ£€æŸ¥çš„èŒƒå›´å†…ã€‚ çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªæ¥å£ï¼Œ ClockConstructor ä¸ºæ„é€ å‡½æ•°æ‰€ç”¨å’Œ ClockInterface ä¸ºå®ä¾‹æ–¹æ³•æ‰€ç”¨ã€‚ ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ„é€ å‡½æ•° createClockï¼Œå®ƒç”¨ä¼ å…¥çš„ç±»å‹åˆ›å»ºå®ä¾‹ã€‚ 1234567891011121314151617181920212223242526interface ClockConstructor &#123; new (hour: number, minute: number): ClockInterface&#125;interface ClockInterface &#123; tick()&#125;function createClock(ctor: ClockConstructor, hour: number, minute: number): ClockInterface &#123; return new ctor(hour, minute)&#125;class DigitalClock implements ClockInterface &#123; constructor(h: number, m: number) &#123; &#125; tick() &#123; console.log('beep beep') &#125;&#125;class AnalogClock implements ClockInterface &#123; constructor(h: number, m: number) &#123; &#125; tick() &#123; console.log('tick tock') &#125;&#125;let digital = createClock(DigitalClock, 12, 17)let analog = createClock(AnalogClock, 7, 32) å› ä¸º createClock çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ ClockConstructor ç±»å‹ï¼Œåœ¨ createClock(AnalogClock, 7, 32) é‡Œï¼Œä¼šæ£€æŸ¥ AnalogClock æ˜¯å¦ç¬¦åˆæ„é€ å‡½æ•°ç­¾åã€‚ ç»§æ‰¿æ¥å£å’Œç±»ä¸€æ ·ï¼Œæ¥å£ä¹Ÿå¯ä»¥ç›¸äº’ç»§æ‰¿ã€‚ è¿™è®©æˆ‘ä»¬èƒ½å¤Ÿä»ä¸€ä¸ªæ¥å£é‡Œå¤åˆ¶æˆå‘˜åˆ°å¦ä¸€ä¸ªæ¥å£é‡Œï¼Œå¯ä»¥æ›´çµæ´»åœ°å°†æ¥å£åˆ†å‰²åˆ°å¯é‡ç”¨çš„æ¨¡å—é‡Œã€‚ 1234567891011interface Shape &#123; color: string&#125;interface Square extends Shape &#123; sideLength: number&#125;let square = &#123;&#125; as Squaresquare.color = 'blue'square.sideLength = 10 ä¸€ä¸ªæ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£ï¼Œåˆ›å»ºå‡ºå¤šä¸ªæ¥å£çš„åˆæˆæ¥å£ã€‚ 12345678910111213141516interface Shape &#123; color: string&#125;interface PenStroke &#123; penWidth: number&#125;interface Square extends Shape, PenStroke &#123; sideLength: number&#125;let square = &#123;&#125; as Squaresquare.color = 'blue'square.sideLength = 10square.penWidth = 5.0 æ··åˆç±»å‹å…ˆå‰æˆ‘ä»¬æè¿‡ï¼Œæ¥å£èƒ½å¤Ÿæè¿° JavaScript é‡Œä¸°å¯Œçš„ç±»å‹ã€‚ å› ä¸º JavaScript å…¶åŠ¨æ€çµæ´»çš„ç‰¹ç‚¹ï¼Œæœ‰æ—¶ä½ ä¼šå¸Œæœ›ä¸€ä¸ªå¯¹è±¡å¯ä»¥åŒæ—¶å…·æœ‰ä¸Šé¢æåˆ°çš„å¤šç§ç±»å‹ã€‚ ä¸€ä¸ªä¾‹å­å°±æ˜¯ï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥åŒæ—¶åšä¸ºå‡½æ•°å’Œå¯¹è±¡ä½¿ç”¨ï¼Œå¹¶å¸¦æœ‰é¢å¤–çš„å±æ€§ã€‚ 1234567891011121314151617interface Counter &#123; (start: number): string interval: number reset(): void&#125;function getCounter(): Counter &#123; let counter = (function (start: number) &#123; &#125;) as Counter counter.interval = 123 counter.reset = function () &#123; &#125; return counter&#125;let c = getCounter()c(10)c.reset()c.interval = 5.0 åœ¨ä½¿ç”¨ JavaScript ç¬¬ä¸‰æ–¹åº“çš„æ—¶å€™ï¼Œä½ å¯èƒ½éœ€è¦åƒä¸Šé¢é‚£æ ·å»å®Œæ•´åœ°å®šä¹‰ç±»å‹ã€‚è¿™é—¨è¯¾è¦é‡æ„çš„ axios åº“å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚ æ¥å£ç»§æ‰¿ç±»å½“æ¥å£ç»§æ‰¿äº†ä¸€ä¸ªç±»ç±»å‹æ—¶ï¼Œå®ƒä¼šç»§æ‰¿ç±»çš„æˆå‘˜ä½†ä¸åŒ…æ‹¬å…¶å®ç°ã€‚ å°±å¥½åƒæ¥å£å£°æ˜äº†æ‰€æœ‰ç±»ä¸­å­˜åœ¨çš„æˆå‘˜ï¼Œä½†å¹¶æ²¡æœ‰æä¾›å…·ä½“å®ç°ä¸€æ ·ã€‚ æ¥å£åŒæ ·ä¼šç»§æ‰¿åˆ°ç±»çš„ private å’Œ protected æˆå‘˜ã€‚ è¿™æ„å‘³ç€å½“ä½ åˆ›å»ºäº†ä¸€ä¸ªæ¥å£ç»§æ‰¿äº†ä¸€ä¸ªæ‹¥æœ‰ç§æœ‰æˆ–å—ä¿æŠ¤çš„æˆå‘˜çš„ç±»æ—¶ï¼Œè¿™ä¸ªæ¥å£ç±»å‹åªèƒ½è¢«è¿™ä¸ªç±»æˆ–å…¶å­ç±»æ‰€å®ç°ï¼ˆimplementï¼‰ã€‚ å½“ä½ æœ‰ä¸€ä¸ªåºå¤§çš„ç»§æ‰¿ç»“æ„æ—¶è¿™å¾ˆæœ‰ç”¨ï¼Œä½†è¦æŒ‡å‡ºçš„æ˜¯ä½ çš„ä»£ç åªåœ¨å­ç±»æ‹¥æœ‰ç‰¹å®šå±æ€§æ—¶èµ·ä½œç”¨ã€‚ è¿™ä¸ªå­ç±»é™¤äº†ç»§æ‰¿è‡³åŸºç±»å¤–ä¸åŸºç±»æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ä¾‹ï¼š 1234567891011121314151617181920class Control &#123; private state: any&#125;interface SelectableControl extends Control &#123; select(): void&#125;class Button extends Control implements SelectableControl &#123; select() &#123; &#125;&#125;class TextBox extends Control &#123; select() &#123; &#125;&#125;// Errorï¼šâ€œImageCâ€ç±»å‹ç¼ºå°‘â€œstateâ€å±æ€§ã€‚class ImageC implements SelectableControl &#123; select() &#123; &#125;&#125; åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼ŒSelectableControl åŒ…å«äº† Control çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰æˆå‘˜ stateã€‚ å› ä¸º state æ˜¯ç§æœ‰æˆå‘˜ï¼Œæ‰€ä»¥åªèƒ½å¤Ÿæ˜¯ Control çš„å­ç±»ä»¬æ‰èƒ½å®ç° SelectableControl æ¥å£ã€‚ å› ä¸ºåªæœ‰ Control çš„å­ç±»æ‰èƒ½å¤Ÿæ‹¥æœ‰ä¸€ä¸ªå£°æ˜äºControl çš„ç§æœ‰æˆå‘˜ stateï¼Œè¿™å¯¹ç§æœ‰æˆå‘˜çš„å…¼å®¹æ€§æ˜¯å¿…éœ€çš„ã€‚ åœ¨ Control ç±»å†…éƒ¨ï¼Œæ˜¯å…è®¸é€šè¿‡ SelectableControl çš„å®ä¾‹æ¥è®¿é—®ç§æœ‰æˆå‘˜ state çš„ã€‚ å®é™…ä¸Šï¼ŒSelectableControl æ¥å£å’Œæ‹¥æœ‰ select æ–¹æ³•çš„ Control ç±»æ˜¯ä¸€æ ·çš„ã€‚Buttonå’Œ TextBox ç±»æ˜¯ SelectableControl çš„å­ç±»ï¼ˆå› ä¸ºå®ƒä»¬éƒ½ç»§æ‰¿è‡ªControl å¹¶æœ‰ select æ–¹æ³•ï¼‰ï¼Œä½† ImageC ç±»å¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚ ç±»å¯¹äºä¼ ç»Ÿçš„ JavaScript ç¨‹åºæˆ‘ä»¬ä¼šä½¿ç”¨å‡½æ•°å’ŒåŸºäºåŸå‹çš„ç»§æ‰¿æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œä½†å¯¹äºç†Ÿæ‚‰ä½¿ç”¨é¢å‘å¯¹è±¡æ–¹å¼çš„ç¨‹åºå‘˜ä½¿ç”¨è¿™äº›è¯­æ³•å°±æœ‰äº›æ£˜æ‰‹ï¼Œå› ä¸ºä»–ä»¬ç”¨çš„æ˜¯åŸºäºç±»çš„ç»§æ‰¿å¹¶ä¸”å¯¹è±¡æ˜¯ç”±ç±»æ„å»ºå‡ºæ¥çš„ã€‚ ä» ECMAScript 2015ï¼Œä¹Ÿå°±æ˜¯ ES6 å¼€å§‹ï¼Œ JavaScript ç¨‹åºå‘˜å°†èƒ½å¤Ÿä½¿ç”¨åŸºäºç±»çš„é¢å‘å¯¹è±¡çš„æ–¹å¼ã€‚ ä½¿ç”¨ TypeScriptï¼Œæˆ‘ä»¬å…è®¸å¼€å‘è€…ç°åœ¨å°±ä½¿ç”¨è¿™äº›ç‰¹æ€§ï¼Œå¹¶ä¸”ç¼–è¯‘åçš„ JavaScript å¯ä»¥åœ¨æ‰€æœ‰ä¸»æµæµè§ˆå™¨å’Œå¹³å°ä¸Šè¿è¡Œï¼Œè€Œä¸éœ€è¦ç­‰åˆ°ä¸‹ä¸ª JavaScript ç‰ˆæœ¬ã€‚ åŸºæœ¬ç¤ºä¾‹ä¸‹é¢çœ‹ä¸€ä¸ªä½¿ç”¨ç±»çš„ä¾‹å­ï¼š 1234567891011class Greeter &#123; greeting: string constructor(message: string) &#123; this.greeting = message &#125; greet() &#123; return 'Hello, ' + this.greeting &#125;&#125;let greeter = new Greeter('world') å¦‚æœä½ ä½¿ç”¨è¿‡ C# æˆ– Javaï¼Œä½ ä¼šå¯¹è¿™ç§è¯­æ³•éå¸¸ç†Ÿæ‚‰ã€‚ æˆ‘ä»¬å£°æ˜ä¸€ä¸ª Greeter ç±»ã€‚è¿™ä¸ªç±»æœ‰ 3 ä¸ªæˆå‘˜ï¼šä¸€ä¸ªå«åš greeting çš„å±æ€§ï¼Œä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€ä¸ª greet æ–¹æ³•ã€‚ ä½ ä¼šæ³¨æ„åˆ°ï¼Œæˆ‘ä»¬åœ¨å¼•ç”¨ä»»ä½•ä¸€ä¸ªç±»æˆå‘˜çš„æ—¶å€™éƒ½ç”¨äº† thisã€‚ å®ƒè¡¨ç¤ºæˆ‘ä»¬è®¿é—®çš„æ˜¯ç±»çš„æˆå‘˜ã€‚ æœ€åä¸€è¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ new æ„é€ äº† Greeter ç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚å®ƒä¼šè°ƒç”¨ä¹‹å‰å®šä¹‰çš„æ„é€ å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ª Greeter ç±»å‹çš„æ–°å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œæ„é€ å‡½æ•°åˆå§‹åŒ–å®ƒã€‚ ç»§æ‰¿åœ¨ TypeScript é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¸ç”¨çš„é¢å‘å¯¹è±¡æ¨¡å¼ã€‚ åŸºäºç±»çš„ç¨‹åºè®¾è®¡ä¸­ä¸€ç§æœ€åŸºæœ¬çš„æ¨¡å¼æ˜¯å…è®¸ä½¿ç”¨ç»§æ‰¿æ¥æ‰©å±•ç°æœ‰çš„ç±»ã€‚ çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š 123456789101112131415class Animal &#123; move(distance: number = 0) &#123; console.log(`Animal moved $&#123;distance&#125;m.`) &#125;&#125;class Dog extends Animal &#123; bark() &#123; console.log('Woof! Woof!') &#125;&#125;const dog = new Dog()dog.bark()dog.move(10) è¿™ä¸ªä¾‹å­å±•ç¤ºäº†æœ€åŸºæœ¬çš„ç»§æ‰¿ï¼šç±»ä»åŸºç±»ä¸­ç»§æ‰¿äº†å±æ€§å’Œæ–¹æ³•ã€‚ è¿™é‡Œï¼ŒDog æ˜¯ä¸€ä¸ª æ´¾ç”Ÿç±»ï¼Œå®ƒæ´¾ç”Ÿè‡ª Animal åŸºç±»ï¼Œé€šè¿‡ extends å…³é”®å­—ã€‚ æ´¾ç”Ÿç±»é€šå¸¸è¢«ç§°ä½œå­ç±»ï¼ŒåŸºç±»é€šå¸¸è¢«ç§°ä½œè¶…ç±»ã€‚ å› ä¸º Dog ç»§æ‰¿äº† Animal çš„åŠŸèƒ½ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª Dog çš„å®ä¾‹ï¼Œå®ƒèƒ½å¤Ÿ bark() å’Œ move()ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸ªæ›´åŠ å¤æ‚çš„ä¾‹å­ã€‚ 1234567891011121314151617181920212223242526272829303132333435class Animal &#123; name: string constructor(name: string) &#123; this.name = name &#125; move(distance: number = 0) &#123; console.log(`$&#123;this.name&#125; moved $&#123;distance&#125;m.`) &#125;&#125;class Snake extends Animal &#123; constructor(name: string) &#123; super(name) &#125; move(distance: number = 5) &#123; console.log('Slithering...') super.move(distance) &#125;&#125;class Horse extends Animal &#123; constructor(name: string) &#123; super(name) &#125; move(distance: number = 45) &#123; console.log('Galloping...') super.move(distance) &#125;&#125;let sam = new Snake('Sammy')let tom: Animal = new Horse('Tommy')sam.move()tom.move(34) è¿™ä¸ªä¾‹å­å±•ç¤ºäº†ä¸€äº›ä¸Šé¢æ²¡æœ‰æåˆ°çš„ç‰¹æ€§ã€‚ è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä½¿ç”¨ extends å…³é”®å­—åˆ›å»ºäº† Animalçš„ä¸¤ä¸ªå­ç±»ï¼šHorse å’Œ Snakeã€‚ ä¸å‰ä¸€ä¸ªä¾‹å­çš„ä¸åŒç‚¹æ˜¯ï¼Œæ´¾ç”Ÿç±»åŒ…å«äº†ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒ å¿…é¡»è°ƒç”¨ super()ï¼Œå®ƒä¼šæ‰§è¡ŒåŸºç±»çš„æ„é€ å‡½æ•°ã€‚ è€Œä¸”ï¼Œåœ¨æ„é€ å‡½æ•°é‡Œè®¿é—® this çš„å±æ€§ä¹‹å‰ï¼Œæˆ‘ä»¬ ä¸€å®šè¦è°ƒç”¨ super()ã€‚ è¿™ä¸ªæ˜¯ TypeScript å¼ºåˆ¶æ‰§è¡Œçš„ä¸€æ¡é‡è¦è§„åˆ™ã€‚ è¿™ä¸ªä¾‹å­æ¼”ç¤ºäº†å¦‚ä½•åœ¨å­ç±»é‡Œå¯ä»¥é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚Snakeç±»å’Œ Horse ç±»éƒ½åˆ›å»ºäº† move æ–¹æ³•ï¼Œå®ƒä»¬é‡å†™äº†ä» Animal ç»§æ‰¿æ¥çš„ move æ–¹æ³•ï¼Œä½¿å¾— move æ–¹æ³•æ ¹æ®ä¸åŒçš„ç±»è€Œå…·æœ‰ä¸åŒçš„åŠŸèƒ½ã€‚æ³¨æ„ï¼Œå³ä½¿ tom è¢«å£°æ˜ä¸º Animal ç±»å‹ï¼Œä½†å› ä¸ºå®ƒçš„å€¼æ˜¯ Horseï¼Œè°ƒç”¨ tom.move(34) æ—¶ï¼Œå®ƒä¼šè°ƒç”¨ Horse é‡Œé‡å†™çš„æ–¹æ³•ã€‚ 1234Slithering...Sammy moved 5m.Galloping...Tommy moved 34m. å…¬å…±ï¼Œç§æœ‰ä¸å—ä¿æŠ¤çš„ä¿®é¥°ç¬¦é»˜è®¤ä¸º publicåœ¨ä¸Šé¢çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å¯ä»¥è‡ªç”±çš„è®¿é—®ç¨‹åºé‡Œå®šä¹‰çš„æˆå‘˜ã€‚ å¦‚æœä½ å¯¹å…¶å®ƒè¯­è¨€ä¸­çš„ç±»æ¯”è¾ƒäº†è§£ï¼Œå°±ä¼šæ³¨æ„åˆ°æˆ‘ä»¬åœ¨ä¹‹å‰çš„ä»£ç é‡Œå¹¶æ²¡æœ‰ä½¿ç”¨ public æ¥åšä¿®é¥°ï¼›ä¾‹å¦‚ï¼ŒC# è¦æ±‚å¿…é¡»æ˜ç¡®åœ°ä½¿ç”¨ public æŒ‡å®šæˆå‘˜æ˜¯å¯è§çš„ã€‚ åœ¨ TypeScript é‡Œï¼Œæˆå‘˜éƒ½é»˜è®¤ä¸º publicã€‚ ä½ ä¹Ÿå¯ä»¥æ˜ç¡®çš„å°†ä¸€ä¸ªæˆå‘˜æ ‡è®°æˆ publicã€‚ æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹å¼æ¥é‡å†™ä¸Šé¢çš„ Animal ç±»ï¼š 123456789class Animal &#123; public name: string public constructor(name: string) &#123; this.name = name &#125; public move(distance: number) &#123; console.log(`$&#123;this.name&#125; moved $&#123;distance&#125;m.`) &#125;&#125; ç†è§£ privateå½“æˆå‘˜è¢«æ ‡è®°æˆ private æ—¶ï¼Œå®ƒå°±ä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»çš„å¤–éƒ¨è®¿é—®ã€‚æ¯”å¦‚ï¼š 12345678class Animal &#123; private name: string constructor(name: string) &#123; this.name = name &#125;&#125;new Animal('Cat').name // é”™è¯¯: 'name' æ˜¯ç§æœ‰çš„. TypeScript ä½¿ç”¨çš„æ˜¯ç»“æ„æ€§ç±»å‹ç³»ç»Ÿã€‚ å½“æˆ‘ä»¬æ¯”è¾ƒä¸¤ç§ä¸åŒçš„ç±»å‹æ—¶ï¼Œå¹¶ä¸åœ¨ä¹å®ƒä»¬ä»ä½•å¤„è€Œæ¥ï¼Œå¦‚æœæ‰€æœ‰æˆå‘˜çš„ç±»å‹éƒ½æ˜¯å…¼å®¹çš„ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºå®ƒä»¬çš„ç±»å‹æ˜¯å…¼å®¹çš„ã€‚ ç„¶è€Œï¼Œå½“æˆ‘ä»¬æ¯”è¾ƒå¸¦æœ‰ private æˆ– protected æˆå‘˜çš„ç±»å‹çš„æ—¶å€™ï¼Œæƒ…å†µå°±ä¸åŒäº†ã€‚ å¦‚æœå…¶ä¸­ä¸€ä¸ªç±»å‹é‡ŒåŒ…å«ä¸€ä¸ª private æˆå‘˜ï¼Œé‚£ä¹ˆåªæœ‰å½“å¦å¤–ä¸€ä¸ªç±»å‹ä¸­ä¹Ÿå­˜åœ¨è¿™æ ·ä¸€ä¸ª private æˆå‘˜ï¼Œå¹¶ä¸”å®ƒä»¬éƒ½æ˜¯æ¥è‡ªåŒä¸€å¤„å£°æ˜æ—¶ï¼Œæˆ‘ä»¬æ‰è®¤ä¸ºè¿™ä¸¤ä¸ªç±»å‹æ˜¯å…¼å®¹çš„ã€‚ å¯¹äº protected æˆå‘˜ä¹Ÿä½¿ç”¨è¿™ä¸ªè§„åˆ™ã€‚ ä¸‹é¢æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œæ›´å¥½åœ°è¯´æ˜äº†è¿™ä¸€ç‚¹ï¼š 1234567891011121314151617181920212223242526class Animal &#123; private name: string constructor(name: string) &#123; this.name = name &#125;&#125;class Rhino extends Animal &#123; constructor() &#123; super('Rhino') &#125;&#125;class Employee &#123; private name: string constructor(name: string) &#123; this.name = name &#125;&#125;let animal = new Animal('Goat')let rhino = new Rhino()let employee = new Employee('Bob')animal = rhinoanimal = employee // é”™è¯¯: Animal ä¸ Employee ä¸å…¼å®¹. è¿™ä¸ªä¾‹å­ä¸­æœ‰ Animal å’Œ Rhino ä¸¤ä¸ªç±»ï¼Œ Rhino æ˜¯ Animal ç±»çš„å­ç±»ã€‚ è¿˜æœ‰ä¸€ä¸ª Employee ç±»ï¼Œå…¶ç±»å‹çœ‹ä¸Šå»ä¸ Animal æ˜¯ç›¸åŒçš„ã€‚ æˆ‘ä»¬åˆ›å»ºäº†å‡ ä¸ªè¿™äº›ç±»çš„å®ä¾‹ï¼Œå¹¶ç›¸äº’èµ‹å€¼æ¥çœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆã€‚ å› ä¸º Animal å’Œ Rhino å…±äº«äº†æ¥è‡ª Animal é‡Œçš„ç§æœ‰æˆå‘˜å®šä¹‰ private name: stringï¼Œå› æ­¤å®ƒä»¬æ˜¯å…¼å®¹çš„ã€‚ç„¶è€Œ Employee å´ä¸æ˜¯è¿™æ ·ã€‚å½“æŠŠ Employee èµ‹å€¼ç»™ Animal çš„æ—¶å€™ï¼Œå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œè¯´å®ƒä»¬çš„ç±»å‹ä¸å…¼å®¹ã€‚å°½ç®¡ Employee é‡Œä¹Ÿæœ‰ä¸€ä¸ªç§æœ‰æˆå‘˜ nameï¼Œä½†å®ƒæ˜æ˜¾ä¸æ˜¯ Animal é‡Œé¢å®šä¹‰çš„é‚£ä¸ªã€‚ ç†è§£ protectedprotected ä¿®é¥°ç¬¦ä¸ private ä¿®é¥°ç¬¦çš„è¡Œä¸ºå¾ˆç›¸ä¼¼ï¼Œä½†æœ‰ä¸€ç‚¹ä¸åŒï¼Œprotectedæˆå‘˜åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶å¯ä»¥è®¿é—®ã€‚ä¾‹å¦‚ï¼š 1234567891011121314151617181920212223class Person &#123; protected name: string constructor(name: string) &#123; this.name = name &#125;&#125;class Employee extends Person &#123; private department: string constructor(name: string, department: string) &#123; super(name) this.department = department &#125; getElevatorPitch() &#123; return `Hello, my name is $&#123;this.name&#125; and I work in $&#123;this.department&#125;.` &#125;&#125;let howard = new Employee('Howard', 'Sales')console.log(howard.getElevatorPitch())console.log(howard.name) // error æ³¨æ„ï¼Œæˆ‘ä»¬ä¸èƒ½åœ¨ Person ç±»å¤–ä½¿ç”¨ nameï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶å¯ä»¥é€šè¿‡ Employee ç±»çš„å®ä¾‹æ–¹æ³•è®¿é—®ï¼Œå› ä¸º Employee æ˜¯ç”± Person æ´¾ç”Ÿè€Œæ¥çš„ã€‚ æ„é€ å‡½æ•°ä¹Ÿå¯ä»¥è¢«æ ‡è®°æˆ protectedã€‚ è¿™æ„å‘³ç€è¿™ä¸ªç±»ä¸èƒ½åœ¨åŒ…å«å®ƒçš„ç±»å¤–è¢«å®ä¾‹åŒ–ï¼Œä½†æ˜¯èƒ½è¢«ç»§æ‰¿ã€‚æ¯”å¦‚ï¼š 1234567891011121314151617181920212223class Person &#123; protected name: string protected constructor(name: string) &#123; this.name = name &#125;&#125;// Employee èƒ½å¤Ÿç»§æ‰¿ Personclass Employee extends Person &#123; private department: string constructor(name: string, department: string) &#123; super(name) this.department = department &#125; public getElevatorPitch() &#123; return `Hello, my name is $&#123;this.name&#125; and I work in $&#123;this.department&#125;.` &#125;&#125;let howard = new Employee('Howard', 'Sales')let john = new Person('John') // é”™è¯¯: 'Person' çš„æ„é€ å‡½æ•°æ˜¯è¢«ä¿æŠ¤çš„. readonly ä¿®é¥°ç¬¦ä½ å¯ä»¥ä½¿ç”¨ readonly å…³é”®å­—å°†å±æ€§è®¾ç½®ä¸ºåªè¯»çš„ã€‚ åªè¯»å±æ€§å¿…é¡»åœ¨å£°æ˜æ—¶æˆ–æ„é€ å‡½æ•°é‡Œè¢«åˆå§‹åŒ–ã€‚ 123456789class Person &#123; readonly name: string constructor(name: string) &#123; this.name = name &#125;&#125;let john = new Person('John')john.name = 'peter' å‚æ•°å±æ€§åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ Person ç±»é‡Œå®šä¹‰ä¸€ä¸ªåªè¯»æˆå‘˜ name å’Œä¸€ä¸ªå‚æ•°ä¸º name çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”ç«‹åˆ»å°† name çš„å€¼èµ‹ç»™ this.nameï¼Œè¿™ç§æƒ…å†µç»å¸¸ä¼šé‡åˆ°ã€‚ å‚æ•°å±æ€§å¯ä»¥æ–¹ä¾¿åœ°è®©æˆ‘ä»¬åœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰å¹¶åˆå§‹åŒ–ä¸€ä¸ªæˆå‘˜ã€‚ ä¸‹é¢çš„ä¾‹å­æ˜¯å¯¹ä¹‹å‰ Person ç±»çš„ä¿®æ”¹ç‰ˆï¼Œä½¿ç”¨äº†å‚æ•°å±æ€§ï¼š 1234class Person &#123; constructor(readonly name: string) &#123; &#125;&#125; æ³¨æ„çœ‹æˆ‘ä»¬æ˜¯å¦‚ä½•èˆå¼ƒå‚æ•° nameï¼Œä»…åœ¨æ„é€ å‡½æ•°é‡Œä½¿ç”¨ readonly name: string å‚æ•°æ¥åˆ›å»ºå’Œåˆå§‹åŒ– name æˆå‘˜ã€‚ æˆ‘ä»¬æŠŠå£°æ˜å’Œèµ‹å€¼åˆå¹¶è‡³ä¸€å¤„ã€‚ å‚æ•°å±æ€§é€šè¿‡ç»™æ„é€ å‡½æ•°å‚æ•°å‰é¢æ·»åŠ ä¸€ä¸ªè®¿é—®é™å®šç¬¦æ¥å£°æ˜ã€‚ä½¿ç”¨ private é™å®šä¸€ä¸ªå‚æ•°å±æ€§ä¼šå£°æ˜å¹¶åˆå§‹åŒ–ä¸€ä¸ªç§æœ‰æˆå‘˜ï¼›å¯¹äº public å’Œ protected æ¥è¯´ä¹Ÿæ˜¯ä¸€æ ·ã€‚ å­˜å–å™¨TypeScript æ”¯æŒé€šè¿‡ getters/setters æ¥æˆªå–å¯¹å¯¹è±¡æˆå‘˜çš„è®¿é—®ã€‚ å®ƒèƒ½å¸®åŠ©ä½ æœ‰æ•ˆçš„æ§åˆ¶å¯¹å¯¹è±¡æˆå‘˜çš„è®¿é—®ã€‚ ä¸‹é¢æ¥çœ‹å¦‚ä½•æŠŠä¸€ä¸ªç®€å•çš„ç±»æ”¹å†™æˆä½¿ç”¨ get å’Œ setã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬ä»ä¸€ä¸ªæ²¡æœ‰ä½¿ç”¨å­˜å–å™¨çš„ä¾‹å­å¼€å§‹ã€‚ 123456789class Employee &#123; fullName: string&#125;let employee = new Employee()employee.fullName = 'Bob Smith'if (employee.fullName) &#123; console.log(employee.fullName)&#125; æˆ‘ä»¬å¯ä»¥è®¾ç½® fullNameï¼Œå› ä¸ºå®ƒæ˜¯ public çš„ï¼Œæœ‰æ—¶å€™å½“æˆ‘ä»¬å»ä¿®æ”¹å®ƒçš„æ—¶å€™è§¦å‘ä¸€äº›é¢å¤–é€»è¾‘ï¼Œå­˜å–å™¨å°±æ´¾ä¸Šç”¨åœºäº†ã€‚ ä¸‹é¢è¿™ä¸ªç‰ˆæœ¬é‡Œï¼Œæˆ‘ä»¬å…ˆæ£€æŸ¥ç”¨æˆ·å¯†ç æ˜¯å¦æ­£ç¡®ï¼Œç„¶åå†å…è®¸å…¶ä¿®æ”¹å‘˜å·¥ä¿¡æ¯ã€‚æˆ‘ä»¬æŠŠå¯¹ fullName çš„ç›´æ¥è®¿é—®æ”¹æˆäº†å¯ä»¥æ£€æŸ¥å¯†ç çš„ set æ–¹æ³•ã€‚ æˆ‘ä»¬ä¹ŸåŠ äº†ä¸€ä¸ª get æ–¹æ³•ï¼Œè®©ä¸Šé¢çš„ä¾‹å­ä»ç„¶å¯ä»¥å·¥ä½œã€‚ 123456789101112131415161718192021222324let passcode = 'secret passcode'class Employee &#123; private _fullName: string get fullName(): string &#123; return this._fullName &#125; set fullName(newName: string) &#123; if (passcode &amp;&amp; passcode == 'secret passcode') &#123; this._fullName = newName &#125; else &#123; console.log('Error: Unauthorized update of employee!') &#125; &#125;&#125;let employee = new Employee()employee.fullName = 'Bob Smith'if (employee.fullName) &#123; console.log(employee.fullName)&#125; æˆ‘ä»¬å¯ä»¥ä¿®æ”¹ä¸€ä¸‹å¯†ç ï¼Œæ¥éªŒè¯ä¸€ä¸‹å­˜å–å™¨æ˜¯å¦æ˜¯å·¥ä½œçš„ã€‚å½“å¯†ç ä¸å¯¹æ—¶ï¼Œä¼šæç¤ºæˆ‘ä»¬æ²¡æœ‰æƒé™å»ä¿®æ”¹å‘˜å·¥ã€‚ å¯¹äºå­˜å–å™¨æœ‰ä¸‹é¢å‡ ç‚¹éœ€è¦æ³¨æ„çš„ï¼š é¦–å…ˆï¼Œå­˜å–å™¨è¦æ±‚ä½ å°†ç¼–è¯‘å™¨è®¾ç½®ä¸ºè¾“å‡º ECMAScript 5 æˆ–æ›´é«˜ã€‚ ä¸æ”¯æŒé™çº§åˆ° ECMAScript 3ã€‚å…¶æ¬¡ï¼Œåªå¸¦æœ‰ get ä¸å¸¦æœ‰ set çš„å­˜å–å™¨è‡ªåŠ¨è¢«æ¨æ–­ä¸º readonlyã€‚è¿™åœ¨ä»ä»£ç ç”Ÿæˆ .d.ts æ–‡ä»¶æ—¶æ˜¯æœ‰å¸®åŠ©çš„ï¼Œå› ä¸ºåˆ©ç”¨è¿™ä¸ªå±æ€§çš„ç”¨æˆ·ä¼šçœ‹åˆ°ä¸å…è®¸å¤Ÿæ”¹å˜å®ƒçš„å€¼ã€‚ é™æ€å±æ€§åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªè®¨è®ºäº†ç±»çš„å®ä¾‹æˆå‘˜ï¼Œé‚£äº›ä»…å½“ç±»è¢«å®ä¾‹åŒ–çš„æ—¶å€™æ‰ä¼šè¢«åˆå§‹åŒ–çš„å±æ€§ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºç±»çš„é™æ€æˆå‘˜ï¼Œè¿™äº›å±æ€§å­˜åœ¨äºç±»æœ¬èº«ä¸Šé¢è€Œä¸æ˜¯ç±»çš„å®ä¾‹ä¸Šã€‚ åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ static å®šä¹‰ originï¼Œå› ä¸ºå®ƒæ˜¯æ‰€æœ‰ç½‘æ ¼éƒ½ä¼šç”¨åˆ°çš„å±æ€§ã€‚ æ¯ä¸ªå®ä¾‹æƒ³è¦è®¿é—®è¿™ä¸ªå±æ€§çš„æ—¶å€™ï¼Œéƒ½è¦åœ¨ origin å‰é¢åŠ ä¸Šç±»åã€‚ å¦‚åŒåœ¨å®ä¾‹å±æ€§ä¸Šä½¿ç”¨ this.xxx æ¥è®¿é—®å±æ€§ä¸€æ ·ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ Grid.xxx æ¥è®¿é—®é™æ€å±æ€§ã€‚ 123456789101112131415161718192021class Grid &#123; static origin = &#123;x: 0, y: 0&#125; scale: number constructor (scale: number) &#123; this.scale = scale &#125; calculateDistanceFromOrigin(point: &#123;x: number; y: number&#125;) &#123; let xDist = point.x - Grid.origin.x let yDist = point.y - Grid.origin.y return Math.sqrt(xDist * xDist + yDist * yDist) * this.scale &#125;&#125;let grid1 = new Grid(1.0) // 1x scalelet grid2 = new Grid(5.0) // 5x scaleconsole.log(grid1.calculateDistanceFromOrigin(&#123;x: 3, y: 4&#125;))console.log(grid2.calculateDistanceFromOrigin(&#123;x: 3, y: 4&#125;)) æŠ½è±¡ç±»æŠ½è±¡ç±»åšä¸ºå…¶å®ƒæ´¾ç”Ÿç±»çš„åŸºç±»ä½¿ç”¨ã€‚ å®ƒä»¬ä¸€èˆ¬ä¸ä¼šç›´æ¥è¢«å®ä¾‹åŒ–ã€‚ä¸åŒäºæ¥å£ï¼ŒæŠ½è±¡ç±»å¯ä»¥åŒ…å«æˆå‘˜çš„å®ç°ç»†èŠ‚ã€‚ abstract å…³é”®å­—æ˜¯ç”¨äºå®šä¹‰æŠ½è±¡ç±»å’Œåœ¨æŠ½è±¡ç±»å†…éƒ¨å®šä¹‰æŠ½è±¡æ–¹æ³•ã€‚ 123456abstract class Animal &#123; abstract makeSound(): void move(): void &#123; console.log('roaming the earth...') &#125;&#125; æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•ä¸åŒ…å«å…·ä½“å®ç°å¹¶ä¸”å¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­å®ç°ã€‚ æŠ½è±¡æ–¹æ³•çš„è¯­æ³•ä¸æ¥å£æ–¹æ³•ç›¸ä¼¼ã€‚ä¸¤è€…éƒ½æ˜¯å®šä¹‰æ–¹æ³•ç­¾åä½†ä¸åŒ…å«æ–¹æ³•ä½“ã€‚ ç„¶è€Œï¼ŒæŠ½è±¡æ–¹æ³•å¿…é¡»åŒ…å« abstract å…³é”®å­—å¹¶ä¸”å¯ä»¥åŒ…å«è®¿é—®ä¿®é¥°ç¬¦ã€‚ 12345678910111213141516171819202122232425262728293031323334abstract class Department &#123; name: string constructor(name: string) &#123; this.name = name &#125; printName(): void &#123; console.log('Department name: ' + this.name) &#125; abstract printMeeting(): void // å¿…é¡»åœ¨æ´¾ç”Ÿç±»ä¸­å®ç°&#125;class AccountingDepartment extends Department &#123; constructor() &#123; super('Accounting and Auditing') // åœ¨æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä¸­å¿…é¡»è°ƒç”¨ super() &#125; printMeeting(): void &#123; console.log('The Accounting Department meets each Monday at 10am.') &#125; generateReports(): void &#123; console.log('Generating accounting reports...') &#125;&#125;let department: Department // å…è®¸åˆ›å»ºä¸€ä¸ªå¯¹æŠ½è±¡ç±»å‹çš„å¼•ç”¨department = new Department() // é”™è¯¯: ä¸èƒ½åˆ›å»ºä¸€ä¸ªæŠ½è±¡ç±»çš„å®ä¾‹department = new AccountingDepartment() // å…è®¸å¯¹ä¸€ä¸ªæŠ½è±¡å­ç±»è¿›è¡Œå®ä¾‹åŒ–å’Œèµ‹å€¼department.printName()department.printMeeting()department.generateReports() // é”™è¯¯: æ–¹æ³•åœ¨å£°æ˜çš„æŠ½è±¡ç±»ä¸­ä¸å­˜åœ¨ é«˜çº§æŠ€å·§æ„é€ å‡½æ•°å½“ä½ åœ¨ TypeScript é‡Œå£°æ˜äº†ä¸€ä¸ªç±»çš„æ—¶å€™ï¼Œå®é™…ä¸ŠåŒæ—¶å£°æ˜äº†å¾ˆå¤šä¸œè¥¿ã€‚é¦–å…ˆå°±æ˜¯ç±»çš„å®ä¾‹çš„ç±»å‹ã€‚ 1234567891011121314class Greeter &#123; static standardGreeting = 'Hello, there' greeting: string constructor(message: string) &#123; this.greeting = message &#125; greet() &#123; return 'Hello, ' + this.greeting &#125;&#125;let greeter: Greetergreeter = new Greeter('world')console.log(greeter.greet()) è¿™é‡Œï¼Œæˆ‘ä»¬å†™äº† let greeter: Greeterï¼Œæ„æ€æ˜¯ Greeter ç±»çš„å®ä¾‹çš„ç±»å‹æ˜¯ Greeterã€‚ è¿™å¯¹äºç”¨è¿‡å…¶å®ƒé¢å‘å¯¹è±¡è¯­è¨€çš„ç¨‹åºå‘˜æ¥è®²å·²ç»æ˜¯è€ä¹ æƒ¯äº†ã€‚ æˆ‘ä»¬ä¹Ÿåˆ›å»ºäº†ä¸€ä¸ªå«åšæ„é€ å‡½æ•°çš„å€¼ã€‚ è¿™ä¸ªå‡½æ•°ä¼šåœ¨æˆ‘ä»¬ä½¿ç”¨ new åˆ›å»ºç±»å®ä¾‹çš„æ—¶å€™è¢«è°ƒç”¨ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œä¸Šé¢çš„ä»£ç è¢«ç¼–è¯‘æˆJavaScriptåæ˜¯ä»€ä¹ˆæ ·å­çš„ï¼š 12345678910111213var Greeter = /** @class */ (function () &#123; function Greeter(message) &#123; this.greeting = message; &#125; Greeter.prototype.greet = function () &#123; return 'Hello, ' + this.greeting; &#125;; Greeter.standardGreeting = 'Hello, there'; return Greeter;&#125;());var greeter;greeter = new Greeter('world');console.log(greeter.greet()); ä¸Šé¢çš„ä»£ç é‡Œï¼Œvar Greeter å°†è¢«æ„é€ å‡½æ•°èµ‹å€¼ã€‚ å½“æˆ‘ä»¬è°ƒç”¨ new å¹¶æ‰§è¡Œäº†è¿™ä¸ªå‡½æ•°åï¼Œä¾¿ä¼šå¾—åˆ°ä¸€ä¸ªç±»çš„å®ä¾‹ã€‚è¿™ä¸ªæ„é€ å‡½æ•°ä¹ŸåŒ…å«äº†ç±»çš„æ‰€æœ‰é™æ€å±æ€§ã€‚ æ¢ä¸ªè§’åº¦è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºç±»å…·æœ‰å®ä¾‹éƒ¨åˆ†ä¸é™æ€éƒ¨åˆ†è¿™ä¸¤ä¸ªéƒ¨åˆ†ã€‚ è®©æˆ‘ä»¬ç¨å¾®æ”¹å†™ä¸€ä¸‹è¿™ä¸ªä¾‹å­ï¼Œçœ‹çœ‹å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ï¼š 123456789101112131415161718192021222324252627class Greeter &#123; static standardGreeting = 'Hello, there' greeting: string constructor(message?: string) &#123; this.greeting = message &#125; greet() &#123; if (this.greeting) &#123; return 'Hello, ' + this.greeting &#125; else &#123; return Greeter.standardGreeting &#125; &#125;&#125;let greeter: Greetergreeter = new Greeter()console.log(greeter.greet())let greeterMaker: typeof Greeter = GreetergreeterMaker.standardGreeting = 'Hey there'let greeter2: Greeter = new greeterMaker()console.log(greeter2.greet()) è¿™ä¸ªä¾‹å­é‡Œï¼Œ greeter1 ä¸ä¹‹å‰çœ‹åˆ°çš„ä¸€æ ·ã€‚ æˆ‘ä»¬å®ä¾‹åŒ– Greeterç±»ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ã€‚ ä¸æˆ‘ä»¬ä¹‹å‰çœ‹åˆ°çš„ä¸€æ ·ã€‚ å†ä¹‹åï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ç±»ã€‚ æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå«åš greeterMaker çš„å˜é‡ã€‚è¿™ä¸ªå˜é‡ä¿å­˜äº†è¿™ä¸ªç±»æˆ–è€…è¯´ä¿å­˜äº†ç±»æ„é€ å‡½æ•°ã€‚ ç„¶åæˆ‘ä»¬ä½¿ç”¨ typeof Greeterï¼Œæ„æ€æ˜¯å– Greeter ç±»çš„ç±»å‹ï¼Œè€Œä¸æ˜¯å®ä¾‹çš„ç±»å‹ã€‚æˆ–è€…æ›´ç¡®åˆ‡çš„è¯´ï¼Œâ€å‘Šè¯‰æˆ‘ Greeter æ ‡è¯†ç¬¦çš„ç±»å‹â€ï¼Œä¹Ÿå°±æ˜¯æ„é€ å‡½æ•°çš„ç±»å‹ã€‚ è¿™ä¸ªç±»å‹åŒ…å«äº†ç±»çš„æ‰€æœ‰é™æ€æˆå‘˜å’Œæ„é€ å‡½æ•°ã€‚ ä¹‹åï¼Œå°±å’Œå‰é¢ä¸€æ ·ï¼Œæˆ‘ä»¬åœ¨ greeterMaker ä¸Šä½¿ç”¨ newï¼Œåˆ›å»º Greeter çš„å®ä¾‹ã€‚ æŠŠç±»å½“åšæ¥å£ä½¿ç”¨å¦‚ä¸Šä¸€èŠ‚é‡Œæ‰€è®²çš„ï¼Œç±»å®šä¹‰ä¼šåˆ›å»ºä¸¤ä¸ªä¸œè¥¿ï¼šç±»çš„å®ä¾‹ç±»å‹å’Œä¸€ä¸ªæ„é€ å‡½æ•°ã€‚ å› ä¸ºç±»å¯ä»¥åˆ›å»ºå‡ºç±»å‹ï¼Œæ‰€ä»¥ä½ èƒ½å¤Ÿåœ¨å…è®¸ä½¿ç”¨æ¥å£çš„åœ°æ–¹ä½¿ç”¨ç±»ã€‚ 12345678910class Point &#123; x: number y: number&#125;interface Point3d extends Point &#123; z: number&#125;let point3d: Point3d = &#123;x: 1, y: 2, z: 3&#125; å‡½æ•°å‡½æ•°æ˜¯ JavaScript åº”ç”¨ç¨‹åºçš„åŸºç¡€ï¼Œå®ƒå¸®åŠ©ä½ å®ç°æŠ½è±¡å±‚ï¼Œæ¨¡æ‹Ÿç±»ï¼Œä¿¡æ¯éšè—å’Œæ¨¡å—ã€‚åœ¨ TypeScript é‡Œï¼Œè™½ç„¶å·²ç»æ”¯æŒç±»ï¼Œå‘½åç©ºé—´å’Œæ¨¡å—ï¼Œä½†å‡½æ•°ä»ç„¶æ˜¯ä¸»è¦çš„å®šä¹‰è¡Œä¸ºçš„åœ°æ–¹ã€‚TypeScript ä¸º JavaScript å‡½æ•°æ·»åŠ äº†é¢å¤–çš„åŠŸèƒ½ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ›´å®¹æ˜“åœ°ä½¿ç”¨ã€‚ åŸºæœ¬ç¤ºä¾‹å’Œ JavaScript ä¸€æ ·ï¼ŒTypeScript å‡½æ•°å¯ä»¥åˆ›å»ºæœ‰åå­—çš„å‡½æ•°å’ŒåŒ¿åå‡½æ•°ã€‚ä½ å¯ä»¥éšæ„é€‰æ‹©é€‚åˆåº”ç”¨ç¨‹åºçš„æ–¹å¼ï¼Œä¸è®ºæ˜¯å®šä¹‰ä¸€ç³»åˆ— API å‡½æ•°è¿˜æ˜¯åªä½¿ç”¨ä¸€æ¬¡çš„å‡½æ•°ã€‚ é€šè¿‡ä¸‹é¢çš„ä¾‹å­å¯ä»¥è¿…é€Ÿå›æƒ³èµ·è¿™ä¸¤ç§ JavaScript ä¸­çš„å‡½æ•°ï¼š 123456789// å‘½åå‡½æ•°function add(x, y) &#123; return x + y&#125;// åŒ¿åå‡½æ•°let myAdd = function(x, y) &#123; return x + y;&#125; åœ¨ JavaScript é‡Œï¼Œå‡½æ•°å¯ä»¥ä½¿ç”¨å‡½æ•°ä½“å¤–éƒ¨çš„å˜é‡ã€‚ å½“å‡½æ•°è¿™ä¹ˆåšæ—¶ï¼Œæˆ‘ä»¬è¯´å®ƒâ€˜æ•è·â€™äº†è¿™äº›å˜é‡ã€‚ è‡³äºä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·åšä»¥åŠå…¶ä¸­çš„åˆ©å¼Šè¶…å‡ºäº†æœ¬æ–‡çš„èŒƒå›´ï¼Œä½†æ˜¯æ·±åˆ»ç†è§£è¿™ä¸ªæœºåˆ¶å¯¹å­¦ä¹  JavaScript å’Œ TypeScript ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ 12345let z = 100function addToZ(x, y) &#123; return x + y + z&#125; å‡½æ•°ç±»å‹ä¸ºå‡½æ•°å®šä¹‰ç±»å‹è®©æˆ‘ä»¬ä¸ºä¸Šé¢é‚£ä¸ªå‡½æ•°æ·»åŠ ç±»å‹ï¼š 1234567function add(x: number, y: number): number &#123; return x + y&#125;let myAdd = function(x: number, y: number): number &#123; return x + y&#125; æˆ‘ä»¬å¯ä»¥ç»™æ¯ä¸ªå‚æ•°æ·»åŠ ç±»å‹ä¹‹åå†ä¸ºå‡½æ•°æœ¬èº«æ·»åŠ è¿”å›å€¼ç±»å‹ã€‚TypeScript èƒ½å¤Ÿæ ¹æ®è¿”å›è¯­å¥è‡ªåŠ¨æ¨æ–­å‡ºè¿”å›å€¼ç±»å‹ã€‚ ä¹¦å†™å®Œæ•´å‡½æ•°ç±»å‹ç°åœ¨æˆ‘ä»¬å·²ç»ä¸ºå‡½æ•°æŒ‡å®šäº†ç±»å‹ï¼Œä¸‹é¢è®©æˆ‘ä»¬å†™å‡ºå‡½æ•°çš„å®Œæ•´ç±»å‹ã€‚ 1234let myAdd: (x: number, y: number) =&gt; number = function(x: number, y: number): number &#123; return x + y&#125; å‡½æ•°ç±»å‹åŒ…å«ä¸¤éƒ¨åˆ†ï¼šå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹ã€‚ å½“å†™å‡ºå®Œæ•´å‡½æ•°ç±»å‹çš„æ—¶å€™ï¼Œè¿™ä¸¤éƒ¨åˆ†éƒ½æ˜¯éœ€è¦çš„ã€‚ æˆ‘ä»¬ä»¥å‚æ•°åˆ—è¡¨çš„å½¢å¼å†™å‡ºå‚æ•°ç±»å‹ï¼Œä¸ºæ¯ä¸ªå‚æ•°æŒ‡å®šä¸€ä¸ªåå­—å’Œç±»å‹ã€‚è¿™ä¸ªåå­—åªæ˜¯ä¸ºäº†å¢åŠ å¯è¯»æ€§ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™ä¹ˆå†™ï¼š 1234let myAdd: (baseValue: number, increment: number) =&gt; number = function(x: number, y: number): number &#123; return x + y&#125; åªè¦å‚æ•°ç±»å‹æ˜¯åŒ¹é…çš„ï¼Œé‚£ä¹ˆå°±è®¤ä¸ºå®ƒæ˜¯æœ‰æ•ˆçš„å‡½æ•°ç±»å‹ï¼Œè€Œä¸åœ¨ä¹å‚æ•°åæ˜¯å¦æ­£ç¡®ã€‚ ç¬¬äºŒéƒ¨åˆ†æ˜¯è¿”å›å€¼ç±»å‹ã€‚ å¯¹äºè¿”å›å€¼ï¼Œæˆ‘ä»¬åœ¨å‡½æ•°å’Œè¿”å›å€¼ç±»å‹ä¹‹å‰ä½¿ç”¨(=&gt;)ç¬¦å·ï¼Œä½¿ä¹‹æ¸…æ™°æ˜äº†ã€‚ å¦‚ä¹‹å‰æåˆ°çš„ï¼Œè¿”å›å€¼ç±»å‹æ˜¯å‡½æ•°ç±»å‹çš„å¿…è¦éƒ¨åˆ†ï¼Œå¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›ä»»ä½•å€¼ï¼Œä½ ä¹Ÿå¿…é¡»æŒ‡å®šè¿”å›å€¼ç±»å‹ä¸º void è€Œä¸èƒ½ç•™ç©ºã€‚ å‡½æ•°çš„ç±»å‹åªæ˜¯ç”±å‚æ•°ç±»å‹å’Œè¿”å›å€¼ç»„æˆçš„ã€‚ å‡½æ•°ä¸­ä½¿ç”¨çš„æ•è·å˜é‡ä¸ä¼šä½“ç°åœ¨ç±»å‹é‡Œã€‚ å®é™…ä¸Šï¼Œè¿™äº›å˜é‡æ˜¯å‡½æ•°çš„éšè—çŠ¶æ€å¹¶ä¸æ˜¯ç»„æˆ API çš„ä¸€éƒ¨åˆ†ã€‚ æ¨æ–­ç±»å‹å°è¯•è¿™ä¸ªä¾‹å­çš„æ—¶å€™ï¼Œä½ ä¼šå‘ç°å¦‚æœä½ åœ¨èµ‹å€¼è¯­å¥çš„ä¸€è¾¹æŒ‡å®šäº†ç±»å‹ä½†æ˜¯å¦ä¸€è¾¹æ²¡æœ‰ç±»å‹çš„è¯ï¼ŒTypeScript ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¯†åˆ«å‡ºç±»å‹ï¼š 12345678let myAdd = function(x: number, y: number): number &#123; return x + y&#125;let myAdd: (baseValue: number, increment: number) =&gt; number = function(x, y) &#123; return x + y&#125; è¿™å«åšâ€œæŒ‰ä¸Šä¸‹æ–‡å½’ç±»â€ï¼Œæ˜¯ç±»å‹æ¨è®ºçš„ä¸€ç§ã€‚å®ƒå¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ä¸ºç¨‹åºæŒ‡å®šç±»å‹ã€‚ å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°TypeScript é‡Œçš„æ¯ä¸ªå‡½æ•°å‚æ•°éƒ½æ˜¯å¿…é¡»çš„ã€‚ è¿™ä¸æ˜¯æŒ‡ä¸èƒ½ä¼ é€’ null æˆ– undefined ä½œä¸ºå‚æ•°ï¼Œè€Œæ˜¯è¯´ç¼–è¯‘å™¨æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ä¸ºæ¯ä¸ªå‚æ•°éƒ½ä¼ å…¥äº†å€¼ã€‚ç¼–è¯‘å™¨è¿˜ä¼šå‡è®¾åªæœ‰è¿™äº›å‚æ•°ä¼šè¢«ä¼ é€’è¿›å‡½æ•°ã€‚ ç®€çŸ­åœ°è¯´ï¼Œä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ä¸ªæ•°å¿…é¡»ä¸å‡½æ•°æœŸæœ›çš„å‚æ•°ä¸ªæ•°ä¸€è‡´ã€‚ 1234567function buildName(firstName: string, lastName: string) &#123; return firstName + ' ' + lastName;&#125;let result1 = buildName('Bob') // Error, å‚æ•°è¿‡å°‘let result2 = buildName('Bob', 'Adams', 'Sr.'); // Error, å‚æ•°è¿‡å¤šlet result3 = buildName('Bob', 'Adams'); // OK JavaScript é‡Œï¼Œæ¯ä¸ªå‚æ•°éƒ½æ˜¯å¯é€‰çš„ï¼Œå¯ä¼ å¯ä¸ä¼ ã€‚ æ²¡ä¼ å‚çš„æ—¶å€™ï¼Œå®ƒçš„å€¼å°±æ˜¯ undefinedã€‚ åœ¨TypeScript é‡Œæˆ‘ä»¬å¯ä»¥åœ¨å‚æ•°åæ—ä½¿ç”¨ ? å®ç°å¯é€‰å‚æ•°çš„åŠŸèƒ½ã€‚ æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³è®© lastName æ˜¯å¯é€‰çš„ï¼š 12345678910function buildName(firstName: string, lastName?: string): string &#123; if (lastName) return firstName + ' ' + lastName else return firstName&#125;let result1 = buildName('Bob'); // ç°åœ¨æ­£å¸¸äº†let result2 = buildName('Bob', 'Adams', 'Sr.') // Error, å‚æ•°è¿‡å¤šlet result3 = buildName('Bob', 'Adams') // OK å¯é€‰å‚æ•°å¿…é¡»è·Ÿåœ¨å¿…é¡»å‚æ•°åé¢ã€‚ å¦‚æœä¸Šä¾‹æˆ‘ä»¬æƒ³è®© firstName æ˜¯å¯é€‰çš„ï¼Œé‚£ä¹ˆå°±å¿…é¡»è°ƒæ•´å®ƒä»¬çš„ä½ç½®ï¼ŒæŠŠ firstName æ”¾åœ¨åé¢ã€‚ åœ¨ TypeScript é‡Œï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºå‚æ•°æä¾›ä¸€ä¸ªé»˜è®¤å€¼å½“ç”¨æˆ·æ²¡æœ‰ä¼ é€’è¿™ä¸ªå‚æ•°æˆ–ä¼ é€’çš„å€¼æ˜¯ undefined æ—¶ã€‚ å®ƒä»¬å«åšæœ‰é»˜è®¤åˆå§‹åŒ–å€¼çš„å‚æ•°ã€‚ è®©æˆ‘ä»¬ä¿®æ”¹ä¸Šä¾‹ï¼ŒæŠŠlastName çš„é»˜è®¤å€¼è®¾ç½®ä¸º &quot;Smith&quot;ã€‚ 12345678function buildName(firstName: string, lastName = 'Smith'): string &#123; return firstName + ' ' + lastName&#125;let result1 = buildName('Bob') // è¿”å› \"Bob Smith\"let result2 = buildName('Bob', undefined) // æ­£å¸¸, åŒæ · \"Bob Smith\"let result3 = buildName('Bob', 'Adams', 'Sr.') // é”™è¯¯, å‚æ•°è¿‡å¤šlet result4 = buildName('Bob', 'Adams') // OK ä¸æ™®é€šå¯é€‰å‚æ•°ä¸åŒçš„æ˜¯ï¼Œå¸¦é»˜è®¤å€¼çš„å‚æ•°ä¸éœ€è¦æ”¾åœ¨å¿…é¡»å‚æ•°çš„åé¢ã€‚ å¦‚æœå¸¦é»˜è®¤å€¼çš„å‚æ•°å‡ºç°åœ¨å¿…é¡»å‚æ•°å‰é¢ï¼Œç”¨æˆ·å¿…é¡»æ˜ç¡®çš„ä¼ å…¥ undefined å€¼æ¥è·å¾—é»˜è®¤å€¼ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬é‡å†™æœ€åä¸€ä¸ªä¾‹å­ï¼Œè®© firstName æ˜¯å¸¦é»˜è®¤å€¼çš„å‚æ•°ï¼š 12345678function buildName(firstName = 'Will', lastName: string): string &#123; return firstName + ' ' + lastName&#125;let result1 = buildName('Bob') // Error, å‚æ•°è¿‡å°‘let result2 = buildName('Bob', 'Adams', \"Sr.\") // Error, å‚æ•°è¿‡å¤šlet result3 = buildName('Bob', 'Adams') // OKï¼Œ è¿”å› \"Bob Adams\"let result4 = buildName(undefined, 'Adams') // OKï¼Œ è¿”å› \"Will Adams\" å‰©ä½™å‚æ•°å¿…è¦å‚æ•°ï¼Œé»˜è®¤å‚æ•°å’Œå¯é€‰å‚æ•°æœ‰ä¸ªå…±åŒç‚¹ï¼šå®ƒä»¬è¡¨ç¤ºæŸä¸€ä¸ªå‚æ•°ã€‚ æœ‰æ—¶ï¼Œä½ æƒ³åŒæ—¶æ“ä½œå¤šä¸ªå‚æ•°ï¼Œæˆ–è€…ä½ å¹¶ä¸çŸ¥é“ä¼šæœ‰å¤šå°‘å‚æ•°ä¼ é€’è¿›æ¥ã€‚ åœ¨ JavaScript é‡Œï¼Œä½ å¯ä»¥ä½¿ç”¨ arguments æ¥è®¿é—®æ‰€æœ‰ä¼ å…¥çš„å‚æ•°ã€‚ åœ¨ TypeScript é‡Œï¼Œä½ å¯ä»¥æŠŠæ‰€æœ‰å‚æ•°æ”¶é›†åˆ°ä¸€ä¸ªå˜é‡é‡Œï¼š 12345function buildName(firstName: string, ...restOfName: string[]): string &#123; return firstName + ' ' + restOfName.join(' ')&#125;let employeeName = buildName('Joseph', 'Samuel', 'Lucas', 'MacKinzie') å‰©ä½™å‚æ•°ä¼šè¢«å½“åšä¸ªæ•°ä¸é™çš„å¯é€‰å‚æ•°ã€‚ å¯ä»¥ä¸€ä¸ªéƒ½æ²¡æœ‰ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥æœ‰ä»»æ„ä¸ªã€‚ ç¼–è¯‘å™¨åˆ›å»ºå‚æ•°æ•°ç»„ï¼Œåå­—æ˜¯ä½ åœ¨çœç•¥å·ï¼ˆ ...ï¼‰åé¢ç»™å®šçš„åå­—ï¼Œä½ å¯ä»¥åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨è¿™ä¸ªæ•°ç»„ã€‚ è¿™ä¸ªçœç•¥å·ä¹Ÿä¼šåœ¨å¸¦æœ‰å‰©ä½™å‚æ•°çš„å‡½æ•°ç±»å‹å®šä¹‰ä¸Šä½¿ç”¨åˆ°ï¼š 12345function buildName(firstName: string, ...restOfName: string[]): string &#123; return firstName + ' ' + restOfName.join(' ')&#125;let buildNameFun: (fname: string, ...rest: string[]) =&gt; string = buildName thiså­¦ä¹ å¦‚ä½•åœ¨ JavaScript é‡Œæ­£ç¡®ä½¿ç”¨ this å°±å¥½æ¯”ä¸€åœºæˆå¹´ç¤¼ã€‚ç”±äº TypeScript æ˜¯ JavaScript çš„è¶…é›†ï¼ŒTypeScript ç¨‹åºå‘˜ä¹Ÿéœ€è¦å¼„æ¸… this å·¥ä½œæœºåˆ¶å¹¶ä¸”å½“æœ‰ bug çš„æ—¶å€™èƒ½å¤Ÿæ‰¾å‡ºé”™è¯¯æ‰€åœ¨ã€‚ å¹¸è¿çš„æ˜¯ï¼ŒTypeScript èƒ½é€šçŸ¥ä½ é”™è¯¯åœ°ä½¿ç”¨äº† this çš„åœ°æ–¹ã€‚ å¦‚æœä½ æƒ³äº†è§£ JavaScript é‡Œçš„ thisæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œé‚£ä¹ˆé¦–å…ˆé˜…è¯» Yehuda Katz å†™çš„ Understanding JavaScript Function Invocation and â€œthisâ€ã€‚ Yehuda çš„æ–‡ç« è¯¦ç»†çš„é˜è¿°äº† this çš„å†…éƒ¨å·¥ä½œåŸç†ï¼Œå› æ­¤æˆ‘ä»¬è¿™é‡Œåªåšç®€å•ä»‹ç»ã€‚ this å’Œç®­å¤´å‡½æ•°JavaScripté‡Œï¼Œthis çš„å€¼åœ¨å‡½æ•°è¢«è°ƒç”¨çš„æ—¶å€™æ‰ä¼šæŒ‡å®šã€‚ è¿™æ˜¯ä¸ªæ—¢å¼ºå¤§åˆçµæ´»çš„ç‰¹ç‚¹ï¼Œä½†æ˜¯ä½ éœ€è¦èŠ±ç‚¹æ—¶é—´å¼„æ¸…æ¥šå‡½æ•°è°ƒç”¨çš„ä¸Šä¸‹æ–‡æ˜¯ä»€ä¹ˆã€‚ä½†ä¼—æ‰€å‘¨çŸ¥ï¼Œè¿™ä¸æ˜¯ä¸€ä»¶å¾ˆç®€å•çš„äº‹ï¼Œå°¤å…¶æ˜¯åœ¨è¿”å›ä¸€ä¸ªå‡½æ•°æˆ–å°†å‡½æ•°å½“åšå‚æ•°ä¼ é€’çš„æ—¶å€™ã€‚ ä¸‹é¢çœ‹ä¸€ä¸ªä¾‹å­ï¼š 1234567891011121314151617let deck = &#123; suits: ['hearts', 'spades', 'clubs', 'diamonds'], cards: Array(52), createCardPicker: function() &#123; return function() &#123; let pickedCard = Math.floor(Math.random() * 52) let pickedSuit = Math.floor(pickedCard / 13) return &#123;suit: this.suits[pickedSuit], card: pickedCard % 13&#125; &#125; &#125;&#125;let cardPicker = deck.createCardPicker()let pickedCard = cardPicker()console.log('card: ' + pickedCard.card + ' of ' + pickedCard.suit) å¯ä»¥çœ‹åˆ° createCardPicker æ˜¯ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”å®ƒåˆè¿”å›äº†ä¸€ä¸ªå‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬å°è¯•è¿è¡Œè¿™ä¸ªç¨‹åºï¼Œä¼šå‘ç°å®ƒå¹¶æ²¡æœ‰è¾“å‡ºè€Œæ˜¯æŠ¥é”™äº†ã€‚ å› ä¸º createCardPicker è¿”å›çš„å‡½æ•°é‡Œçš„ this è¢«è®¾ç½®æˆäº† global è€Œä¸æ˜¯ deck å¯¹è±¡ã€‚ å› ä¸ºæˆ‘ä»¬åªæ˜¯ç‹¬ç«‹çš„è°ƒç”¨äº† cardPicker()ã€‚ é¡¶çº§çš„éæ–¹æ³•å¼è°ƒç”¨ä¼šå°† this è§†ä¸º globalã€‚ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°è¢«è¿”å›æ—¶å°±ç»‘å¥½æ­£ç¡®çš„thisã€‚ è¿™æ ·çš„è¯ï¼Œæ— è®ºä¹‹åæ€ä¹ˆä½¿ç”¨å®ƒï¼Œéƒ½ä¼šå¼•ç”¨ç»‘å®šçš„deck å¯¹è±¡ã€‚ æˆ‘ä»¬éœ€è¦æ”¹å˜å‡½æ•°è¡¨è¾¾å¼æ¥ä½¿ç”¨ ECMAScript 6 ç®­å¤´è¯­æ³•ã€‚ ç®­å¤´å‡½æ•°èƒ½ä¿å­˜å‡½æ•°åˆ›å»ºæ—¶çš„ this å€¼ï¼Œè€Œä¸æ˜¯è°ƒç”¨æ—¶çš„å€¼ï¼š 123456789101112131415161718let deck = &#123; suits: ['hearts', 'spades', 'clubs', 'diamonds'], cards: Array(52), createCardPicker: function() &#123; // æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨ç®­å¤´å‡½æ•° return () =&gt; &#123; let pickedCard = Math.floor(Math.random() * 52) let pickedSuit = Math.floor(pickedCard / 13) return &#123;suit: this.suits[pickedSuit], card: pickedCard % 13&#125; &#125; &#125;&#125;let cardPicker = deck.createCardPicker()let pickedCard = cardPicker()console.log('card: ' + pickedCard.card + ' of ' + pickedCard.suit) this å‚æ•°åœ¨ä¸Šè¿°çš„ä¾‹å­ä¸­ this.suits[pickedSuit] çš„ç±»å‹ä¸º anyï¼Œè¿™æ˜¯å› ä¸º this æ¥è‡ªå¯¹è±¡å­—é¢é‡é‡Œçš„å‡½æ•°è¡¨è¾¾å¼ã€‚ ä¿®æ”¹çš„æ–¹æ³•æ˜¯ï¼Œæä¾›ä¸€ä¸ªæ˜¾å¼çš„ this å‚æ•°ã€‚ this å‚æ•°æ˜¯ä¸ªå‡çš„å‚æ•°ï¼Œå®ƒå‡ºç°åœ¨å‚æ•°åˆ—è¡¨çš„æœ€å‰é¢ï¼š 123function f(this: void) &#123; // ç¡®ä¿â€œthisâ€åœ¨æ­¤ç‹¬ç«‹å‡½æ•°ä¸­ä¸å¯ç”¨&#125; è®©æˆ‘ä»¬å¾€ä¾‹å­é‡Œæ·»åŠ ä¸€äº›æ¥å£ï¼ŒCard å’Œ Deckï¼Œè®©ç±»å‹é‡ç”¨èƒ½å¤Ÿå˜å¾—æ¸…æ™°ç®€å•äº›ï¼š 123456789101112131415161718192021222324252627282930interface Card &#123; suit: string card: number&#125;interface Deck &#123; suits: string[] cards: number[] createCardPicker (this: Deck): () =&gt; Card&#125;let deck: Deck = &#123; suits: ['hearts', 'spades', 'clubs', 'diamonds'], cards: Array(52), // NOTE: å‡½æ•°ç°åœ¨æ˜¾å¼æŒ‡å®šå…¶è¢«è°ƒç”¨æ–¹å¿…é¡»æ˜¯ deck ç±»å‹ createCardPicker: function (this: Deck) &#123; return () =&gt; &#123; let pickedCard = Math.floor(Math.random() * 52) let pickedSuit = Math.floor(pickedCard / 13) return &#123;suit: this.suits[pickedSuit], card: pickedCard % 13&#125; &#125; &#125;&#125;let cardPicker = deck.createCardPicker()let pickedCard = cardPicker()console.log('card: ' + pickedCard.card + ' of ' + pickedCard.suit) ç°åœ¨ TypeScrip tçŸ¥é“ createCardPicker æœŸæœ›åœ¨æŸä¸ª Deck å¯¹è±¡ä¸Šè°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ this æ˜¯ Deck ç±»å‹çš„ï¼Œè€Œé anyã€‚ this å‚æ•°åœ¨å›è°ƒå‡½æ•°é‡Œä½ å¯ä»¥ä¹Ÿçœ‹åˆ°è¿‡åœ¨å›è°ƒå‡½æ•°é‡Œçš„ this æŠ¥é”™ï¼Œå½“ä½ å°†ä¸€ä¸ªå‡½æ•°ä¼ é€’åˆ°æŸä¸ªåº“å‡½æ•°é‡Œç¨åä¼šè¢«è°ƒç”¨æ—¶ã€‚ å› ä¸ºå½“å›è°ƒè¢«è°ƒç”¨çš„æ—¶å€™ï¼Œå®ƒä»¬ä¼šè¢«å½“æˆä¸€ä¸ªæ™®é€šå‡½æ•°è°ƒç”¨ï¼Œthis å°†ä¸º undefinedã€‚ ç¨åšæ”¹åŠ¨ï¼Œä½ å°±å¯ä»¥é€šè¿‡ this å‚æ•°æ¥é¿å…é”™è¯¯ã€‚ é¦–å…ˆï¼Œåº“å‡½æ•°çš„ä½œè€…è¦æŒ‡å®š this çš„ç±»å‹ï¼š 123interface UIElement &#123; addClickListener(onclick: (this: void, e: Event) =&gt; void): void&#125; this: void æ„å‘³ç€ addClickListener æœŸæœ›ä¼ å…¥çš„ onclick æ–¹æ³•ä¸éœ€è¦ this 1234567891011121314151617181920interface UIElement &#123; addClickListener (onclick: (this: void, e: Event) =&gt; void): void&#125;class Handler &#123; type: string onClickBad (this: Handler, e: Event) &#123; this.type = e.type &#125;&#125;let h = new Handler()let uiElement: UIElement = &#123; addClickListener () &#123; &#125;&#125;uiElement.addClickListener(h.onClickBad) // error! æŒ‡å®šäº† this ç±»å‹åï¼Œä½ æ˜¾å¼å£°æ˜ onClickBad å¿…é¡»åœ¨ Handler çš„å®ä¾‹ä¸Šè°ƒç”¨ã€‚ ç„¶å TypeScript ä¼šæ£€æµ‹åˆ° addClickListener è¦æ±‚å‡½æ•°å¸¦æœ‰ this: voidã€‚ æ”¹å˜ this ç±»å‹æ¥ä¿®å¤è¿™ä¸ªé”™è¯¯ï¼š 12345678910111213141516class Handler &#123; type: string; onClickBad (this: void, e: Event) &#123; console.log('clicked!') &#125;&#125;let h = new Handler()let uiElement: UIElement = &#123; addClickListener () &#123; &#125;&#125;uiElement.addClickListener(h.onClickBad) å› ä¸º onClickGood æŒ‡å®šäº† this ç±»å‹ä¸º voidï¼Œå› æ­¤ä¼ é€’ addClickListener æ˜¯åˆæ³•çš„ã€‚ å½“ç„¶äº†ï¼Œè¿™ä¹Ÿæ„å‘³ç€ä¸èƒ½ä½¿ç”¨ this.infoã€‚ å¦‚æœä½ ä¸¤è€…éƒ½æƒ³è¦ï¼Œä½ ä¸å¾—ä¸ä½¿ç”¨ç®­å¤´å‡½æ•°äº†ï¼š 123456class Handler &#123; type: string onClickGood = (e: Event) =&gt; &#123; this.type = e.type &#125;&#125; è¿™æ˜¯å¯è¡Œçš„å› ä¸ºç®­å¤´å‡½æ•°ä¸ä¼šæ•è· thisï¼Œæ‰€ä»¥ä½ æ€»æ˜¯å¯ä»¥æŠŠå®ƒä»¬ä¼ ç»™æœŸæœ› this: void çš„å‡½æ•°ã€‚ é‡è½½JavaScript æœ¬èº«æ˜¯ä¸ªåŠ¨æ€è¯­è¨€ã€‚JavaScript é‡Œå‡½æ•°æ ¹æ®ä¼ å…¥ä¸åŒçš„å‚æ•°è€Œè¿”å›ä¸åŒç±»å‹çš„æ•°æ®çš„åœºæ™¯æ˜¯å¾ˆå¸¸è§çš„ã€‚ 12345678910111213141516171819202122let suits = ['hearts', 'spades', 'clubs', 'diamonds']function pickCard(x): any &#123; if (Array.isArray(x)) &#123; let pickedCard = Math.floor(Math.random() * x.length) return pickedCard &#125; else if (typeof x === 'number') &#123; let pickedSuit = Math.floor(x / 13) return &#123; suit: suits[pickedSuit], card: x % 13 &#125; &#125;&#125;let myDeck = [ &#123; suit: 'diamonds', card: 2 &#125;, &#123; suit: 'spades', card: 10 &#125;, &#123; suit: 'hearts', card: 4 &#125;]let pickedCard1 = myDeck[pickCard(myDeck)];console.log('card: ' + pickedCard1.card + ' of ' + pickedCard1.suit)let pickedCard2 = pickCard(15)console.log('card: ' + pickedCard2.card + ' of ' + pickedCard2.suit) pickCard æ–¹æ³•æ ¹æ®ä¼ å…¥å‚æ•°çš„ä¸åŒä¼šè¿”å›ä¸¤ç§ä¸åŒçš„ç±»å‹ã€‚å¦‚æœä¼ å…¥çš„æ˜¯ä»£è¡¨çº¸ç‰Œçš„å¯¹è±¡æ•°ç»„ï¼Œå‡½æ•°ä½œç”¨æ˜¯ä»ä¸­æŠ“ä¸€å¼ ç‰Œã€‚å¦‚æœç”¨æˆ·æƒ³æŠ“ç‰Œï¼Œæˆ‘ä»¬å‘Šè¯‰ä»–æŠ“åˆ°äº†ä»€ä¹ˆç‰Œã€‚ ä½†æ˜¯è¿™æ€ä¹ˆåœ¨ç±»å‹ç³»ç»Ÿé‡Œè¡¨ç¤ºå‘¢ã€‚ æ–¹æ³•æ˜¯ä¸ºåŒä¸€ä¸ªå‡½æ•°æä¾›å¤šä¸ªå‡½æ•°ç±»å‹å®šä¹‰æ¥è¿›è¡Œå‡½æ•°é‡è½½ã€‚ ç¼–è¯‘å™¨ä¼šæ ¹æ®è¿™ä¸ªåˆ—è¡¨å»å¤„ç†å‡½æ•°çš„è°ƒç”¨ã€‚ ä¸‹é¢æˆ‘ä»¬æ¥é‡è½½ pickCard å‡½æ•°ã€‚ 12345678910111213141516171819202122232425let suits = ['hearts', 'spades', 'clubs', 'diamonds']function pickCard(x: &#123;suit: string; card: number &#125;[]): numberfunction pickCard(x: number): &#123;suit: string; card: number &#125;function pickCard(x): any &#123; if (Array.isArray(x)) &#123; let pickedCard = Math.floor(Math.random() * x.length) return pickedCard &#125; else if (typeof x === 'number') &#123; let pickedSuit = Math.floor(x / 13) return &#123; suit: suits[pickedSuit], card: x % 13 &#125; &#125;&#125;let myDeck = [ &#123; suit: 'diamonds', card: 2 &#125;, &#123; suit: 'spades', card: 10 &#125;, &#123; suit: 'hearts', card: 4 &#125;]let pickedCard1 = myDeck[pickCard(myDeck)];console.log('card: ' + pickedCard1.card + ' of ' + pickedCard1.suit)let pickedCard2 = pickCard(15)console.log('card: ' + pickedCard2.card + ' of ' + pickedCard2.suit) è¿™æ ·æ”¹å˜åï¼Œé‡è½½çš„ pickCard å‡½æ•°åœ¨è°ƒç”¨çš„æ—¶å€™ä¼šè¿›è¡Œæ­£ç¡®çš„ç±»å‹æ£€æŸ¥ã€‚ ä¸ºäº†è®©ç¼–è¯‘å™¨èƒ½å¤Ÿé€‰æ‹©æ­£ç¡®çš„æ£€æŸ¥ç±»å‹ï¼Œå®ƒä¸ JavaScript é‡Œçš„å¤„ç†æµç¨‹ç›¸ä¼¼ã€‚å®ƒæŸ¥æ‰¾é‡è½½åˆ—è¡¨ï¼Œå°è¯•ä½¿ç”¨ç¬¬ä¸€ä¸ªé‡è½½å®šä¹‰ã€‚ å¦‚æœåŒ¹é…çš„è¯å°±ä½¿ç”¨è¿™ä¸ªã€‚å› æ­¤ï¼Œåœ¨å®šä¹‰é‡è½½çš„æ—¶å€™ï¼Œä¸€å®šè¦æŠŠæœ€ç²¾ç¡®çš„å®šä¹‰æ”¾åœ¨æœ€å‰é¢ã€‚ æ³¨æ„ï¼Œfunction pickCard(x): any å¹¶ä¸æ˜¯é‡è½½åˆ—è¡¨çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤è¿™é‡Œåªæœ‰ä¸¤ä¸ªé‡è½½ï¼šä¸€ä¸ªæ˜¯æ¥æ”¶å¯¹è±¡æ•°ç»„ï¼Œå¦ä¸€ä¸ªæ¥æ”¶æ•°å­—ã€‚ ä»¥å…¶å®ƒå‚æ•°è°ƒç”¨ pickCard ä¼šäº§ç”Ÿé”™è¯¯ã€‚ æ³›å‹è½¯ä»¶å·¥ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…è¦åˆ›å»ºå®šä¹‰è‰¯å¥½ä¸”ä¸€è‡´çš„ APIï¼ŒåŒæ—¶ä¹Ÿè¦è€ƒè™‘å¯é‡ç”¨æ€§ã€‚ ç»„ä»¶ä¸ä»…èƒ½å¤Ÿæ”¯æŒå½“å‰çš„æ•°æ®ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿèƒ½æ”¯æŒæœªæ¥çš„æ•°æ®ç±»å‹ï¼Œè¿™åœ¨åˆ›å»ºå¤§å‹ç³»ç»Ÿæ—¶ä¸ºä½ æä¾›äº†ååˆ†çµæ´»çš„åŠŸèƒ½ã€‚ åœ¨åƒ C# å’Œ Java è¿™æ ·çš„è¯­è¨€ä¸­ï¼Œå¯ä»¥ä½¿ç”¨æ³›å‹æ¥åˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œä¸€ä¸ªç»„ä»¶å¯ä»¥æ”¯æŒå¤šç§ç±»å‹çš„æ•°æ®ã€‚ è¿™æ ·ç”¨æˆ·å°±å¯ä»¥ä»¥è‡ªå·±çš„æ•°æ®ç±»å‹æ¥ä½¿ç”¨ç»„ä»¶ã€‚ åŸºç¡€ç¤ºä¾‹ä¸‹é¢æ¥åˆ›å»ºç¬¬ä¸€ä¸ªä½¿ç”¨æ³›å‹çš„ä¾‹å­ï¼šidentity å‡½æ•°ã€‚ è¿™ä¸ªå‡½æ•°ä¼šè¿”å›ä»»ä½•ä¼ å…¥å®ƒçš„å€¼ã€‚ ä½ å¯ä»¥æŠŠè¿™ä¸ªå‡½æ•°å½“æˆæ˜¯ echo å‘½ä»¤ã€‚ ä¸ç”¨æ³›å‹çš„è¯ï¼Œè¿™ä¸ªå‡½æ•°å¯èƒ½æ˜¯ä¸‹é¢è¿™æ ·ï¼š 123function identity(arg: number): number &#123; return arg&#125; æˆ–è€…ï¼Œæˆ‘ä»¬ä½¿ç”¨ any ç±»å‹æ¥å®šä¹‰å‡½æ•°ï¼š 123function identity(arg: any): any &#123; return arg&#125; ä½¿ç”¨ any ç±»å‹ä¼šå¯¼è‡´è¿™ä¸ªå‡½æ•°å¯ä»¥æ¥æ”¶ä»»ä½•ç±»å‹çš„ arg å‚æ•°ï¼Œä½†æ˜¯è¿™æ ·å°±ä¸¢å¤±äº†ä¸€äº›ä¿¡æ¯ï¼šä¼ å…¥çš„ç±»å‹ä¸è¿”å›çš„ç±»å‹åº”è¯¥æ˜¯ç›¸åŒçš„ã€‚å¦‚æœæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬åªçŸ¥é“ä»»ä½•ç±»å‹çš„å€¼éƒ½æœ‰å¯èƒ½è¢«è¿”å›ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•ä½¿è¿”å›å€¼çš„ç±»å‹ä¸ä¼ å…¥å‚æ•°çš„ç±»å‹æ˜¯ç›¸åŒçš„ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ç±»å‹å˜é‡ï¼Œå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼Œåªç”¨äºè¡¨ç¤ºç±»å‹è€Œä¸æ˜¯å€¼ã€‚ 123function identity&lt;T&gt;(arg: T): T &#123; return arg&#125; æˆ‘ä»¬ç»™ identity æ·»åŠ äº†ç±»å‹å˜é‡ Tã€‚ T å¸®åŠ©æˆ‘ä»¬æ•è·ç”¨æˆ·ä¼ å…¥çš„ç±»å‹ï¼ˆæ¯”å¦‚ï¼šnumberï¼‰ï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªç±»å‹ã€‚ ä¹‹åæˆ‘ä»¬å†æ¬¡ä½¿ç”¨äº† T å½“åšè¿”å›å€¼ç±»å‹ã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥çŸ¥é“å‚æ•°ç±»å‹ä¸è¿”å›å€¼ç±»å‹æ˜¯ç›¸åŒçš„äº†ã€‚è¿™å…è®¸æˆ‘ä»¬è·Ÿè¸ªå‡½æ•°é‡Œä½¿ç”¨çš„ç±»å‹çš„ä¿¡æ¯ã€‚ æˆ‘ä»¬æŠŠè¿™ä¸ªç‰ˆæœ¬çš„ identity å‡½æ•°å«åšæ³›å‹ï¼Œå› ä¸ºå®ƒå¯ä»¥é€‚ç”¨äºå¤šä¸ªç±»å‹ã€‚ ä¸åŒäºä½¿ç”¨ anyï¼Œå®ƒä¸ä¼šä¸¢å¤±ä¿¡æ¯ï¼Œåƒç¬¬ä¸€ä¸ªä¾‹å­é‚£åƒä¿æŒå‡†ç¡®æ€§ï¼Œä¼ å…¥æ•°å€¼ç±»å‹å¹¶è¿”å›æ•°å€¼ç±»å‹ã€‚ æˆ‘ä»¬å®šä¹‰äº†æ³›å‹å‡½æ•°åï¼Œå¯ä»¥ç”¨ä¸¤ç§æ–¹æ³•ä½¿ç”¨ã€‚ ç¬¬ä¸€ç§æ˜¯ï¼Œä¼ å…¥æ‰€æœ‰çš„å‚æ•°ï¼ŒåŒ…å«ç±»å‹å‚æ•°ï¼š 1let output = identity&lt;string&gt;('myString') è¿™é‡Œæˆ‘ä»¬æ˜ç¡®çš„æŒ‡å®šäº† T æ˜¯ string ç±»å‹ï¼Œå¹¶åšä¸ºä¸€ä¸ªå‚æ•°ä¼ ç»™å‡½æ•°ï¼Œä½¿ç”¨äº† &lt;&gt; æ‹¬èµ·æ¥è€Œä¸æ˜¯ ()ã€‚ ç¬¬äºŒç§æ–¹æ³•æ›´æ™®éã€‚åˆ©ç”¨äº†ç±»å‹æ¨è®º â€“ å³ç¼–è¯‘å™¨ä¼šæ ¹æ®ä¼ å…¥çš„å‚æ•°è‡ªåŠ¨åœ°å¸®åŠ©æˆ‘ä»¬ç¡®å®š T çš„ç±»å‹ï¼š 1let output = identity('myString') æ³¨æ„æˆ‘ä»¬æ²¡å¿…è¦ä½¿ç”¨å°–æ‹¬å·ï¼ˆ&lt;&gt;ï¼‰æ¥æ˜ç¡®åœ°ä¼ å…¥ç±»å‹ï¼›ç¼–è¯‘å™¨å¯ä»¥æŸ¥çœ‹ myString çš„å€¼ï¼Œç„¶åæŠŠ T è®¾ç½®ä¸ºå®ƒçš„ç±»å‹ã€‚ ç±»å‹æ¨è®ºå¸®åŠ©æˆ‘ä»¬ä¿æŒä»£ç ç²¾ç®€å’Œé«˜å¯è¯»æ€§ã€‚å¦‚æœç¼–è¯‘å™¨ä¸èƒ½å¤Ÿè‡ªåŠ¨åœ°æ¨æ–­å‡ºç±»å‹çš„è¯ï¼Œåªèƒ½åƒä¸Šé¢é‚£æ ·æ˜ç¡®çš„ä¼ å…¥ T çš„ç±»å‹ï¼Œåœ¨ä¸€äº›å¤æ‚çš„æƒ…å†µä¸‹ï¼Œè¿™æ˜¯å¯èƒ½å‡ºç°çš„ã€‚ ä½¿ç”¨æ³›å‹å˜é‡ä½¿ç”¨æ³›å‹åˆ›å»ºåƒ identity è¿™æ ·çš„æ³›å‹å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨è¦æ±‚ä½ åœ¨å‡½æ•°ä½“å¿…é¡»æ­£ç¡®çš„ä½¿ç”¨è¿™ä¸ªé€šç”¨çš„ç±»å‹ã€‚ æ¢å¥è¯è¯´ï¼Œä½ å¿…é¡»æŠŠè¿™äº›å‚æ•°å½“åšæ˜¯ä»»æ„æˆ–æ‰€æœ‰ç±»å‹ã€‚ çœ‹ä¸‹ä¹‹å‰ identity ä¾‹å­ï¼š 123function identity&lt;T&gt;(arg: T): T &#123; return arg&#125; å¦‚æœæˆ‘ä»¬æƒ³æ‰“å°å‡º arg çš„é•¿åº¦ã€‚ æˆ‘ä»¬å¾ˆå¯èƒ½ä¼šè¿™æ ·åšï¼š 1234function loggingIdentity&lt;T&gt;(arg: T): T &#123; console.log(arg.length) return arg&#125; å¦‚æœè¿™ä¹ˆåšï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™è¯´æˆ‘ä»¬ä½¿ç”¨äº† arg çš„ .length å±æ€§ï¼Œä½†æ˜¯æ²¡æœ‰åœ°æ–¹æŒ‡æ˜ arg å…·æœ‰è¿™ä¸ªå±æ€§ã€‚è®°ä½ï¼Œè¿™äº›ç±»å‹å˜é‡ä»£è¡¨çš„æ˜¯ä»»æ„ç±»å‹ï¼Œæ‰€ä»¥ä½¿ç”¨è¿™ä¸ªå‡½æ•°çš„äººå¯èƒ½ä¼ å…¥çš„æ˜¯ä¸ªæ•°å­—ï¼Œè€Œæ•°å­—æ˜¯æ²¡æœ‰ .length å±æ€§çš„ã€‚ ç°åœ¨å‡è®¾æˆ‘ä»¬æƒ³æ“ä½œ T ç±»å‹çš„æ•°ç»„è€Œä¸ç›´æ¥æ˜¯ Tã€‚ç”±äºæˆ‘ä»¬æ“ä½œçš„æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥ .length å±æ€§æ˜¯åº”è¯¥å­˜åœ¨çš„ã€‚æˆ‘ä»¬å¯ä»¥åƒåˆ›å»ºå…¶å®ƒæ•°ç»„ä¸€æ ·åˆ›å»ºè¿™ä¸ªæ•°ç»„ï¼š 1234function loggingIdentity&lt;T&gt;(arg: T[]): T[] &#123; console.log(arg.length) return arg&#125; ä½ å¯ä»¥è¿™æ ·ç†è§£ loggingIdentity çš„ç±»å‹ï¼šæ³›å‹å‡½æ•° loggingIdentityï¼Œæ¥æ”¶ç±»å‹å‚æ•° T å’Œå‚æ•° argï¼Œå®ƒæ˜¯ä¸ªå…ƒç´ ç±»å‹æ˜¯ T çš„æ•°ç»„ï¼Œå¹¶è¿”å›å…ƒç´ ç±»å‹æ˜¯T çš„æ•°ç»„ã€‚ å¦‚æœæˆ‘ä»¬ä¼ å…¥æ•°å­—æ•°ç»„ï¼Œå°†è¿”å›ä¸€ä¸ªæ•°å­—æ•°ç»„ï¼Œå› ä¸ºæ­¤æ—¶ T çš„çš„ç±»å‹ä¸º numberã€‚ è¿™å¯ä»¥è®©æˆ‘ä»¬æŠŠæ³›å‹å˜é‡ T å½“åšç±»å‹çš„ä¸€éƒ¨åˆ†ä½¿ç”¨ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç±»å‹ï¼Œå¢åŠ äº†çµæ´»æ€§ã€‚ æ³›å‹ç±»å‹ä¸Šä¸€èŠ‚ï¼Œæˆ‘ä»¬åˆ›å»ºäº† identity é€šç”¨å‡½æ•°ï¼Œå¯ä»¥é€‚ç”¨äºä¸åŒçš„ç±»å‹ã€‚ åœ¨è¿™èŠ‚ï¼Œæˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹å‡½æ•°æœ¬èº«çš„ç±»å‹ï¼Œä»¥åŠå¦‚ä½•åˆ›å»ºæ³›å‹æ¥å£ã€‚ æ³›å‹å‡½æ•°çš„ç±»å‹ä¸éæ³›å‹å‡½æ•°çš„ç±»å‹æ²¡ä»€ä¹ˆä¸åŒï¼Œåªæ˜¯æœ‰ä¸€ä¸ªç±»å‹å‚æ•°åœ¨æœ€å‰é¢ï¼Œåƒå‡½æ•°å£°æ˜ä¸€æ ·ï¼š 12345function identity&lt;T&gt;(arg: T): T &#123; return arg&#125;let myIdentity: &lt;T&gt;(arg: T) =&gt; T = identity æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„æ³›å‹å‚æ•°åï¼Œåªè¦åœ¨æ•°é‡ä¸Šå’Œä½¿ç”¨æ–¹å¼ä¸Šèƒ½å¯¹åº”ä¸Šå°±å¯ä»¥ã€‚ 12345function identity&lt;T&gt;(arg: T): T &#123; return arg&#125;let myIdentity: &lt;U&gt;(arg: U) =&gt; U = identity æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å¸¦æœ‰è°ƒç”¨ç­¾åçš„å¯¹è±¡å­—é¢é‡æ¥å®šä¹‰æ³›å‹å‡½æ•°ï¼š 12345function identity&lt;T&gt;(arg: T): T &#123; return arg&#125;let myIdentity: &#123;&lt;T&gt;(arg: T): T&#125; = identity è¿™å¼•å¯¼æˆ‘ä»¬å»å†™ç¬¬ä¸€ä¸ªæ³›å‹æ¥å£äº†ã€‚æˆ‘ä»¬æŠŠä¸Šé¢ä¾‹å­é‡Œçš„å¯¹è±¡å­—é¢é‡æ‹¿å‡ºæ¥åšä¸ºä¸€ä¸ªæ¥å£ï¼š 123456789interface GenericIdentityFn &#123; &lt;T&gt;(arg: T): T&#125;function identity&lt;T&gt;(arg: T): T &#123; return arg&#125;let myIdentity: GenericIdentityFn = identity æˆ‘ä»¬ç”šè‡³å¯ä»¥æŠŠæ³›å‹å‚æ•°å½“ä½œæ•´ä¸ªæ¥å£çš„ä¸€ä¸ªå‚æ•°ã€‚ è¿™æ ·æˆ‘ä»¬å°±èƒ½æ¸…æ¥šçš„çŸ¥é“ä½¿ç”¨çš„å…·ä½“æ˜¯å“ªä¸ªæ³›å‹ç±»å‹ï¼ˆæ¯”å¦‚ï¼š Dictionary&lt;string&gt; è€Œä¸åªæ˜¯Dictionaryï¼‰ã€‚è¿™æ ·æ¥å£é‡Œçš„å…¶å®ƒæˆå‘˜ä¹Ÿèƒ½çŸ¥é“è¿™ä¸ªå‚æ•°çš„ç±»å‹äº†ã€‚ 123456789interface GenericIdentityFn&lt;T&gt; &#123; (arg: T): T&#125;function identity&lt;T&gt;(arg: T): T &#123; return arg&#125;let myIdentity: GenericIdentityFn&lt;number&gt; = identity æ³¨æ„ï¼Œæˆ‘ä»¬çš„ç¤ºä¾‹åšäº†å°‘è®¸æ”¹åŠ¨ã€‚ ä¸å†æè¿°æ³›å‹å‡½æ•°ï¼Œè€Œæ˜¯æŠŠéæ³›å‹å‡½æ•°ç­¾åä½œä¸ºæ³›å‹ç±»å‹ä¸€éƒ¨åˆ†ã€‚ å½“æˆ‘ä»¬ä½¿ç”¨ GenericIdentityFn çš„æ—¶å€™ï¼Œè¿˜å¾—ä¼ å…¥ä¸€ä¸ªç±»å‹å‚æ•°æ¥æŒ‡å®šæ³›å‹ç±»å‹ï¼ˆè¿™é‡Œæ˜¯ï¼šnumberï¼‰ï¼Œé”å®šäº†ä¹‹åä»£ç é‡Œä½¿ç”¨çš„ç±»å‹ã€‚å¯¹äºæè¿°å“ªéƒ¨åˆ†ç±»å‹å±äºæ³›å‹éƒ¨åˆ†æ¥è¯´ï¼Œç†è§£ä½•æ—¶æŠŠå‚æ•°æ”¾åœ¨è°ƒç”¨ç­¾åé‡Œå’Œä½•æ—¶æ”¾åœ¨æ¥å£ä¸Šæ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚ é™¤äº†æ³›å‹æ¥å£ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ›å»ºæ³›å‹ç±»ã€‚ æ³¨æ„ï¼Œæ— æ³•åˆ›å»ºæ³›å‹æšä¸¾å’Œæ³›å‹å‘½åç©ºé—´ã€‚ æ³›å‹ç±»æ³›å‹ç±»çœ‹ä¸Šå»ä¸æ³›å‹æ¥å£å·®ä¸å¤šã€‚ æ³›å‹ç±»ä½¿ç”¨ï¼ˆ &lt;&gt;ï¼‰æ‹¬èµ·æ³›å‹ç±»å‹ï¼Œè·Ÿåœ¨ç±»ååé¢ã€‚ 12345678910class GenericNumber&lt;T&gt; &#123; zeroValue: T add: (x: T, y: T) =&gt; T&#125;let myGenericNumber = new GenericNumber&lt;number&gt;()myGenericNumber.zeroValue = 0myGenericNumber.add = function(x, y) &#123; return x + y &#125; GenericNumber ç±»çš„ä½¿ç”¨æ˜¯ååˆ†ç›´è§‚çš„ï¼Œå¹¶ä¸”ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œæ²¡æœ‰ä»€ä¹ˆå»é™åˆ¶å®ƒåªèƒ½ä½¿ç”¨ number ç±»å‹ã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æˆ–å…¶å®ƒæ›´å¤æ‚çš„ç±»å‹ã€‚ 1234567let stringNumeric = new GenericNumber&lt;string&gt;()stringNumeric.zeroValue = ''stringNumeric.add = function(x, y) &#123; return x + y&#125;console.log(stringNumeric.add(stringNumeric.zeroValue, 'test')) ä¸æ¥å£ä¸€æ ·ï¼Œç›´æ¥æŠŠæ³›å‹ç±»å‹æ”¾åœ¨ç±»åé¢ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç¡®è®¤ç±»çš„æ‰€æœ‰å±æ€§éƒ½åœ¨ä½¿ç”¨ç›¸åŒçš„ç±»å‹ã€‚ æˆ‘ä»¬åœ¨ç±»é‚£èŠ‚è¯´è¿‡ï¼Œç±»æœ‰ä¸¤éƒ¨åˆ†ï¼šé™æ€éƒ¨åˆ†å’Œå®ä¾‹éƒ¨åˆ†ã€‚ æ³›å‹ç±»æŒ‡çš„æ˜¯å®ä¾‹éƒ¨åˆ†çš„ç±»å‹ï¼Œæ‰€ä»¥ç±»çš„é™æ€å±æ€§ä¸èƒ½ä½¿ç”¨è¿™ä¸ªæ³›å‹ç±»å‹ã€‚ æ³›å‹çº¦æŸæˆ‘ä»¬æœ‰æ—¶å€™æƒ³æ“ä½œæŸç±»å‹çš„ä¸€ç»„å€¼ï¼Œå¹¶ä¸”æˆ‘ä»¬çŸ¥é“è¿™ç»„å€¼å…·æœ‰ä»€ä¹ˆæ ·çš„å±æ€§ã€‚åœ¨ loggingIdentity ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æƒ³è®¿é—® arg çš„ length å±æ€§ï¼Œä½†æ˜¯ç¼–è¯‘å™¨å¹¶ä¸èƒ½è¯æ˜æ¯ç§ç±»å‹éƒ½æœ‰ length å±æ€§ï¼Œæ‰€ä»¥å°±æŠ¥é”™äº†ã€‚ 1234function loggingIdentity&lt;T&gt;(arg: T): T &#123; console.log(arg.length) return arg&#125; ç›¸æ¯”äºæ“ä½œ any æ‰€æœ‰ç±»å‹ï¼Œæˆ‘ä»¬æƒ³è¦é™åˆ¶å‡½æ•°å»å¤„ç†ä»»æ„å¸¦æœ‰ .length å±æ€§çš„æ‰€æœ‰ç±»å‹ã€‚ åªè¦ä¼ å…¥çš„ç±»å‹æœ‰è¿™ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å°±å…è®¸ï¼Œå°±æ˜¯è¯´è‡³å°‘åŒ…å«è¿™ä¸€å±æ€§ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦åˆ—å‡ºå¯¹äº T çš„çº¦æŸè¦æ±‚ã€‚ æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ¥å£æ¥æè¿°çº¦æŸæ¡ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å« .length å±æ€§çš„æ¥å£ï¼Œä½¿ç”¨è¿™ä¸ªæ¥å£å’Œ extends å…³é”®å­—æ¥å®ç°çº¦æŸï¼š 12345678interface Lengthwise &#123; length: number&#125;function loggingIdentity&lt;T extends Lengthwise&gt;(arg: T): T &#123; console.log(arg.length) // OK return arg&#125; ç°åœ¨è¿™ä¸ªæ³›å‹å‡½æ•°è¢«å®šä¹‰äº†çº¦æŸï¼Œå› æ­¤å®ƒä¸å†æ˜¯é€‚ç”¨äºä»»æ„ç±»å‹ï¼š 1loggingIdentity(3); // Error æˆ‘ä»¬éœ€è¦ä¼ å…¥ç¬¦åˆçº¦æŸç±»å‹çš„å€¼ï¼Œå¿…é¡»åŒ…å«å¿…é¡»çš„å±æ€§ï¼š 1loggingIdentity(&#123;length: 10, value: 3&#125;) // OK åœ¨æ³›å‹çº¦æŸä¸­ä½¿ç”¨ç±»å‹å‚æ•°ä½ å¯ä»¥å£°æ˜ä¸€ä¸ªç±»å‹å‚æ•°ï¼Œä¸”å®ƒè¢«å¦ä¸€ä¸ªç±»å‹å‚æ•°æ‰€çº¦æŸã€‚ æ¯”å¦‚ï¼Œç°åœ¨æˆ‘ä»¬æƒ³è¦ç”¨å±æ€§åä»å¯¹è±¡é‡Œè·å–è¿™ä¸ªå±æ€§ã€‚ å¹¶ä¸”æˆ‘ä»¬æƒ³è¦ç¡®ä¿è¿™ä¸ªå±æ€§å­˜åœ¨äºå¯¹è±¡ obj ä¸Šï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨è¿™ä¸¤ä¸ªç±»å‹ä¹‹é—´ä½¿ç”¨çº¦æŸã€‚ 12345678function getProperty&lt;T, K extends keyof T&gt; (obj: T, key: K ) &#123; return obj[key]&#125;let x = &#123;a: 1, b: 2, c: 3, d: 4&#125;getProperty(x, 'a') // okaygetProperty(x, 'm') // error ç±»å‹æ¨æ–­è¿™èŠ‚ä»‹ç» TypeScript é‡Œçš„ç±»å‹æ¨æ–­ã€‚å³ï¼Œç±»å‹æ˜¯åœ¨å“ªé‡Œå¦‚ä½•è¢«æ¨æ–­çš„ã€‚ åŸºç¡€TypeScript é‡Œï¼Œåœ¨æœ‰äº›æ²¡æœ‰æ˜ç¡®æŒ‡å‡ºç±»å‹çš„åœ°æ–¹ï¼Œç±»å‹æ¨æ–­ä¼šå¸®åŠ©æä¾›ç±»å‹ã€‚å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š 1let x = 3 å˜é‡ x çš„ç±»å‹è¢«æ¨æ–­ä¸ºæ•°å­—ã€‚ è¿™ç§æ¨æ–­å‘ç”Ÿåœ¨åˆå§‹åŒ–å˜é‡å’Œæˆå‘˜ï¼Œè®¾ç½®é»˜è®¤å‚æ•°å€¼å’Œå†³å®šå‡½æ•°è¿”å›å€¼æ—¶ã€‚ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œç±»å‹æ¨æ–­æ˜¯ç›´æˆªäº†å½“åœ°ã€‚åé¢çš„å°èŠ‚ï¼Œæˆ‘ä»¬ä¼šæµè§ˆç±»å‹æ¨æ–­æ—¶çš„ç»†å¾®å·®åˆ«ã€‚ æœ€ä½³é€šç”¨ç±»å‹æœ‰äº›æ—¶å€™æˆ‘ä»¬éœ€è¦ä»å‡ ä¸ªè¡¨è¾¾å¼ä¸­æ¨æ–­ç±»å‹ï¼Œä¼šä½¿ç”¨è¿™äº›è¡¨è¾¾å¼çš„ç±»å‹æ¥æ¨æ–­å‡ºä¸€ä¸ªæœ€åˆé€‚çš„é€šç”¨ç±»å‹ã€‚ä¾‹å¦‚ï¼Œ 1let x = [0, 1, null] ä¸ºäº†æ¨æ–­ x çš„ç±»å‹ï¼Œæˆ‘ä»¬å¿…é¡»è€ƒè™‘æ‰€æœ‰å…ƒç´ çš„ç±»å‹ã€‚ è¿™é‡Œæœ‰ä¸¤ç§é€‰æ‹©ï¼šnumber å’Œ nullã€‚ è®¡ç®—é€šç”¨ç±»å‹ç®—æ³•ä¼šè€ƒè™‘æ‰€æœ‰çš„å€™é€‰ç±»å‹ï¼Œå¹¶ç»™å‡ºä¸€ä¸ªå…¼å®¹æ‰€æœ‰å€™é€‰ç±»å‹çš„ç±»å‹ã€‚ ç”±äºæœ€ç»ˆçš„é€šç”¨ç±»å‹å–è‡ªå€™é€‰ç±»å‹ï¼Œæœ‰äº›æ—¶å€™å€™é€‰ç±»å‹å…±äº«ä¸€ä¸ªå…¬å…±ç»“æ„ï¼Œä½†æ˜¯å´æ²¡æœ‰ä¸€ä¸ªç±»å‹èƒ½åšä¸ºæ‰€æœ‰å€™é€‰ç±»å‹çš„è¶…çº§ç±»å‹ã€‚ä¾‹å¦‚ï¼š 1234567891011class Animal &#123; numLegs: number&#125;class Bee extends Animal &#123;&#125;class Lion extends Animal &#123;&#125;let zoo = [new Bee(), new Lion()] è¿™é‡Œï¼Œæˆ‘ä»¬æƒ³è®© zoo è¢«æ¨æ–­ä¸º Animal[] ç±»å‹ï¼Œä½†æ˜¯è¿™ä¸ªæ•°ç»„é‡Œæ²¡æœ‰å¯¹è±¡æ˜¯ Animal ç±»å‹çš„ï¼Œå› æ­¤ä¸èƒ½æ¨æ–­å‡ºè¿™ä¸ªç»“æœã€‚ ä¸ºäº†æ›´æ­£ï¼Œæˆ‘ä»¬å¯ä»¥æ˜ç¡®çš„å£°æ˜æˆ‘ä»¬æœŸæœ›çš„ç±»å‹ï¼š 1let zoo: Animal[] = [new Bee(), new Lion()] å¦‚æœæ²¡æœ‰æ‰¾åˆ°æœ€ä½³é€šç”¨ç±»å‹çš„è¯ï¼Œç±»å‹æ¨æ–­çš„ç»“æœä¸ºè”åˆæ•°ç»„ç±»å‹ï¼Œ(Bee | Lion)[] ä¸Šä¸‹æ–‡ç±»å‹æœ‰äº›æ—¶å€™ï¼ŒTypeScript ç±»å‹æ¨æ–­ä¼šæŒ‰å¦å¤–ä¸€ç§æ–¹å¼ï¼Œæˆ‘ä»¬ç§°ä½œâ€œä¸Šä¸‹æ–‡ç±»å‹â€ï¼›ä¸Šä¸‹æ–‡ç±»å‹çš„å‡ºç°å’Œè¡¨è¾¾å¼çš„ç±»å‹ä»¥åŠæ‰€å¤„çš„ä½ç½®ç›¸å…³ã€‚æ¯”å¦‚ï¼š 123window.onmousedown = function(mouseEvent) &#123; console.log(mouseEvent.clickTime) // Error&#125; è¿™ä¸ªä¾‹å­ä¼šå¾—åˆ°ä¸€ä¸ªç±»å‹é”™è¯¯ï¼ŒTypeScript ç±»å‹æ£€æŸ¥å™¨ä½¿ç”¨ window.onmousedown å‡½æ•°çš„ç±»å‹æ¥æ¨æ–­å³è¾¹å‡½æ•°è¡¨è¾¾å¼çš„ç±»å‹ã€‚ å› æ­¤ï¼Œå°±èƒ½æ¨æ–­å‡º mouseEvent å‚æ•°çš„ç±»å‹äº†ï¼Œæ‰€ä»¥ mouseEvent è®¿é—®äº†ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§ï¼Œå°±æŠ¥é”™äº†ã€‚ å¦‚æœä¸Šä¸‹æ–‡ç±»å‹è¡¨è¾¾å¼åŒ…å«äº†æ˜ç¡®çš„ç±»å‹ä¿¡æ¯ï¼Œä¸Šä¸‹æ–‡çš„ç±»å‹è¢«å¿½ç•¥ã€‚é‡å†™ä¸Šé¢çš„ä¾‹å­ï¼š 123window.onmousedown = function(mouseEvent:any) &#123; console.log(mouseEvent.clickTime) // OK&#125; è¿™ä¸ªå‡½æ•°è¡¨è¾¾å¼æœ‰æ˜ç¡®çš„å‚æ•°ç±»å‹æ³¨è§£ï¼Œä¸Šä¸‹æ–‡ç±»å‹è¢«å¿½ç•¥ã€‚è¿™æ ·çš„è¯å°±ä¸æŠ¥é”™äº†ï¼Œå› ä¸ºè¿™é‡Œä¸ä¼šä½¿ç”¨åˆ°ä¸Šä¸‹æ–‡ç±»å‹ã€‚ ä¸Šä¸‹æ–‡ç±»å‹ä¼šåœ¨å¾ˆå¤šæƒ…å†µä¸‹ä½¿ç”¨åˆ°ã€‚é€šå¸¸åŒ…å«å‡½æ•°çš„å‚æ•°ï¼Œèµ‹å€¼è¡¨è¾¾å¼çš„å³è¾¹ï¼Œç±»å‹æ–­è¨€ï¼Œå¯¹è±¡æˆå‘˜ï¼Œæ•°ç»„å­—é¢é‡å’Œè¿”å›å€¼è¯­å¥ã€‚ä¸Šä¸‹æ–‡ç±»å‹ä¹Ÿä¼šåšä¸ºæœ€ä½³é€šç”¨ç±»å‹çš„å€™é€‰ç±»å‹ã€‚æ¯”å¦‚ï¼š 12345function createZoo(): Animal[] &#123; return [new Bee(), new Lion()]&#125;let zoo = createZoo() è¿™ä¸ªä¾‹å­é‡Œï¼Œæœ€ä½³é€šç”¨ç±»å‹æœ‰ 3 ä¸ªå€™é€‰è€…ï¼šAnimalï¼ŒBee å’Œ Lionã€‚ å…¶ä¸­ï¼ŒAnimal ä¼šè¢«åšä¸ºæœ€ä½³é€šç”¨ç±»å‹ã€‚ é«˜çº§ç±»å‹äº¤å‰ç±»å‹äº¤å‰ç±»å‹æ˜¯å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ã€‚ è¿™è®©æˆ‘ä»¬å¯ä»¥æŠŠç°æœ‰çš„å¤šç§ç±»å‹å åŠ åˆ°ä¸€èµ·æˆä¸ºä¸€ç§ç±»å‹ï¼Œå®ƒåŒ…å«äº†æ‰€éœ€çš„æ‰€æœ‰ç±»å‹çš„ç‰¹æ€§ã€‚ ä¾‹å¦‚ï¼ŒPerson &amp; Loggable åŒæ—¶æ˜¯ Person å’Œ Loggableã€‚ å°±æ˜¯è¯´è¿™ä¸ªç±»å‹çš„å¯¹è±¡åŒæ—¶æ‹¥æœ‰äº†è¿™ä¸¤ç§ç±»å‹çš„æˆå‘˜ã€‚ æˆ‘ä»¬å¤§å¤šæ˜¯åœ¨æ··å…¥ï¼ˆmixinsï¼‰æˆ–å…¶å®ƒä¸é€‚åˆå…¸å‹é¢å‘å¯¹è±¡æ¨¡å‹çš„åœ°æ–¹çœ‹åˆ°äº¤å‰ç±»å‹çš„ä½¿ç”¨ã€‚ ï¼ˆåœ¨ JavaScript é‡Œå‘ç”Ÿè¿™ç§æƒ…å†µçš„åœºåˆå¾ˆå¤šï¼ï¼‰ ä¸‹é¢æ˜¯å¦‚ä½•åˆ›å»ºæ··å…¥çš„ä¸€ä¸ªç®€å•ä¾‹å­ï¼š 12345678910111213141516171819202122232425262728293031function extend&lt;T, U&gt; (first: T, second: U): T &amp; U &#123; let result = &#123;&#125; as T &amp; U for (let id in first) &#123; result[id] = first[id] as any &#125; for (let id in second) &#123; if (!result.hasOwnProperty(id)) &#123; result[id] = second[id] as any &#125; &#125; return result&#125;class Person &#123; constructor (public name: string) &#123; &#125;&#125;interface Loggable &#123; log (): void&#125;class ConsoleLogger implements Loggable &#123; log () &#123; // ... &#125;&#125;var jim = extend(new Person('Jim'), new ConsoleLogger())var n = jim.namejim.log() è”åˆç±»å‹è”åˆç±»å‹ä¸äº¤å‰ç±»å‹å¾ˆæœ‰å…³è”ï¼Œä½†æ˜¯ä½¿ç”¨ä¸Šå´å®Œå…¨ä¸åŒã€‚ å¶å°”ä½ ä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼Œä¸€ä¸ªä»£ç åº“å¸Œæœ›ä¼ å…¥ number æˆ– string ç±»å‹çš„å‚æ•°ã€‚ ä¾‹å¦‚ä¸‹é¢çš„å‡½æ•°ï¼š 1234567891011function padLeft(value: string, padding: any) &#123; if (typeof padding === 'number') &#123; return Array(padding + 1).join(' ') + value &#125; if (typeof padding === 'string') &#123; return padding + value &#125; throw new Error(`Expected string or number, got '$&#123;padding&#125;'.`)&#125;padLeft('Hello world', 4) // returns \" Hello world\" padLeft å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œpadding å‚æ•°çš„ç±»å‹æŒ‡å®šæˆäº† anyã€‚ è¿™å°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ—¢ä¸æ˜¯ number ä¹Ÿä¸æ˜¯ string ç±»å‹çš„å‚æ•°ï¼Œä½†æ˜¯ TypeScript å´ä¸æŠ¥é”™ã€‚ 1let indentedString = padLeft('Hello world', true) // ç¼–è¯‘é˜¶æ®µé€šè¿‡ï¼Œè¿è¡Œæ—¶æŠ¥é”™ ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ è”åˆç±»å‹åšä¸º padding çš„å‚æ•°ï¼š 12345function padLeft(value: string, padding: string | number) &#123; // ...&#125;let indentedString = padLeft('Hello world', true) // ç¼–è¯‘é˜¶æ®µæŠ¥é”™ è”åˆç±»å‹è¡¨ç¤ºä¸€ä¸ªå€¼å¯ä»¥æ˜¯å‡ ç§ç±»å‹ä¹‹ä¸€ã€‚æˆ‘ä»¬ç”¨ç«–çº¿ï¼ˆ|ï¼‰åˆ†éš”æ¯ä¸ªç±»å‹ï¼Œæ‰€ä»¥ number | string è¡¨ç¤ºä¸€ä¸ªå€¼å¯ä»¥æ˜¯ number æˆ– stringã€‚ å¦‚æœä¸€ä¸ªå€¼æ˜¯è”åˆç±»å‹ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹é‡Œå…±æœ‰çš„æˆå‘˜ã€‚ 1234567891011121314151617interface Bird &#123; fly() layEggs()&#125;interface Fish &#123; swim() layEggs()&#125;function getSmallPet(): Fish | Bird &#123; // ...&#125;let pet = getSmallPet()pet.layEggs() // okaypet.swim() // error è¿™é‡Œçš„è”åˆç±»å‹å¯èƒ½æœ‰ç‚¹å¤æ‚ï¼šå¦‚æœä¸€ä¸ªå€¼çš„ç±»å‹æ˜¯ A | Bï¼Œæˆ‘ä»¬èƒ½å¤Ÿç¡®å®šçš„æ˜¯å®ƒåŒ…å«äº† A å’Œ B ä¸­å…±æœ‰çš„æˆå‘˜ã€‚è¿™ä¸ªä¾‹å­é‡Œï¼ŒFish å…·æœ‰ä¸€ä¸ª swim æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸èƒ½ç¡®å®šä¸€ä¸ª Bird | Fish ç±»å‹çš„å˜é‡æ˜¯å¦æœ‰ swimæ–¹æ³•ã€‚ å¦‚æœå˜é‡åœ¨è¿è¡Œæ—¶æ˜¯ Bird ç±»å‹ï¼Œé‚£ä¹ˆè°ƒç”¨ pet.swim() å°±å‡ºé”™äº†ã€‚ ç±»å‹ä¿æŠ¤è”åˆç±»å‹é€‚åˆäºé‚£äº›å€¼å¯ä»¥ä¸ºä¸åŒç±»å‹çš„æƒ…å†µã€‚ ä½†å½“æˆ‘ä»¬æƒ³ç¡®åˆ‡åœ°äº†è§£æ˜¯å¦ä¸º Fish æˆ–è€…æ˜¯ Bird æ—¶æ€ä¹ˆåŠï¼Ÿ JavaScript é‡Œå¸¸ç”¨æ¥åŒºåˆ†è¿™ 2 ä¸ªå¯èƒ½å€¼çš„æ–¹æ³•æ˜¯æ£€æŸ¥æˆå‘˜æ˜¯å¦å­˜åœ¨ã€‚å¦‚ä¹‹å‰æåŠçš„ï¼Œæˆ‘ä»¬åªèƒ½è®¿é—®è”åˆç±»å‹ä¸­å…±åŒæ‹¥æœ‰çš„æˆå‘˜ã€‚ 12345678let pet = getSmallPet()// æ¯ä¸€ä¸ªæˆå‘˜è®¿é—®éƒ½ä¼šæŠ¥é”™if (pet.swim) &#123; pet.swim()&#125; else if (pet.fly) &#123; pet.fly()&#125; ä¸ºäº†è®©è¿™æ®µä»£ç å·¥ä½œï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ç±»å‹æ–­è¨€ï¼š 1234567let pet = getSmallPet()if ((pet as Fish).swim) &#123; (pet as Fish).swim()&#125; else &#123; (pet as Bird).fly()&#125; ç”¨æˆ·è‡ªå®šä¹‰çš„ç±»å‹ä¿æŠ¤è¿™é‡Œå¯ä»¥æ³¨æ„åˆ°æˆ‘ä»¬ä¸å¾—ä¸å¤šæ¬¡ä½¿ç”¨ç±»å‹æ–­è¨€ã€‚å¦‚æœæˆ‘ä»¬ä¸€æ—¦æ£€æŸ¥è¿‡ç±»å‹ï¼Œå°±èƒ½åœ¨ä¹‹åçš„æ¯ä¸ªåˆ†æ”¯é‡Œæ¸…æ¥šåœ°çŸ¥é“ pet çš„ç±»å‹çš„è¯å°±å¥½äº†ã€‚ TypeScript é‡Œçš„ç±»å‹ä¿æŠ¤æœºåˆ¶è®©å®ƒæˆä¸ºäº†ç°å®ã€‚ ç±»å‹ä¿æŠ¤å°±æ˜¯ä¸€äº›è¡¨è¾¾å¼ï¼Œå®ƒä»¬ä¼šåœ¨è¿è¡Œæ—¶æ£€æŸ¥ä»¥ç¡®ä¿åœ¨æŸä¸ªä½œç”¨åŸŸé‡Œçš„ç±»å‹ã€‚å®šä¹‰ä¸€ä¸ªç±»å‹ä¿æŠ¤ï¼Œæˆ‘ä»¬åªè¦ç®€å•åœ°å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒçš„è¿”å›å€¼æ˜¯ä¸€ä¸ªç±»å‹è°“è¯ï¼š 123function isFish(pet: Fish | Bird): pet is Fish &#123; return (pet as Fish).swim !== undefined&#125; åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œpet is Fish å°±æ˜¯ç±»å‹è°“è¯ã€‚è°“è¯ä¸º parameterName is Type è¿™ç§å½¢å¼ï¼Œ parameterName å¿…é¡»æ˜¯æ¥è‡ªäºå½“å‰å‡½æ•°ç­¾åé‡Œçš„ä¸€ä¸ªå‚æ•°åã€‚ æ¯å½“ä½¿ç”¨ä¸€äº›å˜é‡è°ƒç”¨ isFish æ—¶ï¼ŒTypeScript ä¼šå°†å˜é‡ç¼©å‡ä¸ºé‚£ä¸ªå…·ä½“çš„ç±»å‹ã€‚ 123456if (isFish(pet)) &#123; pet.swim()&#125;else &#123; pet.fly()&#125; æ³¨æ„ TypeScript ä¸ä»…çŸ¥é“åœ¨ if åˆ†æ”¯é‡Œ pet æ˜¯ Fish ç±»å‹ï¼›å®ƒè¿˜æ¸…æ¥šåœ¨ else åˆ†æ”¯é‡Œï¼Œä¸€å®šä¸æ˜¯ Fishç±»å‹è€Œæ˜¯ Bird ç±»å‹ã€‚ typeof ç±»å‹ä¿æŠ¤ç°åœ¨æˆ‘ä»¬å›è¿‡å¤´æ¥çœ‹çœ‹æ€ä¹ˆä½¿ç”¨è”åˆç±»å‹ä¹¦å†™ padLeft ä»£ç ã€‚æˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·åˆ©ç”¨ç±»å‹æ–­è¨€æ¥å†™ï¼š 1234567891011121314151617function isNumber (x: any):x is string &#123; return typeof x === 'number'&#125;function isString (x: any): x is string &#123; return typeof x === 'string'&#125;function padLeft (value: string, padding: string | number) &#123; if (isNumber(padding)) &#123; return Array(padding + 1).join(' ') + value &#125; if (isString(padding)) &#123; return padding + value &#125; throw new Error(`Expected string or number, got '$&#123;padding&#125;'.`)&#125; ç„¶è€Œï¼Œä½ å¿…é¡»è¦å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ç±»å‹æ˜¯å¦æ˜¯åŸå§‹ç±»å‹ï¼Œä½†è¿™å¹¶ä¸å¿…è¦ã€‚å…¶å®æˆ‘ä»¬ä¸å¿…å°† typeof x === &#39;number&#39;æŠ½è±¡æˆä¸€ä¸ªå‡½æ•°ï¼Œå› ä¸º TypeScript å¯ä»¥å°†å®ƒè¯†åˆ«ä¸ºä¸€ä¸ªç±»å‹ä¿æŠ¤ã€‚ ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ä»£ç é‡Œæ£€æŸ¥ç±»å‹äº†ã€‚ 123456789function padLeft (value: string, padding: string | number) &#123; if (typeof padding === 'number') &#123; return Array(padding + 1).join(' ') + value &#125; if (typeof padding === 'string') &#123; return padding + value &#125; throw new Error(`Expected string or number, got '$&#123;padding&#125;'.`)&#125; è¿™äº› typeof ç±»å‹ä¿æŠ¤åªæœ‰ä¸¤ç§å½¢å¼èƒ½è¢«è¯†åˆ«ï¼štypeof v === &quot;typename&quot; å’Œ typeof v !== &quot;typename&quot;ï¼Œ &quot;typename&quot;å¿…é¡»æ˜¯ &quot;number&quot;ï¼Œ &quot;string&quot;ï¼Œ&quot;boolean&quot; æˆ– &quot;symbol&quot;ã€‚ ä½†æ˜¯ TypeScript å¹¶ä¸ä¼šé˜»æ­¢ä½ ä¸å…¶å®ƒå­—ç¬¦ä¸²æ¯”è¾ƒï¼Œåªæ˜¯ TypeScript ä¸ä¼šæŠŠé‚£äº›è¡¨è¾¾å¼è¯†åˆ«ä¸ºç±»å‹ä¿æŠ¤ã€‚ instanceof ç±»å‹ä¿æŠ¤å¦‚æœä½ å·²ç»é˜…è¯»äº† typeof ç±»å‹ä¿æŠ¤å¹¶ä¸”å¯¹ JavaScript é‡Œçš„ instanceof æ“ä½œç¬¦ç†Ÿæ‚‰çš„è¯ï¼Œä½ å¯èƒ½å·²ç»çŒœåˆ°äº†è¿™èŠ‚è¦è®²çš„å†…å®¹ã€‚ instanceof ç±»å‹ä¿æŠ¤æ˜¯é€šè¿‡æ„é€ å‡½æ•°æ¥ç»†åŒ–ç±»å‹çš„ä¸€ç§æ–¹å¼ã€‚æˆ‘ä»¬æŠŠä¹‹å‰çš„ä¾‹å­åšä¸€ä¸ªå°å°çš„æ”¹é€ ï¼š 1234567891011121314151617181920212223242526272829303132class Bird &#123; fly () &#123; console.log('bird fly') &#125; layEggs () &#123; console.log('bird lay eggs') &#125;&#125;class Fish &#123; swim () &#123; console.log('fish swim') &#125; layEggs () &#123; console.log('fish lay eggs') &#125;&#125;function getRandomPet () &#123; return Math.random() &gt; 0.5 ? new Bird() : new Fish()&#125;let pet = getRandomPet()if (pet instanceof Bird) &#123; pet.fly()&#125;if (pet instanceof Fish) &#123; pet.swim()&#125; å¯ä»¥ä¸º null çš„ç±»å‹TypeScript å…·æœ‰ä¸¤ç§ç‰¹æ®Šçš„ç±»å‹ï¼Œnull å’Œ undefinedï¼Œå®ƒä»¬åˆ†åˆ«å…·æœ‰å€¼ null å’Œ undefinedã€‚æˆ‘ä»¬åœ¨åŸºç¡€ç±»å‹ä¸€èŠ‚é‡Œå·²ç»åšè¿‡ç®€è¦è¯´æ˜ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œç±»å‹æ£€æŸ¥å™¨è®¤ä¸º null ä¸ undefined å¯ä»¥èµ‹å€¼ç»™ä»»ä½•ç±»å‹ã€‚ null ä¸ undefined æ˜¯æ‰€æœ‰å…¶å®ƒç±»å‹çš„ä¸€ä¸ªæœ‰æ•ˆå€¼ã€‚ è¿™ä¹Ÿæ„å‘³ç€ï¼Œä½ é˜»æ­¢ä¸äº†å°†å®ƒä»¬èµ‹å€¼ç»™å…¶å®ƒç±»å‹ï¼Œå°±ç®—æ˜¯ä½ æƒ³è¦é˜»æ­¢è¿™ç§æƒ…å†µä¹Ÿä¸è¡Œã€‚nullçš„å‘æ˜è€…ï¼ŒTony Hoareï¼Œç§°å®ƒä¸ºä»·å€¼äº¿ä¸‡ç¾é‡‘çš„é”™è¯¯ã€‚ --strictNullChecks æ ‡è®°å¯ä»¥è§£å†³æ­¤é”™è¯¯ï¼šå½“ä½ å£°æ˜ä¸€ä¸ªå˜é‡æ—¶ï¼Œå®ƒä¸ä¼šè‡ªåŠ¨åœ°åŒ…å« null æˆ– undefinedã€‚ ä½ å¯ä»¥ä½¿ç”¨è”åˆç±»å‹æ˜ç¡®çš„åŒ…å«å®ƒä»¬ï¼š 123456let s = 'foo's = null // é”™è¯¯, 'null'ä¸èƒ½èµ‹å€¼ç»™'string'let sn: string | null = 'bar'sn = null // å¯ä»¥sn = undefined // error, 'undefined'ä¸èƒ½èµ‹å€¼ç»™'string | null' æ³¨æ„ï¼ŒæŒ‰ç…§ JavaScript çš„è¯­ä¹‰ï¼ŒTypeScript ä¼šæŠŠ null å’Œ undefined åŒºåˆ«å¯¹å¾…ã€‚string | nullï¼Œstring | undefined å’Œ string | undefined | null æ˜¯ä¸åŒçš„ç±»å‹ã€‚ å¯é€‰å‚æ•°å’Œå¯é€‰å±æ€§ä½¿ç”¨äº† --strictNullChecksï¼Œå¯é€‰å‚æ•°ä¼šè¢«è‡ªåŠ¨åœ°åŠ ä¸Š | undefined: 1234567function f(x: number, y?: number) &#123; return x + (y || 0)&#125;f(1, 2)f(1)f(1, undefined)f(1, null) // error, 'null' ä¸èƒ½èµ‹å€¼ç»™ 'number | undefined' å¯é€‰å±æ€§ä¹Ÿä¼šæœ‰åŒæ ·çš„å¤„ç†ï¼š 12345678910class C &#123; a: number b?: number&#125;let c = new C()c.a = 12c.a = undefined // error, 'undefined' ä¸èƒ½èµ‹å€¼ç»™ 'number'c.b = 13c.b = undefined // okc.b = null // error, 'null' ä¸èƒ½èµ‹å€¼ç»™ 'number | undefined' ç±»å‹ä¿æŠ¤å’Œç±»å‹æ–­è¨€ç”±äºå¯ä»¥ä¸º null çš„ç±»å‹èƒ½å’Œå…¶å®ƒç±»å‹å®šä¹‰ä¸ºè”åˆç±»å‹ï¼Œé‚£ä¹ˆä½ éœ€è¦ä½¿ç”¨ç±»å‹ä¿æŠ¤æ¥å»é™¤ nullã€‚å¹¸è¿åœ°æ˜¯è¿™ä¸åœ¨ JavaScript é‡Œå†™çš„ä»£ç ä¸€è‡´ï¼š 1234567function f(sn: string | null): string &#123; if (sn === null) &#123; return 'default' &#125; else &#123; return sn &#125;&#125; è¿™é‡Œå¾ˆæ˜æ˜¾åœ°å»é™¤äº† nullï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨çŸ­è·¯è¿ç®—ç¬¦ï¼š 123function f(sn: string | null): string &#123; return sn || 'default'&#125; å¦‚æœç¼–è¯‘å™¨ä¸èƒ½å¤Ÿå»é™¤ null æˆ– undefinedï¼Œä½ å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€æ‰‹åŠ¨å»é™¤ã€‚è¯­æ³•æ˜¯æ·»åŠ  ! åç¼€ï¼š identifier! ä» identifier çš„ç±»å‹é‡Œå»é™¤äº† null å’Œ undefinedï¼š 1234567891011121314151617function broken(name: string | null): string &#123; function postfix(epithet: string) &#123; return name.charAt(0) + '. the ' + epithet // error, 'name' å¯èƒ½ä¸º null &#125; name = name || 'Bob' return postfix('great')&#125;function fixed(name: string | null): string &#123; function postfix(epithet: string) &#123; return name!.charAt(0) + '. the ' + epithet // ok &#125; name = name || 'Bob' return postfix('great')&#125;broken(null) æœ¬ä¾‹ä½¿ç”¨äº†åµŒå¥—å‡½æ•°ï¼Œå› ä¸ºç¼–è¯‘å™¨æ— æ³•å»é™¤åµŒå¥—å‡½æ•°çš„ nullï¼ˆé™¤éæ˜¯ç«‹å³è°ƒç”¨çš„å‡½æ•°è¡¨è¾¾å¼ï¼‰ã€‚å› ä¸ºå®ƒæ— æ³•è·Ÿè¸ªæ‰€æœ‰å¯¹åµŒå¥—å‡½æ•°çš„è°ƒç”¨ï¼Œå°¤å…¶æ˜¯ä½ å°†å†…å±‚å‡½æ•°åšä¸ºå¤–å±‚å‡½æ•°çš„è¿”å›å€¼ã€‚å¦‚æœæ— æ³•çŸ¥é“å‡½æ•°åœ¨å“ªé‡Œè¢«è°ƒç”¨ï¼Œå°±æ— æ³•çŸ¥é“è°ƒç”¨æ—¶ name çš„ç±»å‹ã€‚ å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹å­—ç¬¦ä¸²å­—é¢é‡ç±»å‹å…è®¸ä½ æŒ‡å®šå­—ç¬¦ä¸²å¿…é¡»å…·æœ‰çš„ç¡®åˆ‡å€¼ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå­—ç¬¦ä¸²å­—é¢é‡ç±»å‹å¯ä»¥ä¸è”åˆç±»å‹ï¼Œç±»å‹ä¿æŠ¤å¾ˆå¥½çš„é…åˆã€‚é€šè¿‡ç»“åˆä½¿ç”¨è¿™äº›ç‰¹æ€§ï¼Œä½ å¯ä»¥å®ç°ç±»ä¼¼æšä¸¾ç±»å‹çš„å­—ç¬¦ä¸²ã€‚ 1234567891011121314151617type Easing = 'ease-in' | 'ease-out' | 'ease-in-out'class UIElement &#123; animate (dx: number, dy: number, easing: Easing) &#123; if (easing === 'ease-in') &#123; // ... &#125; else if (easing === 'ease-out') &#123; &#125; else if (easing === 'ease-in-out') &#123; &#125; else &#123; // error! ä¸èƒ½ä¼ å…¥ null æˆ–è€… undefined. &#125; &#125;&#125;let button = new UIElement()button.animate(0, 0, 'ease-in')button.animate(0, 0, 'uneasy') // error ä½ åªèƒ½ä»ä¸‰ç§å…è®¸çš„å­—ç¬¦ä¸­é€‰æ‹©å…¶ä¸€æ¥åšä¸ºå‚æ•°ä¼ é€’ï¼Œä¼ å…¥å…¶å®ƒå€¼åˆ™ä¼šäº§ç”Ÿé”™è¯¯ã€‚ 1Argument of type &#39;&quot;uneasy&quot;&#39; is not assignable to parameter of type &#39;&quot;ease-in&quot; | &quot;ease-out&quot; | &quot;ease-in-out&quot;&#39; æ€»ç»“é‚£ä¹ˆåˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„ TypeScript å¸¸ç”¨è¯­æ³•å­¦ä¹ å°±å‘Šä¸€æ®µè½äº†ï¼Œå½“ç„¶ TypeScript è¿˜æœ‰å…¶ä»–çš„è¯­æ³•æˆ‘ä»¬å¹¶æ²¡æœ‰è®²ï¼Œæˆ‘ä»¬åªæ˜¯è®²äº† TypeScript çš„ä¸€äº›å¸¸ç”¨è¯­æ³•ï¼Œä½ ä»¬æŠŠè¿™äº›çŸ¥è¯†å­¦ä¼šå·²ç»è¶³ä»¥å¼€å‘ä¸€èˆ¬çš„åº”ç”¨äº†ã€‚å¦‚æœä½ åœ¨ä½¿ç”¨ TypeScript å¼€å‘é¡¹ç›®ä¸­é‡åˆ°äº†å…¶ä»–çš„ TypeScript è¯­æ³•çŸ¥è¯†ï¼Œä½ å¯ä»¥é€šè¿‡ TypeScript çš„å®˜ç½‘æ–‡æ¡£å­¦ä¹ ã€‚å› ä¸ºå­¦åŸºç¡€æœ€å¥½çš„æ–¹æ³•è¿˜æ˜¯å»é˜…è¯»å®ƒçš„å®˜ç½‘æ–‡æ¡£ï¼Œæ•²ä¸Šé¢çš„å°ä¾‹å­ã€‚å…¶å®æˆ‘ä»¬è¯¾ç¨‹çš„åŸºç¡€çŸ¥è¯†ç»“æ„ä¹Ÿæ˜¯å¤§éƒ¨åˆ†å‚è€ƒäº†å®˜ç½‘æ–‡æ¡£ï¼Œè¦è®°ä½å­¦ä¹ ä¸€é—¨æŠ€æœ¯çš„åŸºç¡€å®˜ç½‘æ–‡æ¡£æ°¸è¿œæ˜¯æœ€å¥½çš„ç¬¬ä¸€æ‰‹èµ„æ–™ã€‚","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://yoursite.com/tags/TypeScript/"}]},{"title":"åˆè¯† TypeScript","slug":"tech/typeScript/ts-init","date":"2020-02-05T04:24:11.047Z","updated":"2020-02-05T04:24:11.047Z","comments":true,"path":"2020/02/05/tech/typeScript/ts-init/","link":"","permalink":"http://yoursite.com/2020/02/05/tech/typeScript/ts-init/","excerpt":"","text":"åˆè¯† TypeScriptTypeScript ä½œä¸º JavaScript è¯­è¨€çš„è¶…é›†ï¼Œå®ƒä¸º JavaScript æ·»åŠ äº†å¯é€‰æ‹©çš„ç±»å‹æ ‡æ³¨ï¼Œå¤§å¤§å¢å¼ºäº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚åŒæ—¶ï¼Œå®ƒæä¾›æœ€æ–°å’Œä¸æ–­å‘å±•çš„ JavaScript ç‰¹æ€§ï¼Œèƒ½è®©æˆ‘ä»¬å»ºç«‹æ›´å¥å£®çš„ç»„ä»¶ã€‚ TypeScript çš„ç‰¹ç‚¹TypeScript ä¸»è¦æœ‰ 3 å¤§ç‰¹ç‚¹ï¼š å§‹äºJavaScriptï¼Œå½’äºJavaScript TypeScript å¯ä»¥ç¼–è¯‘å‡ºçº¯å‡€ã€ ç®€æ´çš„ JavaScript ä»£ç ï¼Œå¹¶ä¸”å¯ä»¥è¿è¡Œåœ¨ä»»ä½•æµè§ˆå™¨ä¸Šã€Node.js ç¯å¢ƒä¸­å’Œä»»ä½•æ”¯æŒ ECMAScript 3ï¼ˆæˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰çš„JavaScript å¼•æ“ä¸­ã€‚ å¼ºå¤§çš„å·¥å…·æ„å»ºå¤§å‹åº”ç”¨ç¨‹åº ç±»å‹å…è®¸ JavaScript å¼€å‘è€…åœ¨å¼€å‘ JavaScript åº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨é«˜æ•ˆçš„å¼€å‘å·¥å…·å’Œå¸¸ç”¨æ“ä½œæ¯”å¦‚é™æ€æ£€æŸ¥å’Œä»£ç é‡æ„ã€‚ ç±»å‹æ˜¯å¯é€‰çš„ï¼Œç±»å‹æ¨æ–­è®©ä¸€äº›ç±»å‹çš„æ³¨é‡Šä½¿ä½ çš„ä»£ç çš„é™æ€éªŒè¯æœ‰å¾ˆå¤§çš„ä¸åŒã€‚ç±»å‹è®©ä½ å®šä¹‰è½¯ä»¶ç»„ä»¶ä¹‹é—´çš„æ¥å£å’Œæ´å¯Ÿç°æœ‰ JavaScript åº“çš„è¡Œä¸ºã€‚ å…ˆè¿›çš„ JavaScript TypeScript æä¾›æœ€æ–°çš„å’Œä¸æ–­å‘å±•çš„ JavaScript ç‰¹æ€§ï¼ŒåŒ…æ‹¬é‚£äº›æ¥è‡ª 2015 å¹´çš„ ECMAScript å’Œæœªæ¥çš„ææ¡ˆä¸­çš„ç‰¹æ€§ï¼Œæ¯”å¦‚å¼‚æ­¥åŠŸèƒ½å’Œ Decoratorsï¼Œä»¥å¸®åŠ©å»ºç«‹å¥å£®çš„ç»„ä»¶ã€‚ è¿™äº›ç‰¹æ€§ä¸ºé«˜å¯ä¿¡åº”ç”¨ç¨‹åºå¼€å‘æ—¶æ˜¯å¯ç”¨çš„ï¼Œä½†æ˜¯ä¼šè¢«ç¼–è¯‘æˆç®€æ´çš„ ECMAScript3ï¼ˆæˆ–æ›´æ–°ç‰ˆæœ¬ï¼‰çš„JavaScriptã€‚ æ€»ç»“TypeScript åœ¨ç¤¾åŒºçš„æµè¡Œåº¦è¶Šæ¥è¶Šé«˜ï¼Œå®ƒéå¸¸é€‚ç”¨äºä¸€äº›å¤§å‹é¡¹ç›®ï¼Œä¹Ÿéå¸¸é€‚ç”¨äºä¸€äº›åŸºç¡€åº“ï¼Œæå¤§åœ°å¸®åŠ©æˆ‘ä»¬æå‡äº†å¼€å‘æ•ˆç‡å’Œä½“éªŒã€‚éƒ½ 2019 å¹´äº†ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰å¼€å§‹å­¦ä¹  TypeScriptï¼Œé‚£ä¹ˆä½ å¯èƒ½è¦è½åäº†å“Ÿï¼Œæ‰€ä»¥è¿˜ç­‰ä»€ä¹ˆï¼Œå¿«æ¥å’Œæˆ‘ä¸€èµ·å­¦ä¹ å¹¶ä½¿ç”¨ TypeScript å§ï¼Œæ¥æ„Ÿå—ä¸€ä¸‹å®ƒä¸ºæˆ‘ä»¬å¸¦æ¥çš„å¥‡å¦™ä½“éªŒã€‚ å®‰è£… TypeScriptå‘½ä»¤è¡Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå…¨å±€å®‰è£… TypeScriptï¼š 1npm install -g typescript å®‰è£…å®Œæˆåï¼Œåœ¨æ§åˆ¶å°è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæ£€æŸ¥å®‰è£…æ˜¯å¦æˆåŠŸ(3.x)ï¼š 1tsc -V ç¼–å†™ç¬¬ä¸€ä¸ª TypeScript ç¨‹åºåœ¨ç¼–è¾‘å™¨ï¼Œå°†ä¸‹é¢çš„ä»£ç è¾“å…¥åˆ° greeter.ts æ–‡ä»¶é‡Œï¼š 1234567function greeter (person) &#123; return 'Hello, ' + person&#125;let user = 'Yee'console.log(greeter(user)) ç¼–è¯‘ä»£ç æˆ‘ä»¬ä½¿ç”¨äº† .ts æ‰©å±•åï¼Œä½†æ˜¯è¿™æ®µä»£ç ä»…ä»…æ˜¯ JavaScript è€Œå·²ã€‚ åœ¨å‘½ä»¤è¡Œä¸Šï¼Œè¿è¡Œ TypeScript ç¼–è¯‘å™¨ï¼š 1tsc greeter.ts è¾“å‡ºç»“æœä¸ºä¸€ä¸ª greeter.js æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†å’Œè¾“å…¥æ–‡ä»¶ä¸­ç›¸åŒçš„ JavsScript ä»£ç ã€‚ åœ¨å‘½ä»¤è¡Œä¸Šï¼Œé€šè¿‡ Node.js è¿è¡Œè¿™æ®µä»£ç ï¼š 1node greeter.js æ§åˆ¶å°è¾“å‡ºï¼š 1Hello, Yee ç±»å‹æ³¨è§£æ¥ä¸‹æ¥è®©æˆ‘ä»¬çœ‹çœ‹ TypeScript å·¥å…·å¸¦æ¥çš„é«˜çº§åŠŸèƒ½ã€‚ ç»™ person å‡½æ•°çš„å‚æ•°æ·»åŠ  : string ç±»å‹æ³¨è§£ï¼Œå¦‚ä¸‹ï¼š 1234567function greeter (person: string) &#123; return 'Hello, ' + person&#125;let user = 'Yee'console.log(greeter(user)) TypeScript é‡Œçš„ç±»å‹æ³¨è§£æ˜¯ä¸€ç§è½»é‡çº§çš„ä¸ºå‡½æ•°æˆ–å˜é‡æ·»åŠ çº¦æŸçš„æ–¹å¼ã€‚ åœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬å¸Œæœ› greeter å‡½æ•°æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ã€‚ ç„¶åå°è¯•æŠŠ greeter çš„è°ƒç”¨æ”¹æˆä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼š 1234567function greeter (person: string) &#123; return 'Hello, ' + person&#125;let user = [0, 1, 2]console.log(greeter(user)) é‡æ–°ç¼–è¯‘ï¼Œä½ ä¼šçœ‹åˆ°äº§ç”Ÿäº†ä¸€ä¸ªé”™è¯¯ï¼š 1error TS2345: Argument of type &#39;number[]&#39; is not assignable to parameter of type &#39;string&#39;. ç±»ä¼¼åœ°ï¼Œå°è¯•åˆ é™¤ greeter è°ƒç”¨çš„æ‰€æœ‰å‚æ•°ã€‚ TypeScript ä¼šå‘Šè¯‰ä½ ä½¿ç”¨äº†éæœŸæœ›ä¸ªæ•°çš„å‚æ•°è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ã€‚ åœ¨è¿™ä¸¤ç§æƒ…å†µä¸­ï¼ŒTypeScriptæä¾›äº†é™æ€çš„ä»£ç åˆ†æï¼Œå®ƒå¯ä»¥åˆ†æä»£ç ç»“æ„å’Œæä¾›çš„ç±»å‹æ³¨è§£ã€‚ è¦æ³¨æ„çš„æ˜¯å°½ç®¡æœ‰é”™è¯¯ï¼Œgreeter.js æ–‡ä»¶è¿˜æ˜¯è¢«åˆ›å»ºäº†ã€‚ å°±ç®—ä½ çš„ä»£ç é‡Œæœ‰é”™è¯¯ï¼Œä½ ä»ç„¶å¯ä»¥ä½¿ç”¨ TypeScriptã€‚ä½†åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒTypeScript ä¼šè­¦å‘Šä½ ä»£ç å¯èƒ½ä¸ä¼šæŒ‰é¢„æœŸæ‰§è¡Œã€‚ æ¥å£è®©æˆ‘ä»¬ç»§ç»­æ‰©å±•è¿™ä¸ªç¤ºä¾‹åº”ç”¨ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ¥å£æ¥æè¿°ä¸€ä¸ªæ‹¥æœ‰ firstName å’Œ lastName å­—æ®µçš„å¯¹è±¡ã€‚ åœ¨ TypeScript é‡Œï¼Œåªåœ¨ä¸¤ä¸ªç±»å‹å†…éƒ¨çš„ç»“æ„å…¼å®¹ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªç±»å‹å°±æ˜¯å…¼å®¹çš„ã€‚ è¿™å°±å…è®¸æˆ‘ä»¬åœ¨å®ç°æ¥å£æ—¶å€™åªè¦ä¿è¯åŒ…å«äº†æ¥å£è¦æ±‚çš„ç»“æ„å°±å¯ä»¥ï¼Œè€Œä¸å¿…æ˜ç¡®åœ°ä½¿ç”¨ implements è¯­å¥ã€‚ 123456789101112131415interface Person &#123; firstName: string lastName: string&#125;function greeter (person: Person) &#123; return 'Hello, ' + person.firstName + ' ' + person.lastName&#125;let user = &#123; firstName: 'Yee', lastName: 'Huang'&#125;console.log(greeter(user)) ç±»æœ€åï¼Œè®©æˆ‘ä»¬ä½¿ç”¨ç±»æ¥æ”¹å†™è¿™ä¸ªä¾‹å­ã€‚ TypeScript æ”¯æŒ JavaScript çš„æ–°ç‰¹æ€§ï¼Œæ¯”å¦‚æ”¯æŒåŸºäºç±»çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚ è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª User ç±»ï¼Œå®ƒå¸¦æœ‰ä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€äº›å…¬å…±å­—æ®µã€‚å› ä¸ºç±»çš„å­—æ®µåŒ…å«äº†æ¥å£æ‰€éœ€è¦çš„å­—æ®µï¼Œæ‰€ä»¥ä»–ä»¬èƒ½å¾ˆå¥½çš„å…¼å®¹ã€‚ è¿˜è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘åœ¨ç±»çš„å£°æ˜ä¸Šä¼šæ³¨æ˜æ‰€æœ‰çš„æˆå‘˜å˜é‡ï¼Œè¿™æ ·æ¯”è¾ƒä¸€ç›®äº†ç„¶ã€‚ 123456789101112131415161718192021222324class User &#123; fullName: string firstName: string lastName: string constructor (firstName: string, lastName: string) &#123; this.firstName = firstName this.lastName = lastName this.fullName = firstName + ' ' + lastName &#125;&#125;interface Person &#123; firstName: string lastName: string&#125;function greeter (person: Person) &#123; return 'Hello, ' + person.firstName + ' ' + person.lastName&#125;let user = new User('Yee', 'Huang')console.log(greeter(user)) é‡æ–°è¿è¡Œ tsc greeter.tsï¼Œä½ ä¼šçœ‹åˆ° TypeScript é‡Œçš„ç±»åªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯ JavaScript å‡½æ•°çš„å®ç°ã€‚ æ€»ç»“åˆ°è¿™é‡Œï¼Œä½ å·²ç»å¯¹ TypeScript æœ‰äº†ä¸€ä¸ªå¤§è‡´çš„å°è±¡ï¼Œé‚£ä¹ˆä¸‹ä¸€ç« è®©æˆ‘ä»¬æ¥ä¸€èµ·å­¦ä¹  TypeScript çš„ä¸€äº›å¸¸ç”¨è¯­æ³•å§ã€‚","categories":[],"tags":[{"name":"TypeScript","slug":"TypeScript","permalink":"http://yoursite.com/tags/TypeScript/"}]},{"title":"NPM ç›¸å…³çŸ¥è¯†ç‚¹","slug":"tech/npm-all-about","date":"2020-02-04T08:24:47.406Z","updated":"2020-02-04T08:24:47.406Z","comments":true,"path":"2020/02/04/tech/npm-all-about/","link":"","permalink":"http://yoursite.com/2020/02/04/tech/npm-all-about/","excerpt":"","text":"åŸæ–‡é“¾æ¥ï¼šyou donâ€™t know npm nodejs ç¤¾åŒºä¹ƒè‡³ Web å‰ç«¯å·¥ç¨‹åŒ–é¢†åŸŸå‘å±•åˆ°ä»Šå¤©ï¼Œä½œä¸º node è‡ªå¸¦çš„åŒ…ç®¡ç†å·¥å…·çš„ npm å·²ç»æˆä¸ºæ¯ä¸ªå‰ç«¯å¼€å‘è€…å¿…å¤‡çš„å·¥å…·ã€‚ä½†æ˜¯ç°å®çŠ¶å†µæ˜¯ï¼Œæˆ‘ä»¬å¾ˆå¤šäººå¯¹è¿™ä¸ª nodejs åŸºç¡€è®¾æ–½çš„ä½¿ç”¨å’Œäº†è§£è¿˜åœç•™åœ¨ï¼šä¼šç”¨ npm install è¿™é‡Œï¼ˆä¸€è¨€ä¸åˆå°±åˆ é™¤æ•´ä¸ª node_modules ç›®å½•ç„¶åé‡æ–° installï¼‰ å½“ç„¶ npm èƒ½æˆä¸ºç°åœ¨ä¸–ç•Œä¸Šæœ€å¤§è§„æ¨¡çš„åŒ…ç®¡ç†ç³»ç»Ÿï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šç¡®å®å½’åŠŸäºå®ƒè¶³å¤Ÿç”¨æˆ·å‹å¥½ï¼Œä½ å³ä½¿åªä¼šæ‰§è¡Œ install ä¹Ÿä¸å¿…æ‹…å¿ƒå‡ºå¤§é—®é¢˜ã€‚ä½†æ˜¯ npm çš„åŠŸèƒ½è¿œä¸æ­¢äº install è¿™ä¹ˆç®€å•ã€‚ä¸€ä¸‹å¯¹ npm çš„åŸç†ã€ç‰¹æ€§ã€æŠ€å·§ä»¥åŠæœ€ä½³å®è·µåšä¸€äº›å½’çº³æ€»ç»“ã€‚ 1. npm initæˆ‘ä»¬éƒ½çŸ¥é“ package.json æ–‡ä»¶æ˜¯ç”¨æ¥å®šä¹‰ä¸€ä¸ª package çš„é¢ç†Ÿæ–‡ä»¶ï¼Œä¹ŸçŸ¥é“ npm init å‘½ä»¤ç”¨æ¥åˆå§‹åŒ–ä¸€ä¸ªç®€å•çš„ package.json æ–‡ä»¶ï¼Œæ‰§è¡Œè¯¥å‘½ä»¤åä¸­æ–­ä¸€æ¬¡è¯¢é—® nameã€versionã€description ç­‰å­—æ®µã€‚ 1.1 npm init æ‰§è¡Œé»˜è®¤è¡Œä¸ºè€Œå¦‚æœæƒ³è¦å…å»ä¸€ç›´æŒ‰ enterï¼Œåªéœ€è¦åœ¨å‘½ä»¤åè¿½åŠ  â€“yes å‚æ•°å³å¯æ‰§è¡Œé»˜è®¤è¡Œä¸ºã€‚ npm init --yes 1.2 è‡ªå®šä¹‰ npm init è¡Œä¸ºnpm init å‘½ä»¤çš„åŸç†å¹¶ä¸å¤æ‚ï¼Œè°ƒç”¨è„šæœ¬ï¼Œè¾“å‡ºä¸€ä¸ªåˆå§‹åŒ–çš„ package.json æ–‡ä»¶ã€‚æ‰€æœ‰ç›¸åº”çš„ï¼Œå®šåˆ¶ npm init å‘½ä»¤çš„å®ç°æ–¹å¼ä¹Ÿä¸æµ®èºï¼Œåœ¨ Home ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª .npm-init.js å³å¯ï¼Œè¯¥æ–‡ä»¶çš„ module.exports å³ä¸º package.json çš„é…ç½®å†…å®¹ï¼Œéœ€è¦è·å–ç”¨æˆ·è¾“å…¥æ—¶ï¼Œä½¿ç”¨ prompt() æ–¹æ³•å³å¯ã€‚ ä¾‹å¦‚ç¼–å†™å¦‚ä¸‹ ~/.npm-init.js 12345678910111213141516const desc = prompt('description?', 'A new package...');const bar = prompt('bar?', '');const count = prompt('count?', '100');module.exports = &#123; key: 'value', foo: &#123; bar: bar, count: count &#125;, // process.cwd() è·å–å½“å‰è¢«æ‰§è¡Œçš„ js æ–‡ä»¶çš„å·¥ä½œç›®å½• name: prompt('name?', process.cwd().split('/').pop()), version: prompt('version?', '0.1.0'), description: desc, main: 'index.js'&#125;; æ­¤æ—¶åœ¨ ~/npm-all-about ç›®å½•ä¸‹æ‰§è¡Œ npm init å°†ä¼šç”Ÿæˆè¿™æ ·çš„ package.json: 1234567891011&#123; \"key\": \"value\", \"foo\": &#123; \"bar\": \"\", \"count\": \"100\" &#125;, \"name\": \"npm-all-about\", \"version\": \"0.1.0\", \"description\": \"A new package...\", \"main\": \"index.js\"&#125; å› ä¸º .npm-init.js æ˜¯ä¸€ä¸ªå¸¸è§„çš„æ¨¡å—ï¼Œæ‰€ä»¥æ„å‘³ç€ï¼Œé™¤äº†ç”Ÿæˆ package.jsonï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»»ä½• node è„šæœ¬æ¥å®Œæˆä¸€äº›ä»»åŠ¡ã€‚ä¾‹å¦‚é€šè¿‡ fs åˆ›å»º READMEã€.eslintrc ç­‰é¡¹ç›®å¿…éœ€æ–‡ä»¶ï¼Œå®ç°é¡¹ç›®è„šæ‰‹æ¶çš„ä½œç”¨ã€‚ 2. ä¾èµ–åŒ…å®‰è£…ä¾èµ–ç®¡ç†æ˜¯ npm çš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒåŸç†æ˜¯æ‰§è¡Œ npm install ä» package.json ä¸­çš„ dependenciesã€devDependencies å°†ä¾èµ–åŒ…å®‰è£…åˆ°å½“å‰ç›®å½•çš„ ./node_modules æ–‡ä»¶å¤¹ä¸­ã€‚ 2.1 package å®šä¹‰æˆ‘ä»¬çŸ¥é“ï¼Œè¦æ‰‹åŠ¨å®‰è£…ä¸€ä¸ªä¾èµ–åŒ…æ—¶ï¼Œæ‰§è¡Œ npm install &lt;package&gt; å‘½ä»¤å³å¯ã€‚è¿™é‡Œçš„ç¬¬ä¸‰ä¸ªå‚æ•° package é€šå¸¸å°±æ˜¯æ‰€éœ€è¦å®‰è£…çš„åŒ…åï¼Œé»˜è®¤é…ç½®ä¸‹ npm ä¼šä»é»˜è®¤çš„æºï¼ˆRegistryï¼‰ä¸­æŸ¥æ‰¾è¯¥åŒ…åå¯¹åº”çš„æŠ¥åœ°å€ï¼Œå¹¶ä¸‹è½½å®‰è£…ã€‚ä½†é™¤äº†å¯ä»¥ç®€å•åœ°æŒ‡å®šåŒ…åä»¥å¤–ï¼Œpackage è¿˜å¯ä»¥æ˜¯ä¸€ä¸ªæ‰§è¡Œæœ‰æ•ˆåŒ…åçš„ http url/git url/ æ–‡ä»¶å¤¹è·¯å¾„ã€‚ é˜…è¯» npm æ–‡æ¡£ï¼Œæˆ‘ä»¬ä¼šå‘ç° package çš„å‡†ç¡®è®¢é˜…ï¼Œåªè¦ç¬¦åˆä»¥ä¸‹a)åˆ°g)å…¶ä¸­ä¹‹ä¸€æ¡ä»¶ï¼Œå°±æ˜¯ä¸€ä¸ª package: id è¯´æ˜ ä¾‹å­ a) ä¸€ä¸ªåŒ…å«äº†ç¨‹åºå’Œæè¿°è¯¥ç¨‹åºçš„ package.json æ–‡ä»¶çš„ æ–‡ä»¶å¤¹ ./local-module/ b) ä¸€ä¸ªåŒ…å«äº†(a)çš„ gzip å‹ç¼©æ–‡ä»¶ ./module.tar.gz c) ä¸€ä¸ªå¯ä»¥ä¸‹è½½çš„(b)èµ„æºçš„ url(é€šå¸¸æ˜¯ http(s) url) https://registry.npmjs.org/webpack/-/webpack-4.1.0.tgz d) ä¸€ä¸ªæ ¼å¼ä¸º &lt;name&gt;@&lt;version&gt; çš„å­—ç¬¦ä¸²ï¼Œå¯æŒ‡å‘ npm æº(é€šå¸¸æ˜¯å®˜æ–¹æº npmjs.org)ä¸Šå·²å‘å¸ƒçš„å¯è®¿é—® urlï¼Œä¸”è¯¥ url æ»¡è¶³æ¡ä»¶(c) webpack@4.1.0 e) ä¸€ä¸ªæ ¼å¼ä¸º &lt;name&gt;@&lt;tag&gt; çš„å­—ç¬¦ä¸²ï¼Œåœ¨ npm æºä¸Šè¯¥ &lt;tag&gt; æŒ‡å‘æŸä¸ª &lt;version&gt; å¾—åˆ° &lt;name&gt;@&lt;version&gt;ï¼Œåè€…æ»¡è¶³æ¡ä»¶(d) webpack@latest f) ä¸€ä¸ªæ ¼å¼ä¸º &lt;name&gt; çš„å­—ç¬¦ä¸²ï¼Œé»˜è®¤æ·»åŠ  latest æ ‡ç­¾æ‰€å¾—åˆ°çš„ &lt;name&gt;@latest æ»¡è¶³æ¡ä»¶(e) webpack g) ä¸€ä¸ª git urlï¼Œè¯¥ url æ‰€æŒ‡å‘çš„ä»£ç åº“æ»¡è¶³æ¡ä»¶(a) git@github.com:webpack/webpack.git 2.2 å®‰è£…æœ¬åœ°åŒ…/è¿œç¨‹ git ä»“åº“åŒ…ä¸Šé¢è¡¨æ ¼çš„è®¢é˜…æ„å‘³ç€ï¼Œæˆ‘ä»¬åœ¨å…±äº«ä¾èµ–åŒ…æ—¶ï¼Œå¹¶ä¸æ˜¯éè¦å°†åŒ…å‘è¡¨åˆ° npm æºä¸Šæ‰å¯ä»¥æä¾›ç»™ç”¨ç€æ¥å®‰è£…ã€‚è¿™å¯¹äºç§æœ‰çš„ä¸æ–¹ä¾¿ publish åˆ°è¿œç¨‹æºï¼ˆå³ä½¿æ˜¯ç§æœ‰æºï¼‰ï¼Œæˆ–è€…éœ€è¦å¯¹æŸå®˜æ–¹æºè¿›è¡Œæ”¹é€ ï¼Œä½†ä¾ç„¶éœ€è¦æŠŠåŒ…å…±äº«å‡ºå»çš„åœºæ™¯æ¥è¯´æ˜¯éå¸¸å®ç”¨çš„ã€‚ åœºæ™¯1: æœ¬åœ°æ¨¡å—å¼•ç”¨ nodejs åº”ç”¨å¼€å‘ä¸­ä¸å¯é¿å…æœ‰æ¨¡å—é—´è°ƒç”¨ï¼Œä¾‹å¦‚åœ¨å®è·µä¸­ç»å¸¸ä¼šæŠŠéœ€è¦è¢«é¢‘ç¹å¼•ç”¨çš„é…ç½®æ¨¡å—æ”¾åˆ°åº”ç”¨æ ¹ç›®å½•ï¼›äºæ˜¯åœ¨åˆ›å»ºäº†å¾ˆå¤šå±‚çº§çš„ç›®å½•ã€æ–‡ä»¶åï¼Œå¾ˆå¯èƒ½é‡åˆ°è¿™æ ·çš„ä»£ç ï¼š 1const config = require('../../../../config.js'); é™¤äº†çœ‹ä¸Šå»ä¸ç›´è§‚ä»¥å¤–ï¼Œè¿™æ ·çš„è·¯å¾„å¼•ç”¨ä¹Ÿä¸åˆ©äºä»£ç çš„é‡æ„ã€‚è¿™æ ·çš„é‡å¤ä»£ç å¤šäº†ä¹Ÿå°±æ„å‘³ç€æ˜¯æ—¶å€™æŠŠè¿™ä¸ªæ¨¡å—åˆ†ç¦»é™¤äº†ä¾›åº”ç”¨ä¸­å…¶ä»–æ¨¡å—å…±äº«äº†ã€‚ä¾‹å¦‚è¿™ä¸ªä¾‹å­é‡Œçš„ config.js éå¸¸é€‚åˆå°è£…ä¸º package æ”¾åˆ° node_modules ç›®å½•ä¸‹ï¼Œå…±äº«ç»™åŒåº”ç”¨å†…å…¶ä»–æ¨¡å—ä½¿ç”¨ã€‚ æ— éœ€æ‰‹åŠ¨å¼€å§æ–‡ä»¶æˆ–è€…åˆ›å»ºè½¯è¿æ¥åˆ° node_modules ç›®å½•ï¼Œnpm æœ‰æ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚ æ–¹æ¡ˆï¼š åˆ›å»º config åŒ…ï¼šæ–°å¢ config æ–‡ä»¶å¤¹ï¼›é‡å‘½å config.js ä¸º config/index.js æ–‡ä»¶ï¼›åˆ›å»º package.json å®šä¹‰ config åŒ…ã€‚ 12345&#123; \"name\": \"config\", \"main\": \"index.js\", \"version\": \"0.1.0\"&#125; åœ¨åº”ç”¨å±‚ package.json æ–‡ä»¶ä¸­æ–°å¢ä¾èµ–é¡¹ï¼Œç„¶åæ‰§è¡Œ npm installï¼›æˆ–ç›´æ¥æ‰§è¡Œç¬¬3æ­¥ã€‚ 12345&#123; \"dependencies\": &#123; \"config\": \"file:./config\" &#125;&#125; (ç­‰ä»·äºç¬¬2æ­¥) ç›´æ¥åœ¨åº”ç”¨ç›®å½•æ‰§è¡Œ npm install file:./configã€‚ æ­¤æ—¶ï¼ŒæŸ¥çœ‹ node_modules ç›®å½•æˆ‘ä»¬ä¼šå‘ç°å¤šäº†ä¸€ä¸ªåä¸º config çš„ä¾èµ–åŒ…ï¼ŒæŒ‡å‘ä¸Šå±‚ config/ æ–‡ä»¶å¤¹çš„è½¯è¿æ¥ã€‚è¿™æ˜¯å› ä¸º npm è¯†åˆ« file: åè®®çš„ urlï¼Œå¾—çŸ¥è¿™ä¸ªåŒ…éœ€è¦ç›´æ¥ä»æ–‡ä»¶ç³»ç»Ÿä¸­è·å–ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºè½¯è¿æ¥åˆ° node_modules ä¸­ï¼Œå®Œæˆ â€œå®‰è£…â€è¿‡ç¨‹ã€‚ ç›¸æ¯”æ‰‹åŠ¨è½¯è¿æ¥ï¼Œæˆ‘ä»¬æ—¢ä¸éœ€è¦å…³ç³» windows å’Œ linux å‘½ä»¤å·®å¼‚ï¼Œåˆå¯ä»¥æ˜¾å¼åœ°å°†ä¾èµ–ä¿¡æ¯å›ºåŒ–åˆ° dependencies å­—æ®µä¸­ï¼Œå¼€å‘å›¢é˜Ÿå…¶ä»–æˆå‘˜å¯ä»¥æ‰§è¡Œ npm install åç›´æ¥ä½¿ç”¨ã€‚ åœºæ™¯2: ç§æœ‰ git å…±äº« package æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€ä¸ªå›¢é˜Ÿå†…ä¼šæœ‰ä¸€äº›ä»£ç /å…¬ç”¨åº“éœ€è¦åœ¨å›¢é˜Ÿå†…ä¸åŒé¡¹ç›®é—´å…±äº«ï¼Œä½†å¯èƒ½ç”±äºåŒ…å«äº†æ•æ„Ÿå†…å®¹ï¼Œæˆ–è€…ä»£ç å¤ªçƒ‚æ‹¿ä¸å‡ºæ‰‹ç­‰åŸå› ï¼Œä¸æ–¹ä¾¿å‘å¸ƒåˆ°æºä¸Šã€‚ è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•åœ°å°†è¢«ä¾èµ–çš„åŒ…æ‰˜ç®¡åœ¨ç§æœ‰çš„ git ä»“åº“ä¸­ï¼Œç„¶åå°† git url ä¿å­˜åˆ° dependencies ä¸­ã€‚npm ä¼šç›´æ¥è°ƒç”¨ç³»ç»Ÿçš„ git å‘½ä»¤ï¼Œä» git ä»“åº“æ‹‰å–åŒ…çš„å†…å®¹åˆ° node_modules ä¸­ã€‚ npm æ”¯æŒçš„ git url æ ¼å¼: 1&lt;protocol&gt;:&#x2F;&#x2F;[&lt;user&gt;[:&lt;password&gt;]@]&lt;hostname&gt;[:&lt;port&gt;][:][&#x2F;]&lt;path&gt;[#&lt;commit-ish&gt; | #semver:&lt;semver&gt;] git è·¯å¾„åå¯ä»¥ä½¿ç”¨ # æŒ‡å®šç‰¹å®šçš„ git branch/commit/tagï¼Œä¹Ÿå¯ä»¥ #semver: æŒ‡å®šç‰¹å®šçš„ semver rangeã€‚ semverï¼ˆè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼‰çº¦å®šä¸€ä¸ªåŒ…çš„ç‰ˆæœ¬å·å¿…é¡»åŒ…å«3ä¸ªæ•°å­—ï¼Œæ ¼å¼å¿…é¡»ä¸º MAJOR.MINOR.PATCH, æ„ä¸º ä¸»ç‰ˆæœ¬\bå·.å°ç‰ˆæœ¬å·.ä¿®è®¢ç‰ˆæœ¬å·. ä¾‹å¦‚ï¼š 1234git+ssh:&#x2F;&#x2F;git@github.com:npm&#x2F;npm.git#v1.0.27git+ssh:&#x2F;&#x2F;git@github.com:npm&#x2F;npm#semver:^5.0git+https:&#x2F;&#x2F;isaacs@github.com&#x2F;npm&#x2F;npm.gitgit:&#x2F;&#x2F;github.com&#x2F;npm&#x2F;npm.git#v1.0.27 åœºæ™¯3: å¼€æº package é—®é¢˜ä¿®å¤ ä½¿ç”¨æŸä¸ª npm åŒ…æ—¶å‘ç°ä»–æœ‰æŸä¸ªä¸¥é‡çš„ bugï¼Œä½†æˆ–è®¸æœ€åˆåç€å·²ä¸å†ç»´æŠ¤ä»£ç äº†ï¼Œåˆæˆ–è®¸æˆ‘ä»¬å·¥ä½œç´§æ€¥ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´æ issue ç»™ä½œè€…å†æ…¢æ…¢ç­‰ä½œè€…å‘å¸ƒæ–°çš„ä¿®å¤ç‰ˆæœ¬åˆ° npm æºã€‚ æ­¤æ—¶æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨è¿›å…¥ node_modules ç›®å½•ä¸‹ä¿®æ”¹ç›¸åº”çš„å†…å®¹ï¼Œä¹Ÿè®¸ä¿®æ”¹äº†ä¸€è¡Œä»£ç å°±ä¿®å¤äº†é—®é¢˜ã€‚ä½†æ˜¯è¿™ç§åšæ³•éå¸¸ä¸æ˜æ™ºï¼ é¦–å…ˆ node_modules æœ¬èº«ä¸åº”è¯¥æ”¾è¿›ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¯¹ node_modules æ–‡ä»¶å¤¹ä¸­å†…å®¹çš„ä¿®æ”¹ä¸ä¼šè¢«è®°å½•è¿› git æäº¤è®°å½•äº†ï¼›å…¶æ¬¡ï¼Œå°±ç®—æˆ‘ä»¬éè¦åæ¨¡å¼ï¼ŒæŠŠ node_modules æ”¾è¿›ç‰ˆæœ¬æ§åˆ¶ä¸­ï¼Œä½ çš„ä¿®æ”¹å†…å®¹ä¹Ÿå¾ˆå®¹æ˜“åœ¨ä¸‹æ¬¡ team ä¸­æŸä¸ªæˆå‘˜æ‰§è¡Œ npm install æˆ– npm update æ—¶è¢«è¦†ç›–ï¼Œè€Œè¿™æ ·çš„ä¸€æ¬¡æäº¤å¾ˆå¯èƒ½åŒ…å«äº†å‡ åå‡ ç™¾ä¸ªåŒ…çš„æ›´æ–°ï¼Œä½ è‡ªå·±æ‰€åšçš„ä¿®æ”¹å¾ˆå®¹æ˜“å°±è¢«æ·¹æ²¡åœ¨åºå¤§çš„ diff æ–‡ä»¶åˆ—è¡¨ä¸­äº†ï¼Œè®©ç‰ˆæœ¬æ§åˆ¶å˜å¾—éå¸¸ä¸åˆç†ã€‚ æ–¹æ¡ˆï¼š æœ€å¥½çš„åŠæ³•åº”å½“æ˜¯ fork åŸä½œè€…çš„ git åº“ï¼Œåœ¨è‡ªå·±æ‰€å±çš„ repo ä¸‹ä¿®å¤é—®é¢˜åï¼Œå°† dependencies ä¸­ç›¸åº”çš„ä¾èµ–æ›´æ”¹ä¸ºè‡ªå·±ä¿®å¤åç‰ˆæœ¬çš„ git url å³å¯è§£å†³é—®é¢˜ã€‚ï¼ˆfork ä»£ç åº“åï¼Œä¹Ÿä¾¿äºå‘åŸä½œè€…ä½“æ£€ PR ä¿®å¤é—®é¢˜ã€‚ä¸Šæ¸¸ä»£ç åº“ä¿®å¤é—®é¢˜åï¼Œå†æ¬¡æ›´æ–°æˆ‘ä»¬çš„ä¾èµ–é…ç½®ä¹Ÿä¸è¿Ÿã€‚ï¼‰ 3. npm install å¦‚ä½•å·¥ä½œ â€“ node_modules ç›®å½•ç»“æ„npm install æ‰§è¡Œå®Œæ¯•åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ node_modules ä¸­çœ‹åˆ°æ‰€æœ‰çš„ä¾èµ–åŒ…ã€‚è™½ç„¶ä½¿ç”¨è€…æ— éœ€å…³æ³¨è¿™ä¸ªç›®å½•é‡Œçš„æ–‡ä»¶ç»“æ„ç»†èŠ‚ï¼Œåªç®¡åœ¨ä¸šåŠ¡ä»£ç ä¸­å¼•ç”¨ä¾èµ–åŒ…å³å¯ï¼Œä½†äº†è§£ node_modules çš„å†…å®¹å¯ä»¥å¸®æˆ‘ä»¬æ›´å¥½åœ°ç†è§£ npm å¦‚ä½•å·¥ä½œï¼Œäº†è§£ npm2 åˆ° npm5 æœ‰å“ªäº›å˜åŒ–å’Œè¯¥äº•ã€‚ ä¸ºç®€å•èµ·è§ï¼Œå‡è®¾åº”ç”¨ç›®å½•ä¸º appï¼Œç”¨ä¸¤ä¸ªæµè¡Œçš„åŒ… webpackã€nconf ä½œä¸ºä¾èµ–åŒ…åšå®ä¾‹è¯´æ˜ã€‚å¹¶ä¸”ä¸ºäº†æ­£å¸¸å®‰è£…ï¼Œä½¿ç”¨äº† npm2 æ—¶æœŸçš„ç‰ˆæœ¬ webpack@1.15.0ã€nconf@0.8.5ã€‚ 3.1 npm2npm2 åœ¨å®‰è£…ä¾èµ–åŒ…æ—¶ï¼Œé‡‡ç”¨ç®€å•çš„é€’å½’å®‰è£…æ–¹æ³•ã€‚æ‰§è¡Œ npm install åï¼Œnpm2 ä¾æ¬¡é€’å½’å®‰è£… webpackã€nconf ä¸¤ä¸ªåŒ…åˆ° node_modules ä¸­ã€‚æ‰§è¡Œå®Œæ¯•åï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ° ./node_modules è¿™å±‚ç›®å½•åªå«æœ‰è¿™ä¸¤ä¸ªå­ç›®å½•ã€‚ 123node_modules&#x2F;â”œâ”€â”€ nconf&#x2F;â””â”€â”€ webpack&#x2F; è¿›å…¥æ›´æ·±ä¸€å±‚ nconf æˆ–è€… webpack ç›®å½•ï¼Œå°†çœ‹åˆ°è¿™ä¸¤ä¸ªåŒ…å„è‡ªçš„ node_modules ä¸­ï¼Œå·²ç»ç”± npm é€’å½’å®‰è£…å¥½äº†è‡ªèº«çš„ä¾èµ–åŒ…ã€‚åŒ…æ‹¬ ./node_modules/webpack/node_modules/webpack-coreï¼Œ./node_modules/conf/node_modules/async ç­‰ç­‰ã€‚è€Œæ¯ä¸€ä¸ªåŒ…éƒ½æœ‰è‡ªå·±çš„ä¾èµ–åŒ…ï¼Œæ¯ä¸ªåŒ…è‡ªå·±çš„ä¾èµ–éƒ½å®‰è£…åœ¨äº†è‡ªå·±çš„ node_modules ä¸­ã€‚ä¾èµ–å…³ç³»å±‚å±‚é€’è¿›ï¼Œæ„æˆä¸€æ•´ä¸ªä¾èµ–æ ‘ï¼Œè¿™ä¸ªä¾èµ–æ ‘ä¸æ–‡ä»¶ç³»ç»Ÿä¸­çš„é—®ä»·ç»“æ„æ ‘åˆšå¥½å±‚å±‚å¯¹åº”ã€‚ æœ€æ–¹ä¾¿çš„æŸ¥çœ‹ä¾èµ–æ ‘çš„æ–¹å¼æ˜¯ç›´æ¥åœ¨ app ç›®å½•ä¸‹æ‰§è¡Œ npm ls å‘½ä»¤ã€‚ 12345678910111213141516171819app@0.1.0â”œâ”€â”¬ nconf@0.8.5â”‚ â”œâ”€â”€ async@1.5.2â”‚ â”œâ”€â”€ ini@1.3.5â”‚ â”œâ”€â”€ secure-keys@1.0.0â”‚ â””â”€â”€ yargs@3.32.0â””â”€â”¬ webpack@1.15.0 â”œâ”€â”€ acorn@3.3.0 â”œâ”€â”€ async@1.5.2 â”œâ”€â”€ clone@1.0.3 â”œâ”€â”€ ... â”œâ”€â”€ optimist@0.6.1 â”œâ”€â”€ supports-color@3.2.3 â”œâ”€â”€ tapable@0.1.10 â”œâ”€â”€ uglify-js@2.7.5 â”œâ”€â”€ watchpack@0.2.9 â””â”€â”¬ webpack-core@0.6.9 â”œâ”€â”€ source-list-map@0.1.8 â””â”€â”€ source-map@0.4.4 è¿™æ ·çš„ç›®å½•ç»“æ„ä¼˜ç‚¹åœ¨äºå±‚çº§ç»“æ„æ˜æ˜¾ï¼Œä¾¿äºè¿›è¡Œå‚»ç“œå¼çš„ç®¡ç†ï¼š ä¾‹å¦‚æ–°å¢ä¸€ä¸ªä¾èµ–åŒ…ï¼Œå¯ä»¥ç«‹å³åœ¨ç¬¬ä¸€å±‚ node_modules ä¸­çœ‹åˆ°å­ç›®å½•ã€‚ åœ¨å·²çŸ¥æ‰€éœ€è¦åŒ…åå’Œç‰ˆæœ¬å·æ—¶ï¼Œç”šè‡³å¯ä»¥ä»åˆ«çš„æ–‡ä»¶å¤¹æ‰‹åŠ¨æ‹·è´éœ€è¦çš„åŒ…åˆ° node_modules æ–‡ä»¶å¤¹ä¸­ï¼Œå†æ‰‹åŠ¨ä¿®æ”¹ package.json ä¸­çš„ä¾èµ–é…ç½®ã€‚ è¦åˆ é™¤è¿™ä¸ªåŒ…ï¼Œä¹Ÿå¯ä»¥ç®€å•åœ°æ‰‹åŠ¨åˆ é™¤è¿™ä¸ªåŒ…çš„å­ç›®å½•ï¼Œæ–Œåˆ é™¤ package.json æ–‡ä»¶ä¸­ç›¸å¯¹åº”çš„ä¸€è¡Œå³å¯ã€‚ å®é™…ä¸Šï¼Œå¾ˆå¤šäººåœ¨ npm2 æ—¶ä»£ä¹Ÿçš„ç¡®è¿™æ ·å®è·µè¿‡ï¼Œçš„ç¡®ä¹Ÿéƒ½å¯ä»¥å®‰è£…å’Œåˆ é™¤æˆåŠŸï¼Œå¹¶ä¸ä¼šå¯¼è‡´ä»€ä¹ˆå·®é”™ã€‚ ä½†è¿™æ ·çš„æ–‡ä»¶ç»“æ„ä¹Ÿæœ‰å¾ˆæ˜æ˜¾çš„é—®é¢˜ï¼š å¯¹å¤æ‚çš„å·¥ç¨‹ï¼Œnode_module å†…ç›®å½•ç»“æ„å¯èƒ½ä¼šå¤ªæ·±ï¼Œå¯¼è‡´æ·±å±‚çš„æ–‡ä»¶è·¯å¾„è¿‡é•¿è€Œè§¦å‘ windows æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæ–‡ä»¶è·¯å¾„ä¸èƒ½è¶…è¿‡260ä¸ªå­—ç¬¦é•¿åº¦çš„é™åˆ¶ã€‚ éƒ¨åˆ†è¢«å¤šä¸ªåŒ…æ‰€ä¾èµ–çš„åŒ…ï¼Œå¾ˆå¯èƒ½åœ¨åº”ç”¨ node_modules ç›®å½•ä¸­çš„å¾ˆå¤šåœ°æ–¹è¢«é‡å¤å®‰è£…ã€‚éšç€å·¥ç¨‹è§„æ¨¡è¶Šæ¥è¶Šå¤šï¼Œä¾èµ–æ ‘è¶Šæ¥è¶Šå¤æ‚ï¼Œè¿™æ ·çš„åŒ…æƒ…å†µä¼šè¶Šæ¥è¶Šå¤šï¼Œé€ æˆå¤§é‡å†—ä½™ã€‚ â€”â€”â€”â€”åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­,webpack å’Œ nconf éƒ½ä¾èµ– async è¿™ä¸ªåŒ…ï¼Œæ‰€ä»¥åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œwebpack å’Œ nconf çš„ node_modules å­ç›®å½•ä¸­éƒ½å®‰è£…äº†ç›¸åŒçš„ async åŒ…ï¼Œå¹¶ä¸”æ˜¯ç›¸åŒçš„ç‰ˆæœ¬ã€‚ 1234567891011121314+-------------------------------------------+| app&#x2F; |+----------+------------------------+-------+ | | | |+----------v------+ +---------v-------+| | | || webpack@1.15.0 | | nconf@0.8.5 || | | |+--------+--------+ +--------+--------+ | | +-----v-----+ +-----v-----+ |async@1.5.2| |async@1.5.2| +-----------+ +-----------+ 3.2 npm3-æ‰å¹³ç»“æ„ä¸»è¦ä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œnpm3 çš„ node_modules ç›®å½•æ”¹æˆï¼› æ›´åŠ æ‰å¹³çš„å±‚çº§ç»“æ„ã€‚æ–‡ä»¶ç³»ç»Ÿä¸­ webpackã€nconfã€async çš„å±‚çº§å…³ç³»å˜æˆäº†å¹³çº§å…³ç³»ï¼Œå¤„äºåŒä¸€çº§ç›®å½•ä¸­ã€‚ 12345678910 +-------------------------------------------+ | app&#x2F; | +-+---------------------------------------+-+ | | | |+----------v------+ +-------------+ +---------v-------+| | | | | || webpack@1.15.0 | | async@1.5.2 | | nconf@0.8.5 || | | | | |+-----------------+ +-------------+ +-----------------+ è™½ç„¶è¿™æ ·ä¸€æ¥ webpack/node_modules å’Œ nconf/node_modules ä¸­éƒ½ä¸å†æœ‰ async æ–‡ä»¶å¤¹ï¼Œä½†å¾—ç›Šäº node çš„æ¨¡å—åŠ è½½æœºåˆ¶ï¼Œä»–ä»¬éƒ½å¯ä»¥åœ¨ä¸Šä¸€çº§ node_modules ç›®å½•ä¸­æ‰¾åˆ° async åº“ã€‚æ‰€ä»¥ webpack å’Œ nconf çš„ä»£ç åº“ä¸­ require(&#39;async&#39;) è¯­å¥çš„æ‰§è¡Œéƒ½ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ã€‚ è¿™åªæ˜¯æœ€ç®€å•çš„ä¾‹å­ï¼Œå®é™…çš„å·¥ç¨‹é¡¹ç›®ä¸­ï¼Œä¾èµ–æ ‘ä¸å¯é¿å…åœ°ä¼šæœ‰å¾ˆå¤šå±‚çº§ï¼Œå¾ˆå¤šä¾èµ–åŒ…ï¼Œå…¶ä¸­ä¼šæœ‰å¾ˆå¤šåŒåä½†ç‰ˆæœ¬ä¸åŒçš„åŒ…å­˜åœ¨äºä¸åŒçš„ä¾èµ–å±‚çº§ï¼Œå¯¹è¿™äº›å¤æ‚çš„æƒ…å†µï¼Œnpm3 éƒ½ä¼šåœ¨å®‰è£…æ—¶éå†æ•´ä¸ªä¾èµ–æ ‘ï¼Œè®¡ç®—å‡ºæœ€åˆç†çš„æ–‡ä»¶å¤¹å®‰è£…æ–¹å¼ï¼Œä½¿å¾—æ‰€æœ‰è¢«é‡å¤ä¾èµ–çš„åŒ…éƒ½å¯ä»¥å»é‡å®‰è£…ã€‚ npm æ–‡æ¡£æä¾›äº†æ›´ç›´æ¥çš„ä¾‹å­è§£é‡Šè¿™ç§æƒ…å†µï¼š åŠ å…¥ package{dep} å†™æ³•ä»£è¡¨åŒ…å’ŒåŒ…çš„ä¾èµ–ï¼Œé‚£ä¹ˆ A{B, C}ï¼ŒB{C}ï¼ŒC{D} çš„ä¾èµ–ç»“æ„åœ¨å®‰è£…ä¹‹åçš„ node_modules æ˜¯è¿™æ ·çš„ç»“æ„ï¼š 1234A+-- B+-- C+-- D è¿™é‡Œä¹‹æ‰€ä»¥ D ä¹Ÿå®‰è£…åˆ°äº†ä¸ B C åŒä¸€çº§ç›®å½•ï¼Œæ˜¯å› ä¸º npm é»˜è®¤ä¼šåœ¨æ— å†²çªçš„å‰æä¸‹ï¼Œå°½å¯èƒ½åœ°å°†åŒ…å®‰è£…åˆ°è¾ƒé«˜çš„å±‚çº§ã€‚ å¦‚æœæ˜¯ A{B, C}ï¼ŒB{C, D@1}ï¼ŒC{D@2} çš„ä¾èµ–å…³ç³»ï¼Œå¾—åˆ°çš„å®‰è£…åç»“æ„æ˜¯ï¼š 12345A+-- B+-- C +-- D@2+-- D@1 è¿™é‡Œæ˜¯å› ä¸ºï¼Œå¯¹ä¸ npm æ¥è¯´ï¼ŒåŒåä½†ä¸åŒç‰ˆæœ¬çš„åŒ…æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„åŒ…ï¼Œè€ŒåŒå±‚ä¸èƒ½æœ‰ä¸¤ä¸ªåŒåå­ç›®å½•ï¼Œæ‰€ä»¥å…¶ä¸­çš„ D@2 æ”¾åˆ°äº† C çš„å­ç›®å½•è€Œå¦ä¸€ä¸ª D@1 è¢«æ”¾åˆ°äº†å†ä¸Šä¸€å±‚çš„ç›®å½•ã€‚ å¾ˆæ˜æ˜¾åœ¨ npm3 ä¹‹å npm çš„ä¾èµ–æ ‘ç»“æ„ä¸å†ä¸æ–‡ä»¶å¤¹å±‚çº§ä¸€ä¸€å¯¹åº”äº†ã€‚æƒ³è¦æŸ¥çœ‹ app çš„ç›´æ¥ä¾èµ–é¡¹ï¼Œéœ€è¦é€šè¿‡ npm ls å‘½ä»¤æŒ‡å®š --depth å‚æ•°æ¥æŸ¥çœ‹ï¼š 1npm ls --depth 1 PSï¼šä¸æœ¬åœ°ä¾èµ–åŒ…æŠŠä¸åŒï¼Œå¦‚æœæˆ‘ä»¬é€šè¿‡ npm install --global å…¨å±€å®‰è£…ä¾èµ–åŒ…åˆ°å…¨å±€ç›®å½•æ—¶ï¼Œå¾—åˆ°çš„ç›®å½•ä¾ç„¶æ˜¯â€ä¼ ç»Ÿçš„â€ç›®å½•ç»“æ„ã€‚è€Œå¦‚æœä½¿ç”¨ npm3 æƒ³å¾—åˆ°â€ä¼ ç»Ÿâ€å½¢å¼çš„æœ¬åœ° node_modules ç›®å½•ï¼Œä½¿ç”¨ npm install --global-style å³å¯ã€‚ 3.3 npm5-package-lock æ–‡ä»¶npm5 å‘å¸ƒä¸ 2017 å¹´ï¼Œä¹Ÿæ˜¯ç›®å‰æœ€æ–°çš„ npm ç‰ˆæœ¬ï¼Œè¿™ä¸€ç‰ˆæœ¬ä¾ç„¶æ²¿ç”¨ npm3 ä¹‹åæ‰å¹³åŒ–çš„ä¾èµ–åŒ…å®‰è£…æ–¹å¼ï¼Œæ­¤å¤–æœ€å¤§çš„å˜åŒ–æ—¶å¢åŠ äº† package-lock.json æ–‡ä»¶ã€‚ package-lock.json çš„ä½œç”¨æ˜¯é”å®šä¾èµ–å®‰è£…ç»“æ„ï¼Œå¦‚æœæŸ¥çœ‹è¿™ä¸ª json çš„ç»“æ„ï¼Œä¼šå‘ç°ä¸ node_modules ç›®å½•çš„æ–‡ä»¶ç»“æ„æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ ä»¥ä¾èµ–å…³ç³»ä¸ºï¼šapp{webpack} çš„ â€˜appâ€™ é¡¹ç›®ä¸ºä¾‹ï¼Œå…¶ package-lock æ–‡ä»¶åŒ…å«è¿™æ ·çš„ç‰‡æ®µï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748&#123; \"name\": \"app\", \"version\": \"0.1.0\", \"lockfileVersion\": 1, \"requires\": true, \"dependencies\": &#123; \"webpack\": &#123; \"version\": \"1.8.11\", \"resolved\": \"https://registry.npmjs.org/webpack/-/webpack-1.8.11.tgz\", \"integrity\": \"sha1-Yu0hnstBy/qcKuanu6laSYtgkcI=\", \"requires\": &#123; \"async\": \"0.9.2\", \"clone\": \"0.1.19\", \"enhanced-resolve\": \"0.8.6\", \"esprima\": \"1.2.5\", \"interpret\": \"0.5.2\", \"memory-fs\": \"0.2.0\", \"mkdirp\": \"0.5.1\", \"node-libs-browser\": \"0.4.3\", \"optimist\": \"0.6.1\", \"supports-color\": \"1.3.1\", \"tapable\": \"0.1.10\", \"uglify-js\": \"2.4.24\", \"watchpack\": \"0.2.9\", \"webpack-core\": \"0.6.9\" &#125; &#125;, \"webpack-core\": &#123; \"version\": \"0.6.9\", \"resolved\": \"https://registry.npmjs.org/webpack-core/-/webpack-core-0.6.9.tgz\", \"integrity\": \"sha1-/FcViMhVjad76e+23r3Fo7FyvcI=\", \"requires\": &#123; \"source-list-map\": \"0.1.8\", \"source-map\": \"0.4.4\" &#125;, \"dependencies\": &#123; \"source-map\": &#123; \"version\": \"0.4.4\", \"resolved\": \"https://registry.npmjs.org/source-map/-/source-map-0.4.4.tgz\", \"integrity\": \"sha1-66T12pwNyZneaAMti092FzZSA2s=\", \"requires\": &#123; \"amdefine\": \"1.0.1\" &#125; &#125; &#125; &#125; &#125;&#125; çœ‹æ‡‚ package-lock æ–‡ä»¶å¹¶ä¸éš¾ï¼Œå…¶ç»“æ„æ˜¯åŒæ ·ç±»å‹çš„å‡ ä¸ªå­—æ®µåµŒå¥—èµ·æ¥çš„ï¼Œåªè¦æ˜¯ versionï¼Œresolvedï¼Œintegrityï¼Œrequiresï¼Œdependencies è¿™å‡ ä¸ªå­—æ®µã€‚ versionï¼Œresolvedï¼Œintegrity ç”¨æ¥è®°å½•åŒ…çš„å‡†ç¡®ç‰ˆæœ¬å·ã€å®‰è£…æºã€å†…å®¹ hashï¼Œå†³å®šäº†è¦å®‰è£…çš„åŒ…çš„å‡†ç¡®â€èº«ä»½ä¿¡æ¯ã€‚ å‡è®¾ä¸çœ‹å…¶ä»–å­—æ®µï¼Œåªå…³æ³¨ dependencies: {}ï¼Œå¯ä»¥å‘ç°ï¼Œæ•´ä¸ªæ–‡ä»¶çš„ JSON é…ç½®é‡Œçš„ dependencies å±‚æ¬¡ç»“æ„ä¸æ–‡ä»¶ç³»ç»Ÿä¸­ node_modules çš„æ–‡ä»¶å¤¹å±‚æ¬¡æœºæ„æ˜¯å®Œå…¨å¯¹ç…§çš„ã€‚ å‡è®¾åªå…³æ³¨ requires: {}ï¼Œå¯ä»¥å‘ç°ï¼Œé™¤å»æœ€å¤–å±‚çš„ requires å±æ€§ä¸º true ä»¥å¤–ï¼Œå…¶å®ƒå±‚çš„ requires å±æ€§éƒ½å¯¹åº”ç€è¿™ä¸ªåŒ…çš„ package.json é‡Œè®°å½•è‡ªå·±çš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚ å› ä¸ºè¿™ä¸ªæ–‡ä»¶è®°å½•äº† node_modules é‡Œæ‰€æœ‰åŒ…çš„ç»“æ„ã€å±‚çº§å’Œç‰ˆæœ¬å·ï¼Œç”šè‡³å®‰è£…æºï¼Œå®ƒä¹Ÿå°±äº‹å®ä¸Šæä¾›äº†â€ä¿å­˜â€ node_modules çŠ¶æ€çš„èƒ½åŠ›ã€‚åªè¦æœ‰è¿™æ ·ä¸€ä¸ª lock æ–‡ä»¶ï¼Œé‚£ä¸ç®¡åœ¨å“ªä¸€å°æœºå™¨ä¸Šæ‰§è¡Œ npm install éƒ½ä¼šå¾—åˆ°å®Œå…¨ç›¸åŒçš„ node_modules ç»“æœã€‚ è¿™å°±æ˜¯ package-lock æ–‡ä»¶è‡´åŠ›äºä¼˜åŒ–çš„åœºæ™¯ï¼šåœ¨ä»å‰ä»…ä»…ç”¨ package.json è®°å½•ä¾èµ–ï¼Œç”±äº semver range æœºåˆ¶ï¼Œä¸€ä¸ªæœˆå‰ç”± A ç”Ÿæˆçš„ package.json æ–‡ä»¶ï¼ŒB åœ¨ä¸€ä¸ªæœˆåæ ¹æ®å®ƒæ‰§è¡Œ npm installï¼Œæ‰€å¾—åˆ°çš„çš„ node_modules ç»“æœå¾ˆå¯èƒ½å’Œä¸€ä¸ªæœˆå‰ A å¾—åˆ°çš„ç»“æœå­˜åœ¨è®¸å¤šå·®å¼‚ï¼Œè™½ç„¶ semver æœ‰æœºåˆ¶çš„é™åˆ¶ï¼ŒåŒä¸€ä»½ package.json ä¸ä¼šç”Ÿæˆå¤§ç‰ˆæœ¬ä¸åŒçš„ä¾èµ–åŒ…ï¼Œä½†åŒä¸€ä»½ä»£ç åœ¨ä¸åŒç¯å¢ƒå®‰è£…å‡ºä¸åŒçš„ä¾èµ–åŒ…ï¼Œä¾ç„¶æ˜¯å¯èƒ½å¯¼è‡´æ„å¤–çš„æ½œåœ¨å› ç´ ã€‚ å…¶å®ï¼Œç›¸åŒä½œç”¨çš„æ–‡ä»¶åœ¨ npm5 ä¹‹å‰å°±æœ‰ï¼Œæˆä¸º npm shrinkwrap æ–‡ä»¶ï¼ŒäºŒè€…ä½œç”¨å®Œå…¨ç›¸åŒï¼Œä¸åŒçš„æ˜¯åè€…éœ€è¦æ‰‹åŠ¨ç”Ÿæˆï¼Œè€Œ npm5 é»˜è®¤ä¼šåœ¨æ‰§è¡Œ npm install åå°±ç”Ÿæˆ package-lock æ–‡ä»¶ï¼Œå¹¶å»ºè®®æäº¤åˆ° gi/svn ä»£ç åº“ä¸­ã€‚ package-lock.json æ–‡ä»¶åœ¨æœ€åˆ npm5.0 é»˜è®¤å¼•å…¥æ—¶å¼•èµ·äº†ç›¸å½“å¤§çš„äº‰è®®ã€‚åœ¨ npm5.0 ä¸­ï¼Œå¦‚æœå·²æœ‰ package-lock æ–‡ä»¶å­˜åœ¨ï¼Œè‹¥æ‰‹åŠ¨åœ¨ package.json æ–‡ä»¶ä¸­æ–°å¢ä¸€æ¡ä¾èµ–ï¼Œå†æ‰§è¡Œ npm installï¼Œæ–°å¢çš„ä¾èµ–å¹¶ä¸ä¼šè¢«å®‰è£…åˆ° node_modules ä¸­ï¼Œpackage-lock ä¹Ÿä¸ä¼šåšç›¸åº”çš„æ›´æ–°ã€‚è¿™æ ·çš„è¡¨ç°ä¸ä½¿ç”¨è€…çš„è‡ªç„¶æœŸæœ›è¡¨ç°ä¸ç¬¦ã€‚åœ¨ npm5.1 çš„é¦–ä¸ª Release ç‰ˆæœ¬ä¸­è¿™ä¸ªé—®é¢˜å¾—ä»¥ä¿®å¤ã€‚æ‰€ä»¥è¿™ä¸ªäº‹æƒ…å‘Šè¯‰æˆ‘å—ï¼Œè¦å‡çº§ï¼Œä¸è¦ä½¿ç”¨ npm5.0 ç‰ˆæœ¬ã€‚ â€”â€”â€”â€”ä½†ä¾ç„¶æœ‰åå¯¹çš„å£°éŸ³è®¤ä¸º package-lock å¤ªå¤æ‚ï¼Œå¯¹æ­¤ npm ä¹Ÿæä¾›äº†ç¦ç”¨é…ç½®ï¼š 1npm config set package-lock false 4. ä¾èµ–åŒ…ç‰ˆæœ¬ç®¡ç†ä¾èµ–åŒ…å®‰è£…å®Œå¹¶ä¸æ„å‘³ç€å°±ä¸‡äº‹å¤§å‰äº†ï¼Œç‰ˆæœ¬çš„ç»´æŠ¤å’Œæ›´æ–°ä¹Ÿå¾ˆé‡è¦ã€‚è¿™ä¸€ç« ä»‹ç»ä¾èµ–åŒ…å‡çº§ç®¡ç†ç›¸å…³çŸ¥è¯†ã€‚ 4.1 semvernpm ä¾èµ–ç®¡ç†çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯é‡‡ç”¨äº†è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ(semver)ï¼Œä½œä¸ºä¾èµ–ç‰ˆæœ¬ç®¡ç†æ–¹æ¡ˆã€‚ semver çº¦å®šä¸€ä¸ªåŒ…çš„ç‰ˆæœ¬å·å¿…é¡»åŒ…å« 3 ä¸ªæ•°å­—ï¼Œæ ¼å¼å¿…é¡»ä¸º MAJOR.MINOR.PATCHï¼Œæ„ä¸º ä¸»ç‰ˆæœ¬å·.å°ç‰ˆæœ¬å·.ä¿®è®¢ç‰ˆæœ¬å·ã€‚ MAJOR å¯¹åº”å¤§çš„ç‰ˆæœ¬å·è¿­ä»£ï¼Œåšäº†ä¸å…¼å®¹æ—§ç‰ˆæœ¬çš„ä¿®æ”¹æ—¶è¦æ›´æ–° MAJOR ç‰ˆæœ¬å· MINOR å¯¹åº”å°ç‰ˆæœ¬è¿­ä»£ï¼Œå‘ç”Ÿå…¼å®¹æ—§ç‰ˆæœ¬ API çš„ä¿®æ”¹æˆ–è€…æ›´èƒ½æ›´æ–°æ—¶ï¼Œæ›´æ–° MINOR ç‰ˆæœ¬å· PATCH å¯¹åº”ä¿®è®¢ç‰ˆæœ¬å·ï¼Œä¸€èˆ¬é’ˆå¯¹ä¿®å¤ BUG çš„ç‰ˆæœ¬å· å¯¹åº”åŒ…ä½œè€…ï¼ˆå‘å¸ƒè€…ï¼‰ï¼Œnpm è¦æ±‚åœ¨ publish ä¹‹å‰ï¼Œå¿…é¡»æ›´æ–°ç‰ˆæœ¬å·ã€‚npm æä¾›äº† npm version å·¥å…·ï¼Œæ‰§è¡Œ npm version major|minor|patch å¯ä»¥ç®€å•åœ°å°†ç‰ˆæœ¬å·ä¸­å“åº”çš„æ•°å­— +1ã€‚ å¦‚æœåŒ…æ˜¯ä¸€ä¸ª git ä»“åº“ï¼Œnpm version è¿˜ä¼šè‡ªåŠ¨åˆ›å»ºä¸€æ¡æ³¨é‡Šä¸ºæ›´æ–°åç‰ˆæœ¬å·çš„ git commit å’Œåä¸ºè¯¥ç‰ˆæœ¬å·çš„ tagã€‚ å¯¹äºåŒ…çš„å¼•ç”¨è€…æ¥è¯´ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ dependencies ä¸­ä½¿ç”¨ semver çº¦å®šçš„ semver range æŒ‡å®šæ‰€éœ€ä¾èµ–åŒ…çš„ç‰ˆæœ¬å·æˆ–ç‰ˆæœ¬èŒƒå›´ã€‚npm æä¾›äº†ç½‘ç«™ https://semver.npmjs.com å¯æ–¹ä¾¿åœ°è®¡ç®—æ‰€è¾“å…¥çš„è¡¨è¾¾å¼çš„åŒ¹é…èŒƒå›´ã€‚å¸¸è§„çš„è§„åˆ™ç¤ºä¾‹å¦‚ä¸‹è¡¨ï¼š range å«ä¹‰ ç¤ºä¾‹ ^2.2.1 æŒ‡å®šçš„ MAJOR ç‰ˆæœ¬å·ä¸‹ï¼Œæ‰€æœ‰æ›´æ–°çš„ç‰ˆæœ¬ åŒ¹é… 2.2.3ï¼Œ2.3.0ï¼›ä¸åŒ¹é… 1.0.3ï¼Œ3.0.1 ~2.2.1 æŒ‡å®š MAJOR.MINOR ç‰ˆæœ¬å·ä¸‹ï¼Œæ‰€æœ‰æ›´æ–°çš„ç‰ˆæœ¬ åŒ¹é… 2.2.3ï¼Œ2.2.9ï¼›ä¸åŒ¹é… 2.3.0ï¼Œ2.3.5 &gt;=2.1 ç‰ˆæœ¬å·å¤§äºæˆ–ç­‰äº 2.1.0 åŒ¹é… 2.1.2ï¼Œ3.1ï¼› &lt;=2.2 ç‰ˆæœ¬å·å°äºæˆ–ç­‰äº 2.2 åŒ¹é… 1.0.0ï¼Œ2.2.1ï¼Œ2.2.11 1.0.0 - 2.0.0 ç‰ˆæœ¬å·ä» 1.0.0(åŒ…å«) åˆ° 2.0.0(åŒ…å«) åŒ¹é… 1.0.0ï¼Œ1.3.4ï¼Œ2.0.0 ä»»æ„ä¸¤æ¡è§„åˆ™ï¼Œé€šè¿‡ç©ºæ ¼è¿æ¥èµ·æ¥ï¼Œè¡¨ç¤ºâ€ä¸â€é€»è¾‘ï¼Œå³ä¸¤æ¡è§„åˆ™çš„äº¤é›†ï¼š å¦‚ &gt;=2.3.1 &lt;=2.8.0 å¯ä»¥è§£è¯»ä¸ºï¼š&gt;=2.3.1 ä¸” &lt;=2.8.0ã€‚ åŒ¹é… 2.3.1ï¼Œ2.4.5ï¼Œ2.8.0 ä¸åŒ¹é… 1.0.0ï¼Œ2.3.0ï¼Œ2.8.1ï¼Œ3.0.0 ä»»æ„ä¸¤æ¡è§„åˆ™ï¼Œé€šè¿‡ || è¿æ¥èµ·æ¥ï¼Œè¡¨ç¤ºâ€æˆ–â€é€»è¾‘ï¼Œå³ä¸¤æ¡è§„åˆ™çš„å¹¶é›†ï¼š å¦‚ ^2 &gt;=2.3.1 || ^3 &gt;3.2 åŒ¹é… 2.3.1ï¼Œ2.8.1ï¼Œ3.3.1 ä¸åŒ¹é… 1.0.0ï¼Œ2.2.0ï¼Œ3.1.0ï¼Œ4.0.0 PSï¼šå¤„ç†è¿™å‡ ç§ï¼Œè¿˜æœ‰å¦‚ä¸‹æ›´ç›´è§‚çš„è¡¨ç¤ºç‰ˆæœ¬å·èŒƒå›´çš„å†™æ³•ï¼š * æˆ– x åŒ¹é…å¾å¶æœ‰ä¸»ç‰ˆæœ¬ 1 æˆ– 1.x åŒ¹é…ä¸»ç‰ˆæœ¬ä¸º 1 çš„æ‰€æœ‰ç‰ˆæœ¬ 1.2 æˆ– 1.2.x åŒ¹é…ç‰ˆæœ¬å·ä¸º 1.2 å¼€å¤´çš„æ‰€æœ‰ç‰ˆæœ¬ PPSï¼šåœ¨å¸¸è§„ä»…åŒ…å«æ•°å­—çš„ç‰ˆæœ¬å·ä¹‹å¤–ï¼Œsemver è¿˜å…è®¸åœ¨ MAJOR.MONOR.PATCH åè¿½åŠ  - åè·Ÿç‚¹å·åˆ†éš”çš„æ ‡ç­¾ï¼Œä½œä¸ºé¢„å‘å¸ƒç‰ˆæœ¬æ ‡ç­¾ - Prerelese Tagsï¼Œé€šå¸¸è¢«è§†ä¸ºä¸ç¨³å®šã€ä¸å»ºè®®ç”Ÿäº§ç¯å¢ƒä½¿ç”¨çš„ç‰ˆæœ¬ã€‚ä¾‹å¦‚ï¼š 1.0.0-alpha 1.0.0-beta.1 1.0.0-rc.3 ä¸Šè¡¨ä¸­æˆ‘ä»¬æœ€å¸¸è§çš„æ˜¯ ^1.8.11 è¿™ç§æ ¼å¼çš„ rangeï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨ npm install &lt;package&gt; å®‰è£…ä¾èµ–åŒ…æ—¶ï¼Œnpm é»˜è®¤å®‰è£…å½“å‰æœ€æ–°ç‰ˆæœ¬ï¼Œä¾‹å¦‚ 1.8.11ï¼Œç„¶ååœ¨æ‰€å®‰è£…çš„ç‰ˆæœ¬å·å‰åŠ  ^ å·ï¼Œå°† ^1.8.11 å†™å…¥ package.json ä¾èµ–é…ç½®ï¼Œæ„å‘³ç€å¯ä»¥åŒ¹é… 1.8.11 ä»¥ä¸Šï¼Œ2.0.0 ä»¥ä¸‹æ‰€æœ‰çš„ç‰ˆæœ¬ã€‚ 4.2 ä¾èµ–ç‰ˆæœ¬å‡çº§åœ¨å®‰è£…å®Œä¸€ä¸ªä¾èµ–åŒ…ä¹‹ååˆæ–°ç‰ˆæœ¬å‘å¸ƒäº†ï¼Œå¦‚ä½•ä½¿ç”¨ npm è¿›è¡Œç‰ˆæœ¬å‡çº§å‘¢ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼šnpm install æˆ– npm update å³å¯ã€‚ä½†åœ¨ä¸åŒ npm ç‰ˆæœ¬ï¼Œä¸åŒçš„ package.jsonï¼Œpackage-lock.json æ–‡ä»¶ï¼Œå®‰è£…å‡çº§çš„è¡¨ç°ä¹Ÿä¸åŒã€‚ è¿˜æ˜¯ä»¥ webpack ä¸ºä¾‹ï¼Œåšå¦‚ä¸‹å‰æå‡è®¾: å·¥ç¨‹é¡¹ç›® app ä¾èµ– webpack é¡¹ç›®æœ€åˆå§‹åŒ–æ—¶ï¼Œå®‰è£…äº†å½“æ—¶æœ€æ–°çš„åŒ… webpack@1.8.0ï¼Œå¹¶ä¸” package.json ä¸­ä¾èµ–é…ç½®ä¸ºï¼š&quot;webpack&quot;: &quot;^1.8.0&quot; å½“å‰ï¼ˆ2018å¹´3æœˆï¼‰webpack æœ€æ–°ç‰ˆæœ¬ä¸º 4.2.0ï¼Œwebpack 1.x çš„æœ€æ–°å­ç‰ˆæœ¬ä¸º 1.15.0 å¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ npm3ï¼Œå¹¶ä¸”é¡¹ç›®ä¸åŒ…å« package-lock.jsonï¼Œé‚£ä¹ˆæ ¹æ® node_modules æ˜¯å¦ä¸ºç©ºï¼Œæ‰§è¡Œ install/update ç»“æœå¦‚ä¸‹ï¼ˆnode 6.13.1, npm 3.10.10 ç¯å¢ƒä¸‹æµ‹è¯•ï¼‰ï¼š id package.json(BEFORE) node_modules(BEFORE) command(npm 3) package.json(AFTER) node_modules(AFTER) a) webpack: ^1.8.0 webpack@1.8.0 install webpack: ^1.8.0 webpack@1.8.0 b) webpack: ^1.8.0 ç©º install webpack: ^1.8.0 webpack@1.15.0 c) webpack: ^1.8.0 webpack@1.8.0 update webpack: ^1.8.0 webpack@1.15.0 d) webpack: ^1.8.0 ç©º update webpack: ^1.8.0 webpack@1.15.0 æ ¹æ®ä¸Šè¡¨å¯ä»¥å¯¹ npm3 åšå‡ºä»¥ä¸‹ç»“è®ºï¼š å¦‚æœæœ¬åœ° node_modules å·²å®‰è£…ï¼Œå†æ¬¡æ‰§è¡Œ install ä¸ä¼šæ›´æ–°åŒ…ç‰ˆæœ¬ï¼Œæ‰§è¡Œ update æ‰ä¼šæ›´æ–°ï¼›è€Œå¦‚æœæœ¬åœ° node_modules ä¸ºç©ºæ—¶ï¼Œæ‰§è¡Œ install/update éƒ½ä¼šç›´æ¥å®‰è£…æ›´æ–°åŒ…ï¼› npm update æ€»ä¼šæŠŠåŒ…æ›´æ–°åˆ°ç¬¦åˆ package.json ä¸­æŒ‡å®šçš„ semver çš„æœ€æ–°ç‰ˆæœ¬â€”â€”æœ¬ä¾‹ä¸­ç¬¦åˆ ^1.8.0 çš„æœ€æ–°ç‰ˆæœ¬ä¸º 1.15.90 ä¸€æ—¦ç»™å®š package.jsonï¼Œæ— è®ºåé¢æ‰§è¡Œ npm install è¿˜æ˜¯ updateï¼Œpackage.json ä¸­çš„ webpack ç‰ˆæœ¬ä¸€ç›´ä¿æŒå¼€å§‹çš„ ^1.8.0 ä¸å˜ è¿™é‡Œä¸åˆç†çš„åœ°æ–¹åœ¨äºï¼Œå¦‚æœæœ€å¼€å§‹å›¢é˜Ÿä¸­ç¬¬ä¸€ä¸ªäººå®‰è£…äº† webpack@1.8.0ï¼Œè€Œæ–°åŠ å…¥é¡¹ç›®çš„æˆå‘˜ï¼Œcheckout å·¥ç¨‹ä»£ç åï¼Œæ‰§è¡Œ npm install ä¼šå®‰è£…å¾—åˆ°ä¸å¤ªä¸€æ ·çš„ 1.15.0 ç‰ˆæœ¬ã€‚è™½ç„¶ semver çº¦å®šäº†å°ç‰ˆæœ¬å·åº”å½“å‘ä¸‹å…¼å®¹ï¼ˆç›¸åŒå¤§ç‰ˆæœ¬å·ä¸‹çš„å°ç‰ˆæœ¬å·å…¼å®¹ï¼‰ï¼Œä½†ä¸‡ä¸€æœ‰ä¸ç†Ÿæ‚‰ä¸éµå®ˆæ­¤çº¦å®šçš„åŒ…å‘å¸ƒè€…ï¼Œå‘å¸ƒäº†ä¸å…¼å®¹çš„åŒ…ï¼Œæ­¤æ—¶å°±å¯èƒ½å‡ºç°å› ä¾èµ–ç¯å¢ƒä¸åŒå¯¼è‡´çš„ bugã€‚ å¦‚æœæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ npm5ï¼Œå¹¶ä¸”é¡¹ç›®åŒ…å« package-lock.json æ–‡ä»¶ï¼Œé‚£ä¹ˆæ ¹æ® node_modules æ˜¯å¦ä¸ºç©ºï¼Œæ‰§è¡Œ install/update ç»“æœå¦‚ä¸‹ï¼ˆnode 9.8.0, npm 5.7.1 ç¯å¢ƒä¸‹æµ‹è¯•ï¼‰ï¼š id package.json(BEFORE) node_modules(BEFORE) package-lock(BEFORE) command(npm 3) package.json(AFTER) node_modules(AFTER) a) webpack: ^1.8.0 webpack@1.8.0 @1.8.0 install webpack: ^1.8.0 webpack@1.8.0 b) webpack: ^1.8.0 ç©º @1.8.0 install webpack: ^1.8.0 webpack@1.8.0 c) webpack: ^1.8.0 webpack@1.8.0 @1.8.0 update webpack: ^1.15.0 webpack@1.15.0 d) webpack: ^1.8.0 ç©º @1.8.0 update webpack: ^1.8.0 webpack@1.15.0 e) webpack: ^1.15.0 webpack@1.8.0(æ—§) @1.15.0 update webpack: ^1.15.0 webpack@1.15.0 f) webpack: ^1.15.0 webpack@1.8.0(æ—§) @1.15.0 update webpack: ^1.15.0 webpack@1.15.0 ä¸ npm3 ç›¸æ¯”ï¼Œåœ¨å®‰è£…å’Œæ›´æ–°ä¾èµ–ç‰ˆæœ¬ä¸Šä¸»è¦çš„åŒºåˆ«ä¸ºï¼š æ— è®ºä½•æ—¶æ‰§è¡Œ installï¼Œnpm éƒ½ä¼šä¼˜å…ˆæŒ‰ç…§ package-lock ä¸­æŒ‡å®šçš„ç‰ˆæœ¬æ¥å®‰è£… webpackï¼Œé¿å…äº† npm3 è¡¨ä¸­æƒ…å†µ(b)çš„å‡ºç° æ— è®ºä½•æ—¶æ‰§è¡Œ install/updateï¼Œpackage-lock æ–‡ä»¶æ€»ä¼šè·Ÿç€ node_modules æ›´æ–°ï¼ˆå› æ­¤å¯ä»¥è§† package-lock æ–‡ä»¶ä¸º node_modules çš„ JSON è¡¨è¿°ï¼‰ å·²å®‰è£… node_modules åè‹¥æ‰§è¡Œ npm updateï¼Œpackage.json ä¸­ç‰ˆæœ¬å·ä¹Ÿä¼šéšä¹‹æ›´æ”¹ä¸º ^1.15.0 ç”±æ­¤å¯è§ï¼Œnpm5.1 ä½¿å¾— package.json å’Œ package-lock.json ä¸­æ‰€ä¿å­˜çš„ç‰ˆæœ¬å·æ›´åŠ ç»Ÿä¸€ï¼Œè§£å†³äº† npm ä¹‹å‰çš„å„ç§é—®é¢˜ã€‚åªè¦å‡†å¯»å¥½çš„å®è·µä¹ æƒ¯ï¼Œå›¢é˜Ÿæˆå‘˜å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ç»´æŠ¤ä¸€å¥—åº”ç”¨ä»£ç å’Œ node_modules ä¾èµ–éƒ½ä¸€è‡´çš„ç¯å¢ƒã€‚ 4.3 æœ€ä½³å®è·µ ä½¿ç”¨ npm: &gt;=5.1 ç‰ˆæœ¬ï¼Œä¿æŒ package-lock.json æ–‡ä»¶é»˜è®¤å¼€å¯é…ç½® åˆå§‹åŒ–ï¼šç¬¬ä¸€ä½œè€…åˆå§‹åŒ–é¡¹ç›®æ—¶ä½¿ç”¨ npm install &lt;package&gt; å®‰è£…ä¾èµ–åŒ…ï¼Œé»˜è®¤ä¿å­˜ ^X.Y.Z ä¾èµ– range åˆ° package.json ä¸­ï¼›æäº¤ package.jsonï¼Œpacakge-lock.jsonï¼Œä¸æäº¤ node_modules ç›®å½•ã€‚ åˆå§‹åŒ–ï¼šé¡¹ç›®æˆå‘˜é¦–æ¬¡ checkout/clone é¡¹ç›®ä»£ç åï¼Œæ‰§è¡Œä¸€æ¬¡ npm install å®‰è£…ä¾èµ–åŒ… ä¸è¦æ‰‹åŠ¨ä¿®æ”¹ package-lock.json æ–‡ä»¶ å‡çº§ä¾èµ–åŒ…ï¼š å‡çº§å°ç‰ˆæœ¬ï¼šæœ¬åœ°æ‰§è¡Œ npm update å‡çº§åˆ°æ–°çš„å°ç‰ˆæœ¬ å‡çº§å¤§ç‰ˆæœ¬ï¼šæœ¬åœ°æ‰§è¡Œ npm install &lt;package-name&gt;@&lt;version&gt; å‡çº§åˆ°æ–°çš„å¤§ç‰ˆæœ¬ ä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¿®æ”¹ package.json ä¸­ç‰ˆæœ¬å·ä¸ºè¦å‡çº§çš„ç‰ˆæœ¬ï¼ˆå¤§äºç°æœ‰ç‰ˆæœ¬å·ï¼‰å¹¶æŒ‡å®šæ‰€éœ€çš„ semverï¼Œç„¶åæ‰§è¡Œ npm install æœ¬åœ°éªŒè¯å‡çº§åæ–°ç‰ˆæœ¬æ— é—®é¢˜åï¼Œæäº¤æ–°çš„ package.jsonï¼Œpackage-lock.json æ–‡ä»¶ é™çº§ä¾èµ–åŒ…ï¼š æ­£ç¡®ï¼šnpm install &lt;package-name&gt;@&lt;version&gt; éªŒè¯æ— é—®é¢˜åï¼Œæäº¤æ–°çš„ package.jsonï¼Œpackage-lock.jsonæ–‡ä»¶ é”™è¯¯ï¼šæ‰‹åŠ¨ä¿®æ”¹ package.json ä¸­çš„ç‰ˆæœ¬å·ä¸ºæ›´ä½çš„ç‰ˆæœ¬ semverï¼Œè¿™æ ·ä¿®æ”¹å¹¶ä¸ä¼šç”Ÿæ•ˆï¼Œå› ä¸ºå†æ¬¡æ‰§è¡Œ npm install ä¾ç„¶ä¼šå®‰è£… package-lock.json ä¸­é”å®šçš„ç‰ˆæœ¬ åˆ é™¤ä¾èµ–åŒ…ï¼š æ–¹æ¡ˆ1ï¼šnpm uninstall &lt;package&gt; å¹¶æäº¤ package.jsonï¼Œpackage-lock.json æ–‡ä»¶ æ–¹æ¡ˆ2ï¼š æŠŠè¦å¸è½½çš„åŒ…ä» package.json ä¸­ dependencies å­—æ®µåˆ é™¤ï¼Œç„¶åæ‰§è¡Œ npm intall å¹¶æäº¤ package.jsonï¼Œpackage-lock.json æ–‡ä»¶ ä»»ä½•æ—¶å€™æœ‰äººæäº¤äº† package.jsonï¼Œpackage-lock.json æ›´æ–°åï¼Œå›¢é˜Ÿå…¶ä»–æˆå‘˜åº”è¯¥åœ¨æ‹‰å–æœ€æ–°ä»£ç åæ‰§è¡Œ npm install å®‰è£…æ›´æ–°åçš„ä¾èµ–åŒ… 5. npm scripts5.1 åŸºæœ¬ä½¿ç”¨npm scripts æ˜¯ npm å¦ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§ã€‚é€šè¿‡ package.json ä¸­ scripts å­—æ®µå®šä¹‰ä¸€ä¸ªæ…æ‹Œï¼Œä¾‹å¦‚ï¼š 12345&#123; \"scripts\": &#123; \"echo\": \"echo hello world\" &#125;&#125; æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ npm run echo å‘½ä»¤æ¥æ‰§è¡Œè¿™æ®µè„šæœ¬ï¼Œåƒåœ¨ shell ä¸­æ‰§è¡Œå‘½ä»¤ echo hello world ä¸€æ ·ï¼Œçœ‹åˆ°ç»ˆç«¯è¾“å‡º hello world npm scripts æä¾›äº†ä¸€ä¸ªç®€å•çš„æ¥å£æ¥è°ƒç”¨å·¥ç¨‹ç›¸å…³çš„è„šæœ¬ã€‚å…³äºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œå¯ä»¥å‚è€ƒé˜®ä¸€å³°è€å¸ˆçš„æ–‡ç« npm scripts ä½¿ç”¨æŒ‡å— æ€»ç»“é˜®ä¸€å³°è€å¸ˆæ–‡ç« å†…å®¹ï¼š npm run å‘½ä»¤æ‰§è¡Œæ—¶ï¼Œä¼šæŠŠ ./node_modules/.bin/ ç›®å½•æ·»åŠ åˆ°æ‰§è¡Œç¯å¢ƒçš„ PATH å˜é‡ä¸­ï¼Œå› æ­¤å¦‚æœæŸä¸ªå‘½ä»¤è¡ŒåŒ…æ²¡æœ‰å…¨å±€å®‰è£…ï¼Œè€Œåªå®‰è£…åœ¨äº†å½“å‰é¡¹ç›®çš„ node_modules ä¸­ï¼Œé€šè¿‡ npm run ä¸€æ ·å¯ä»¥è°ƒç”¨è¯¥å‘½ä»¤ æ‰§è¡Œ npm è„šæœ¬æ—¶è¦ä¼ å…¥å‚æ•°ï¼Œéœ€è¦åœ¨å‘½ä»¤ååŠ  -- æ ‡æ˜ï¼Œå¦‚ npm run test -- --grep=&quot;pattern&quot; å¯ä»¥å°† --grep=&quot;pattern&quot; å‚æ•°ä¼ é€’ç»™ test å‘½ä»¤ npm æä¾›äº† pre å’Œ post ä¸¤ä¸ªé’©å­æœºåˆ¶ï¼Œå¯ä»¥å®šä¹‰æŸä¸ªè„šæœ¬æ‰§è¡Œå‰åçš„æ‰€è¦æ‰§è¡Œçš„è„šæœ¬ è¿è¡Œæ—¶å˜é‡ï¼šåœ¨ npm run çš„è„šæœ¬æ‰§è¡Œç¯å¢ƒå†…ï¼Œå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡çš„æ–¹å¼è·å–è®¸å¤šè¿è¡Œæ—¶ç›¸å…³ä¿¡æ¯ï¼Œä»¥ä¸‹éƒ½å¯ä»¥é€šè¿‡ process.env å¯¹è±¡è®¿é—®è·å¾—ï¼š npm_lifecycle_event â€”â€”æ­£åœ¨è¿è¡Œçš„è„šæœ¬åç§° npm_package_&lt;key&gt; â€”â€”è·å–å½“å‰åŒ… package.json ä¸­æŸä¸ªå­—æ®µçš„é…ç½®å€¼ï¼šå¦‚ npm_package_name è·å–æŠ¥å npm_package_&lt;key&gt;_&lt;sub-key&gt; â€”â€” package.json ä¸­åµŒå¥—å­—æ®µå±æ€§ï¼šå¦‚ npm_package_dependencies_webpack å¯ä»¥è·å–åˆ° package.json ä¸­çš„ dependencies.webpack å­—æ®µçš„å€¼ï¼ŒåŠ webpack çš„ç‰ˆæœ¬å· 5.2 node_modules/.bin ç›®å½•ä¸Šé¢æ‰€è¯´çš„ node_module/.bin ç›®å½•ï¼Œä¿å­˜äº†ä¾èµ–ç›®å½•ä¸­æ‰€å®‰è£…çš„å¯ä¾›è°ƒç”¨çš„å‘½ä»¤è¡ŒåŒ… ä½•è°“å‘½ä»¤è¡ŒåŒ…ï¼Ÿä¾‹å¦‚ webpack å°±å±äºä¸€ä¸ªå‘½ä»¤è¡ŒåŒ…ã€‚å¦‚æœæˆ‘ä»¬åœ¨å®‰è£… webpack æ—¶æ·»åŠ  --global å‚æ•°ï¼Œå°±å¯ä»¥åœ¨ç»ˆç«¯ç›´æ¥è¾“å…¥ webpack è¿›è¡Œè°ƒç”¨ã€‚ä½†å¦‚æœä¸åŠ  --global å‚æ•°ï¼Œæˆ‘ä»¬ä¼šåœ¨ node_moldues/.bin ç›®å½•é‡Œçœ‹åˆ°åä¸º webpack çš„æ–‡ä»¶ï¼Œå¦‚æœåœ¨ç»ˆç«¯ç›´æ¥è¾“å…¥ ./node_modules/.bin/webpack å‘½ä»¤ï¼Œä¸€æ ·å¯ä»¥æ‰§è¡Œã€‚ è¿™æ˜¯å› ä¸º webpack åœ¨ package.json æ–‡ä»¶ä¸­å®šä¹‰äº† bin å­—æ®µä¸ºï¼š 12345&#123; \"bin\": &#123; \"webpack\": \"./bin/webpack.js\" &#125;&#125; bin å­—æ®µçš„é…ç½®æ ¼å¼ä¸ºï¼š&lt;command&gt;: &lt;file&gt;ï¼Œå³å‘½ä»¤å: å¯æ‰§è¡Œæ–‡ä»¶ã€‚npm æ‰§è¡Œ install æ—¶ï¼Œä¼šåˆ†ææ¯ä¸ªä¾èµ–åŒ…çš„ package.json ä¸­ bin å­—æ®µï¼Œå¹¶å°†å…¶åŒ…å«çš„æ¡ç›®å®‰è£…åˆ° ./node_modules/.bin ç›®å½•ä¸­ï¼Œæ–‡ä»¶åä¸º &lt;command&gt;ã€‚è€Œå¦‚æœæ˜¯å…¨å±€æ¨¡å¼å®‰è£…ï¼Œåˆ™ä¼šåœ¨ npm å…¨å±€å®‰è£…è·¯å¾„çš„ bin ç›®å½•ä¸‹åˆ›å»ºæŒ‡å‘ &lt;file&gt; åä¸º &lt;command&gt; çš„è½¯è¿æ¥ã€‚å› æ­¤ï¼Œ,.node_modules/.bin/webpack æ–‡ä»¶åœ¨é€šè¿‡å‘½ä»¤è¡Œè°ƒç”¨æ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯æ‰§è¡Œ node ./node_modules/.bin/webppack.js å‘½ä»¤ æ­£å¦‚ä¸Šä¸€èŠ‚æ‰€è¯´ï¼Œnpm run å‘½ä»¤åœ¨æ‰§è¡Œæ—¶ä¼šæŠŠ ./node_modules/.bin åŠ å…¥åˆ° PATH ä¸­ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ç›´æ¥è°ƒç”¨æ‰€æœ‰æä¾›äº†å‘½ä»¤è¡Œè°ƒç”¨æ¥å£çš„ä¾èµ–åŒ…ã€‚æ‰€ä»¥æœ€ä½³çš„å®è·µæ˜¯ï¼š å°†é¡¹ç›®ä¾èµ–çš„å‘½ä»¤è¡Œå·¥å…·å®‰è£…åˆ°é¡¹ç›®ä¾èµ–æ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åé€šè¿‡ npm scripts è°ƒç”¨ï¼Œè€Œéå…¨å±€å®‰è£… ä¸¾ä¾‹è€Œè¨€ï¼Œwebpack ä½œä¸ºå‰ç«¯æœ€å¸¸ç”¨çš„æ„å»ºå·¥å…·ï¼Œè™½ç„¶æˆ‘ä»¬éƒ½ä¹ æƒ¯äº†å…¨å±€å®‰è£…å¹¶ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œè°ƒç”¨ï¼Œä½†ä¸åŒçš„é¡¹ç›®ä¾èµ–çš„ webpack ç‰ˆæœ¬å¯èƒ½ä¸åŒï¼Œå“åº”çš„ webpack.config.js é…ç½®æ–‡ä»¶ä¹Ÿå¯èƒ½åªå…¼å®¹äº†ç‰¹å®šç‰ˆæœ¬çš„ webpackï¼Œå¦‚æœæˆ‘ä»¬ä»…ä»…å…¨å±€å®‰è£…äº†ç½ªè¡Œçš„ webpack4.xï¼Œå¹¶ä½¿ç”¨ webpack å‘½ä»¤è°ƒç”¨ï¼Œåœ¨ä¸€ä¸ªä¾èµ– webpack3.x çš„å·¥ç¨‹ä¸­å°±ä¼šæ— æ³•æˆåŠŸæ‰§è¡Œæ„å»º ä½†å¦‚æœè¿™ç±»å·¥å…·æ€»æ˜¯æœ¬åœ°å®‰è£…ï¼Œæˆ‘ä»¬è¦è°ƒç”¨ä¸€ä¸ªå‘½ä»¤ï¼Œè¦æ‰‹åŠ¨æ·»åŠ  ./node_modules/.bin è¿™ä¸ªå¾ˆé•¿çš„å‰ç¼€ï¼Œæœªå…å°±å¤ªéº»çƒ¦äº†ï¼Œäºæ˜¯ npm ä» 5.2 ç‰ˆæœ¬å¼€å§‹è‡ªå¸¦äº†ä¸€ä¸ªæ–°çš„å·¥å…·ï¼šnpx 5.3 npxnpx çš„ä½¿ç”¨å¾ˆç®€å•ï¼Œæ‰§è¡Œ npx &lt;command&gt; å³å¯ï¼Œè¿™é‡Œçš„ &lt;command&gt; é»˜è®¤å°±æ˜¯ ./node_modules ç›®å½•ä¸­å®‰è£…çš„å¯æ‰§è¡Œè„šæœ¬åã€‚ä¾‹å¦‚ä¸Šé¢æœ¬åœ°å®‰è£…åçš„ webpack åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ npx webpack æ‰§è¡Œå³å¯ å¤„ç†è¿™ç§æœ€ç®€å•çš„åœºæ™¯ï¼Œnpm cli å›¢é˜Ÿå¼€å‘è€… Kat Marchan è¿˜åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä»‹ç»äº†å…¶ä»–å‡ ç§ npx çš„ç”¨æ³•ï¼šIntroducing npx: an npm package runnerï¼Œå›½å†…ä¹Ÿæœ‰ä½å¼€å‘è€… robin.law å°†åŸæ–‡ç¿»è¯‘ä¸ºä¸­æ–‡ï¼šnpxæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆéœ€è¦npx? æ€»ç»“ï¼š åœºæ™¯Aï¼šä¸€é”®æ‰§è¡Œè¿œç¨‹ npm æºçš„äºŒè¿›åˆ¶åŒ… é™¤äº†åœ¨ package ä¸­æ‰§è¡Œ ./node_modules/.bin ä¸­å·²ç»å®‰è£…çš„å‘½ä»¤ï¼Œè¿˜å¯ä»¥ç›´æ¥æŒ‡å®šæœªå®‰è£…çš„äºŒè¿›åˆ¶åŒ…åæ‰§è¡Œã€‚ä¾‹å¦‚æˆ‘ä»¬åœ¨ä¸€ä¸ªæ²¡æœ‰ package.json ä¹Ÿæ²¡æœ‰ node_modules çš„ç›®å½•ä¸‹ï¼Œæ‰§è¡Œï¼š 1npx cowsay hello npx å°†ä¼šä» npm æºä¸‹è½½ cowsay è¿™ä¸ªåŒ…ï¼ˆä½†ä¸å®‰è£…ï¼‰å¹¶æ‰§è¡Œï¼š 12345678 _______ &lt; hello &gt; ------- \\ ^__^ \\ (oo)\\_______ (__)\\ )\\&#x2F;\\ ||----w | || || è¿™ç§ç”¨é€”éå¸¸é€‚åˆçš„åœºæ™¯ï¼š åœ¨æœ¬åœ°ç®€å•æµ‹è¯•æˆ–è°ƒè¯• npm æºä¸Šè¿™äº›äºŒè¿›åˆ¶åŒ…çš„åŠŸèƒ½ è°ƒç”¨ create-react-app æˆ– yeoman è¿™ç±»å¾€å¾€æ¯ä¸ªé¡¹ç›®åªéœ€è¦ä½¿ç”¨ä¸€æ¬¡çš„è„šæ‰‹æ¶å·¥å…· åœºæ™¯Bï¼šä¸€å»ºæ‰§è¡Œ GitHub Gist åœ¨ [2.1 package å®šä¹‰] è¿™ä¸€èŠ‚ä¸­ï¼Œnpm install &lt;package&gt; å¯ä»¥ä½¿åŒ…å«äº†æœ‰æ•ˆ package.json çš„ git url è€Œ GitHub Gist ä¹Ÿæ˜¯ git ä»“åº“çš„ä¸€ç§ï¼Œé›†åˆ npx å°±å¯ä»¥æ–¹ä¾¿åœ°å°†ç®€å•çš„è„šæœ¬å…±äº«ç»™å…¶ä»–äººï¼Œç”¨äºè¯¥é“¾æ¥çš„äººæ— éœ€å°†è„šæœ¬å®‰è£…åˆ°æœ¬åœ°å·¥ä½œç›®å½•ä¹Ÿå¯ä»¥æ‰§è¡Œã€‚å°† package.json å’Œéœ€è¦æ‰§è¡Œçš„äºŒè¿›åˆ¶è„šæœ¬ä¸Šä¼ è‡³ Gistï¼Œå†è¿è¡Œ npx &lt;gist url&gt; å°±å¯ä»¥æ–¹ä¾¿åœ°æ‰§è¡Œè¯¥ Gist å®šä¹‰çš„å‘½ä»¤ åŸæ–‡ä½œè€… Kat Marchan æä¾›äº† ç¤ºä¾‹ï¼Œæ‰§è¡Œï¼š 1npx https:&#x2F;&#x2F;gist.github.com&#x2F;zkat&#x2F;4bc19503fe9e9309e2bfaa2c58074d32 å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ¥è‡ª GitHub Gist çš„ hello world é—®å€™ åœºæ™¯Cï¼šä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ node æ‰§è¡Œå‘½ä»¤ å°† npx ä¸ Aria Stewart åˆ›å»ºçš„ node åŒ…(https://www.npmjs.com/package/node) ç»“åˆï¼Œå¯ä»¥å®ç°åœ¨ä¸€è¡Œå‘½ä»¤ä¸­ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬çš„ node æ‰§è¡Œå‘½ä»¤ ä¾‹å¦‚å…ˆåæ‰§è¡Œï¼š 12npx node@4 -e &quot;console.log(process.version)&quot;npx node@6 -e &quot;console.log(process.version)&quot; å°†åˆ†åˆ«è¾“å‡º v4.8.7 å’Œ v6.13.0 å¾€å¸¸è¿™ç§å·¥ä½œæ˜¯ç”± nvm è¿™ç±» node ç‰ˆæœ¬ç®¡ç†å·¥å…·æ¥åšçš„ï¼Œä½† npx node@4 è¿™ç§æ–¹å¼å…å»äº† nvm æ‰‹åŠ¨åˆ‡æ¢é…ç½®çš„æ­¥éª¤ï¼Œæ›´åŠ ç®€æ´ç®€å• 6. npm é…ç½®6.1 npm confignpm cli æä¾›äº† npm config å‘½ä»¤è¿›è¡Œ npm ç›¸å…³é…ç½®ï¼Œé€šè¿‡ npm config ls -l å¯æŸ¥çœ‹ npm çš„æ‰€æœ‰é…ç½®ï¼ŒåŒ…æ‹¬é»˜è®¤é…ç½®ã€‚npm æ–‡æ¡£é¡µä¸ºæ¯ä¸ªé…ç½®é¡¹æä¾›äº†è¯¦ç»†çš„è¯´æ˜ https://docs.npmjs.com/misc/config ä¿®æ”¹é…ç½®çš„å‘½ä»¤ä¸ºï¼šnpm config set &lt;ket&gt; &lt;value&gt;ï¼Œæˆ‘ä»¬ä½¿ç”¨ç›¸å…³çš„å¸¸è§é‡è¦é…ç½®ï¼š proxyï¼Œhttps-procy â€”â€”æŒ‡å®š npm ä½¿ç”¨çš„ä»£ç† registry â€”â€”æŒ‡å®š npm ä¸‹è½½å®‰è£…æ—¶çš„æºï¼Œé»˜è®¤ä¸º https://registry.npmjs.org/ï¼Œå¯ä»¥æŒ‡å®šç§æœ‰çš„ Registry æº package-lock â€”â€”æŒ‡å®šæ˜¯å¦é»˜è®¤ç”Ÿæˆ package-lock æ–‡ä»¶ï¼Œå»ºè®®ä¿æŒé»˜è®¤ true save â€”â€” true/false æŒ‡å®šæ˜¯å¦åœ¨ npm install åä¿å­˜ä¾èµ–åŒ…ä¸º dependenciesï¼Œnpm5 èµ·é»˜è®¤ä¸º true åˆ é™¤æŒ‡å®šçš„é…ç½®é¡¹å‘½ä»¤ä¸ºï¼šnpm config delete &lt;key&gt; 6.2 npmrc æ–‡ä»¶é™¤äº†ä½¿ç”¨ CLI æä¾›çš„ npm config å‘½ä»¤æ˜¾ç¤ºæ›´æ”¹ npm é…ç½®ï¼Œè¿˜å¯ä»¥é€šè¿‡ npmrc æ–‡ä»¶ç›´æ¥ä¿®æ”¹é…ç½® è¿™æ ·çš„ npmrc æ–‡ä»¶ä¼˜å…ˆçº§ç”±é«˜åˆ°ä½åŒ…æ‹¬ï¼š å·¥ç¨‹å†…é…ç½®æ–‡ä»¶ï¼š/path/to/my/project/.npmrc ç”¨æˆ·çº§é…ç½®æ–‡ä»¶ï¼š!/.npmrc å…¨å±€é…ç½®æ–‡ä»¶ï¼š$PREFIX/etc/npmrcï¼ˆå³ npm config get globalconfig è¾“å‡ºçš„è·¯å¾„ï¼‰ npm å†…ç½®é…ç½®æ–‡ä»¶ï¼špath/to/npm/npmrc é€šè¿‡è¿™ä¸ªæœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°åœ¨å·¥ç¨‹æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª .pnmrc æ–‡ä»¶æ¥å…±äº«éœ€è¦åœ¨å›¢é˜Ÿé—´å…±äº«çš„ npm è¿è¡Œç›¸å…³é…ç½®ã€‚æ¯”å¦‚å¦‚æœæˆ‘ä»¬åœ¨å…¬å¸å†…ç½‘ç¯å¢ƒä¸‹éœ€è¦é€šè¿‡ä»£ç†æ‰å¯ä»¥è®¿é—® registry.npmjs.org æºï¼Œæˆ–éœ€è¦è®¿é—®å†…ç½‘çš„ registryï¼Œå°±å¯ä»¥åœ¨å·¥ä½œé¡¹ç›®ä¸‹æ–°å¢ .npmrc æ–‡ä»¶å¹¶æäº¤ä»£ç  123proxy &#x3D; http:&#x2F;&#x2F;proxy.example.com&#x2F;https-proxy &#x3D; http:&#x2F;&#x2F;proxy.example.com&#x2F;registry &#x3D; http:&#x2F;&#x2F;registry.example.com&#x2F; å› ä¸ºé¡¹ç›®çº§ .pnmrc æ–‡ä»¶çš„ä½œç”¨åŸŸåªä½œç”¨åœ¨æœ¬é¡¹ç›®ä¸‹ï¼Œæ‰€ä»¥åœ¨éæœ¬ç›®å½•ä¸‹ï¼Œè¿™äº›é…ç½®å¹¶ä¸ç”Ÿæ•ˆã€‚å¯¹äºä½¿ç”¨ç¬”è®°æœ¬å·¥ä½œçš„å¼€å‘è€…ï¼Œå¯ä»¥å¾ˆå¥½åœ°éš”ç¦»å…¬å¸çš„å·¥ä½œé¡¹ç›®ã€åœ¨å®¶å­¦ä¹ ç ”ç©¶é¡¹ç›®ä¸¤ç§ä¸åŒçš„ç¯å¢ƒ å°†è¿™ä¸ªåŠŸèƒ½å·² ~/.npm-init.js é…ç½®ç›¸ç»“åˆï¼Œå¯ä»¥å°†ç‰¹å®šé…ç½®çš„ .npmrc è·Ÿ .gitignoreï¼ŒREADME ä¹‹ç±»çš„æ–‡ä»¶ä¸€èµ·åšåˆ° npm init è„šæ‰‹æ¶ä¸­ï¼Œè¿›ä¸€æ­¥å‡å°‘æ‰‹åŠ¨é…ç½®ã€‚ 6.3 node ç‰ˆæœ¬çº¦æŸè™½ç„¶ä¸€ä¸ªé¡¹ç›®çš„å›¢é˜Ÿéƒ½å…±äº«äº†ç›¸åŒçš„diamanteï¼Œä½†æ¯ä¸ªäººçš„å¼€å‘åŠå…¶å¯èƒ½å®‰è£…äº†ä¸åŒçš„ node ç‰ˆæœ¬ï¼Œæ­¤å¤–æœåŠ¡å™¨ç«¯çš„ç‰ˆæœ¬ä¹Ÿå¯èƒ½å’Œæœ¬åœ°å¼€å‘æœºå™¨ä¸ä¸€è‡´ è¿™åˆæ˜¯ä¸€ä¸ªå¯èƒ½å¸¦æ¥ä¸ä¸€è‡´æ€§çš„éšç§â€”â€”ä½†ä¹Ÿå¯ä»¥é€šè¿‡å£°æ˜å¼çº¦æŸ+è„šæœ¬é™åˆ¶æ¥è§£å†³ å£°æ˜ï¼šé€šè¿‡ package.json çš„ engines å±æ€§å£°æ˜åº”ç”¨è¿è¡Œæ‰€éœ€çš„ç‰ˆæœ¬è¿è¡Œæ—¶è¦æ±‚ã€‚ä¾‹å¦‚é¡¹ç›®ä¸­ä½¿ç”¨äº† asyncï¼Œawit ç‰¹æ€§ï¼ŒæŸ¥é˜…å…¼å®¹æ€§è¡¨æ ¼å¾—çŸ¥æœ€ä½æ”¯æŒç‰ˆæœ¬ä¸º 7.6.0ï¼Œå› æ­¤æŒ‡å®š engines é…ç½®ä¸ºï¼š 12345&#123; \"engines\": &#123; \"node\": \"&gt;=7.6.0\" &#125;&#125; å¼ºçº¦æŸ(å¯é€‰)ï¼šåœ¨ npm ä¸­ä»¥ä¸Šå­—æ®µå†…å®¹ä»…ä½œä¸ºå»ºè®®å­—æ®µä½¿ç”¨ï¼Œè‹¥è¦åœ¨ç§æœ‰é¡¹ç›®ä¸­æ·»åŠ å¼ºçº¦æŸï¼Œéœ€è¦è‡ªå·±å†™è„šæœ¬é’©å­ï¼Œè¯»å–å¹¶è§£æ engines å­—æ®µçš„ semver rang ï¼Œç„¶åä¸è¿è¡Œæ—¶ç¯å¢ƒåšå¯¹æ¯”æ ¡éªŒï¼Œåšé€‚å½“æé†’ 7. å°ç»“ npm æœ€ä½³å®è·µ ä½¿ç”¨ npm-init åˆå§‹åŒ–æ–°é¡¹ç›® ç»Ÿä¸€é¡¹ç›®é…ç½®ï¼šéœ€è¦å›¢é˜Ÿå…±äº«çš„ npm config é…ç½®é¡¹ï¼Œå›ºåŒ–åˆ° .npmrc æ–‡ä»¶ä¸­ ç»Ÿä¸€è¿è¡Œç¯å¢ƒï¼Œç»Ÿä¸€ package.jsonï¼Œpackage-lock.json æ–‡ä»¶ åˆç†ä½¿å¤šæ ·åŒ–çš„æºå®‰è£…ä¾èµ–åŒ…ï¼šnpm install &lt;git url&gt;|&lt;local file&gt; ä½¿ç”¨ npm: &gt;=5.2 ç‰ˆæœ¬ ä½¿ç”¨ npm scripts ä¸ npx(npm: &gt;=5.2) è„šæœ¬ç®¡ç†åº”ç”¨ç›¸å…³è„šæœ¬ 8. æ›´å¤šèµ„æ–™å‚è€ƒ npm team æˆå‘˜ Ashley Williams åœ¨ 2016 å¹´ Node.js Live çš„ talkï¼šYou Donâ€™t Know npmï¼Œå½“æ—¶è¿˜æ²¡æœ‰ npm5 YouTube è§†é¢‘è¿æ¥ï¼šNode.js Live (Paris) - Ashley Williams, You Donâ€™t Know npm æ¼”è®²ç”¨çš„ slidersï¼šthe ag_deck è¿™ç¯‡ 2015 å¹´çš„æ–‡ç« ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨æœ¬åœ°æ¨¡å—æ‰“åŒ… node_modules ä¾èµ–ï¼šBuild modular application with npm local modules ä¸€ç¯‡å¾ˆå¥½çš„ä»‹ç» package-lock.json çš„æ–‡ç« ï¼šEverything you wanted to know about package-lock.json é˜®ä¸€å³° npm scripts ä½¿ç”¨æŒ‡å— Kat Marchan ä»‹ç» npx: åŸæ–‡ï¼šIntroducing npx: an npm package runner ä¸­æ–‡ï¼šnpxæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆéœ€è¦npx? æ–‡æ¡£ npm å®˜æ–¹æ–‡æ¡£ï¼Œæ— ä¸­æ–‡ç¿»è¯‘ package.json æ–‡ä»¶ npm config é…ç½® npm semver è®¡ç®—å™¨ node_modules ç›®å½•æ‰å¹³åŒ– yarn ä¸­æ–‡æ–‡æ¡£ï¼Œè™½ç„¶æ˜¯ npm ç«äº‰è€…ä½†å…¼å®¹ package.json å’Œ node_modules ç›®å½•ï¼Œå› æ­¤è¿™ä¸¤éƒ¨åˆ†å¯ä»¥ä½œå‚è€ƒ package.json - ä¸­æ–‡ ä¾èµ–ä¸ç‰ˆæœ¬ - ä¸­æ–‡ å»¶ä¼¸é˜…è¯» sam boyer ã€Šæ‰€ä»¥ä½ æƒ³å¼€å‘ä¸€ä¸ªåŒ…ç®¡ç†ç³»ç»Ÿã€‹ï¼Œä»äº”å®˜ç‰¹å®šè¯­è¨€çš„è§’åº¦ï¼Œä»‹ç»ä¸€ä¸ªåŒ…ç®¡ç†ç³»ç»Ÿçš„æ–¹æ–¹é¢é¢ï¼šSo you want to write a package manager","categories":[],"tags":[{"name":"npm","slug":"npm","permalink":"http://yoursite.com/tags/npm/"}]},{"title":"å¸¸ç”¨ Git å‘½ä»¤","slug":"tech/frequently-git-command","date":"2020-02-02T08:16:19.376Z","updated":"2020-02-02T08:16:19.376Z","comments":true,"path":"2020/02/02/tech/frequently-git-command/","link":"","permalink":"http://yoursite.com/2020/02/02/tech/frequently-git-command/","excerpt":"","text":"åŸæ–‡é“¾æ¥ï¼šwww.ruanyifeng.com Git åŸºæœ¬çš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š å‡ ä¸ªä¸“ç”¨åè¯ï¼š Workspace: å·¥ä½œåŒº Index / Stage: æš‚å­˜åŒº Repository: ä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰ Remote: è¿œç¨‹ä»“åº“ ä¸€ã€æ–°å»ºä»£ç åº“12345678# åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ª Git ä»£ç åº“$ git init# æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸º Git ä»£ç åº“$ git init [project-name]# ä¸‹è½½ä¸€ä¸ªé¡¹ç›®å’Œä»–çš„æ•´ä¸ªä»£ç å†å²$ git clone [url] äºŒã€é…ç½®Git çš„è®¾ç½®æ–‡ä»¶ä¸º .gitconfigï¼Œä»–å¯ä»¥åœ¨ç”¨æˆ·ç›®å½•ä¸‹ï¼ˆå…¨å±€é…ç½®ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ç›®å½•ä¸‹ï¼ˆé¡¹ç›®é…ç½®ï¼‰ã€‚ 123456789# æ˜¾ç¤ºå½“å‰çš„ Git é…ç½®$ git config --list# ç¼–è¾‘ Git é…ç½®æ–‡ä»¶$ git config -e [--global]# è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯$ git config [--global] user.name &quot;[name]&quot;$ git config [--global] user.email &quot;[email address]&quot; ä¸‰ã€å¢åŠ /åˆ é™¤æ–‡ä»¶1234567891011121314151617# æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº$ git add [file1] [file2] ...# æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•$ git add [dir]# æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº$ git add .# åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº$ git rm [file1] [file2] ...#åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº$ git rm --cached [file]# æ”¹åæ–‡ä»¶ï¼Œå¹¶å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº$ git mv [file-original] [file-renamed] å››ã€ä»£ç æäº¤123456789101112131415161718# æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº$ git commit -m [message]# æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº$ git commit [file1] [file2] ... -m [message]# æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°æ®‹é…·å»$ git commit -a# æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰ diff ä¿¡æ¯$ git commit -v# ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡çš„æäº¤# å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡ commit çš„æäº¤ä¿¡æ¯$ git commit --amend -m [message]# é‡åšä¸€æ¬¡ commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–$ git commit --amend ... äº”ã€åˆ†æ”¯123456789101112131415161718192021222324252627282930313233343536373839# åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯$ git branch# åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯$ git branch -r# åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯$ git branch -a# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯$ git branch [branch-name]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯$ git checkout -b [branch]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šçš„ commit$ git branch [branch] [commit]# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»$ git branch -trach [branch] [remote-branch]# åœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´ï¼Œå»ºç«‹è¿½è¸ªå…³ç³»$ git branch --set-upstream [branch] [remote-branch]# åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº$ git checkout [branch-name]# åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯$ git merge [branch]# é€‰æ‹©ä¸€ä¸ª commitï¼Œåˆå¹¶åˆ°å½“å‰åˆ†æ”¯$ git cherry-pick [commit]# åˆ é™¤åˆ†æ”¯$ git branch -d [branch-name]# åˆ é™¤è¿œç¨‹åˆ†æ”¯$ git push origin --delete$ git branch -dr å…­ã€æ ‡ç­¾1234567891011121314151617181920# åˆ—å‡ºæ‰€æœ‰ tag$ git tag# åœ¨å½“å‰åˆ†æ”¯æ–°å»ºä¸€ä¸ª tag$ git tag [tag]# åœ¨æŒ‡å®š commit ä¸Šæ–°å»ºä¸€ä¸ª tag$ git tag [tag] [commit]# æŸ¥çœ‹ tag ä¿¡æ¯$ git show [tag]# æäº¤æŒ‡å®š tag$ git push [remote] [tag]# æäº¤æ‰€æœ‰ tag$ git push [remote] --tags# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ª tag$ git checkout -b [branch] [tag] ä¸ƒã€æŸ¥çœ‹ä¿¡æ¯123456789101112131415161718192021222324252627282930313233343536373839404142# æŸ¥çœ‹æœ‰å˜æ›´çš„æ–‡ä»¶$ git status# æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²$ git log# æŸ¥çœ‹ commit å†å²ï¼Œä»¥åŠæ¯æ¬¡ commit å‘ç”Ÿå˜æ›´çš„é—®ä»·$ git log --stat# æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬é—®ä»·æ”¹å$ git log --follow [file]$ git whatchanged [file]# æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡ diff$ git log -p [file]# æŸ¥çœ‹æŒ‡å®šæ–‡ä»¶ä»€ä¹ˆæ—¶é—´è¢«ä»€ä¹ˆäººä¿®æ”¹è¿‡$ git blame [file]# æŸ¥çœ‹å’‹é»å»å’Œå·¥ä½œåŒºçš„å·®å¼‚$ git diff# æŸ¥çœ‹æš‚å­˜åŒºå’Œä¸Šä¸€ä¸ª commit çš„å·®å¼‚$ git diff --cached []# æŸ¥çœ‹å·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–° commit ä¹‹é—´çš„å·®å¼‚$ git diff HEAD# æŸ¥çœ‹ä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚$ git diff [first-branch] ... [second-branch]# æŸ¥çœ‹æŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–$ git show [commit]# æŸ¥çœ‹æŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶$ git show --name-onle [commit]# æŸ¥çœ‹æŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹$ git show [commit]:[file-name]# æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤$ git reflog å…«ã€è¿œç¨‹åŒæ­¥1234567891011121314151617181920212223# ä¸‹è½½è¿œç¨‹ä»“åº“æ‰€æœ‰çš„å˜åŠ¨$ git fetch [remote]# æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“$ git remote -v# æŸ¥çœ‹æŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯git remote show [remote]# æ–°å¢ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶ä¸å…¶å‘½å$ git remote add [short-name] [url]# æ‹‰å–è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶$ git pull [remote] [branch]# ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“$ git push [remote] [branch]# å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª$ git push [remote] --forece# æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“$ git push [remote] --all ä¹ã€æ’¤é”€123456789101112131415161718192021222324252627# æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº$ git checkout [file]# æ¢å¤æŸä¸ª commit çš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº$ git checkout [commit] [file]# æ¢å¤ä¸Šä¸€ä¸ª commit çš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº$ git checkout .# é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡ commit ä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜$ git reset [file]# é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡ commit ä¿æŒä¸€è‡´git reser --hard# é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®š commitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜$ git reset [commit]# é‡ç½®å½“å‰åˆ†æ”¯çš„ HEAD ä¸ºæŒ‡å®š commitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®š commit ä¸€è‡´$ git reset --hard [commit]# é‡ç½®å½“å‰ HEAD ä¸ºæŒ‡å®š commitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜$ git reset --keep [commit]# æ–°å»ºä¸€ä¸ª commitï¼Œç”¨æ¥æ’¤é”€æŒ‡å®šçš„ commit# åè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯$ git revert [commit] åã€å…¶ä»–1234567891011121314# ç”Ÿæˆä¸€ä¸ªå¯ä¾›å‘å¸ƒçš„å‹ç¼©åŒ…$ git archive# å¤‡ä»½å½“å‰å·¥ä½œåŒºçš„å†…å®¹$ git stash# ä» Cit æ ˆä¸­è¯»å–æœ€è¿‘ä¸€æ¬¡ä¿å­˜çš„å†…å®¹ï¼Œæ¢å¤å·¥ä½œåŒºç›¸å…³çš„å†…å®¹$ git stash pop# æŸ¥çœ‹ Git æ ˆå†…æ‰€æœ‰å¤‡ä»½$ git stash list# æ¸…ç©º Git æ ˆ$ git stash clear","categories":[],"tags":[{"name":"Git","slug":"Git","permalink":"http://yoursite.com/tags/Git/"}]},{"title":"Hello World","slug":"hello-world","date":"2020-02-01T10:16:28.451Z","updated":"2020-02-01T10:16:28.451Z","comments":true,"path":"2020/02/01/hello-world/","link":"","permalink":"http://yoursite.com/2020/02/01/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"http://yoursite.com/tags/%E9%9A%8F%E6%83%B3/"},{"name":"Vue","slug":"Vue","permalink":"http://yoursite.com/tags/Vue/"},{"name":"TypeScript","slug":"TypeScript","permalink":"http://yoursite.com/tags/TypeScript/"},{"name":"npm","slug":"npm","permalink":"http://yoursite.com/tags/npm/"},{"name":"Git","slug":"Git","permalink":"http://yoursite.com/tags/Git/"}]}